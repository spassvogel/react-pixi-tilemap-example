const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-CGGmwtUc.js","assets/webworkerAll-B7KO0FJK.js","assets/colorToUniform-BXaCBwVl.js","assets/WebGPURenderer-CqQYhBqZ.js","assets/SharedSystems-Ua0TieQe.js","assets/WebGLRenderer-CLkIYfmV.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function e(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=e(r);fetch(r.href,c)}})();function Pm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var V0={exports:{}},Yf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function DS(){if(q_)return Yf;q_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,c){var f=null;if(c!==void 0&&(f=""+c),r.key!==void 0&&(f=""+r.key),"key"in r){c={};for(var d in r)d!=="key"&&(c[d]=r[d])}else c=r;return r=c.ref,{$$typeof:i,type:s,key:f,ref:r!==void 0?r:null,props:c}}return Yf.Fragment=t,Yf.jsx=e,Yf.jsxs=e,Yf}var j_;function HS(){return j_||(j_=1,V0.exports=DS()),V0.exports}var Le=HS(),Z0={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function NS(){if(V_)return te;V_=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function M(X){return X===null||typeof X!="object"?null:(X=E&&X[E]||X["@@iterator"],typeof X=="function"?X:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,H={};function R(X,lt,mt){this.props=X,this.context=lt,this.refs=H,this.updater=mt||w}R.prototype.isReactComponent={},R.prototype.setState=function(X,lt){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,lt,"setState")},R.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function D(){}D.prototype=R.prototype;function N(X,lt,mt){this.props=X,this.context=lt,this.refs=H,this.updater=mt||w}var Y=N.prototype=new D;Y.constructor=N,z(Y,R.prototype),Y.isPureReactComponent=!0;var L=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},tt=Object.prototype.hasOwnProperty;function K(X,lt,mt,vt,At,Dt){return mt=Dt.ref,{$$typeof:i,type:X,key:lt,ref:mt!==void 0?mt:null,props:Dt}}function gt(X,lt){return K(X.type,lt,void 0,void 0,void 0,X.props)}function pt(X){return typeof X=="object"&&X!==null&&X.$$typeof===i}function rt(X){var lt={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(mt){return lt[mt]})}var ot=/\/+/g;function Tt(X,lt){return typeof X=="object"&&X!==null&&X.key!=null?rt(""+X.key):lt.toString(36)}function jt(){}function Pt(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(jt,jt):(X.status="pending",X.then(function(lt){X.status==="pending"&&(X.status="fulfilled",X.value=lt)},function(lt){X.status==="pending"&&(X.status="rejected",X.reason=lt)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function $t(X,lt,mt,vt,At){var Dt=typeof X;(Dt==="undefined"||Dt==="boolean")&&(X=null);var zt=!1;if(X===null)zt=!0;else switch(Dt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(X.$$typeof){case i:case t:zt=!0;break;case v:return zt=X._init,$t(zt(X._payload),lt,mt,vt,At)}}if(zt)return At=At(X),zt=vt===""?"."+Tt(X,0):vt,L(At)?(mt="",zt!=null&&(mt=zt.replace(ot,"$&/")+"/"),$t(At,lt,mt,"",function(Si){return Si})):At!=null&&(pt(At)&&(At=gt(At,mt+(At.key==null||X&&X.key===At.key?"":(""+At.key).replace(ot,"$&/")+"/")+zt)),lt.push(At)),1;zt=0;var Fe=vt===""?".":vt+":";if(L(X))for(var It=0;It<X.length;It++)vt=X[It],Dt=Fe+Tt(vt,It),zt+=$t(vt,lt,mt,Dt,At);else if(It=M(X),typeof It=="function")for(X=It.call(X),It=0;!(vt=X.next()).done;)vt=vt.value,Dt=Fe+Tt(vt,It++),zt+=$t(vt,lt,mt,Dt,At);else if(Dt==="object"){if(typeof X.then=="function")return $t(Pt(X),lt,mt,vt,At);throw lt=String(X),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return zt}function q(X,lt,mt){if(X==null)return X;var vt=[],At=0;return $t(X,vt,"","",function(Dt){return lt.call(mt,Dt,At++)}),vt}function I(X){if(X._status===-1){var lt=X._result;lt=lt(),lt.then(function(mt){(X._status===0||X._status===-1)&&(X._status=1,X._result=mt)},function(mt){(X._status===0||X._status===-1)&&(X._status=2,X._result=mt)}),X._status===-1&&(X._status=0,X._result=lt)}if(X._status===1)return X._result.default;throw X._result}var yt=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function _t(){}return te.Children={map:q,forEach:function(X,lt,mt){q(X,function(){lt.apply(this,arguments)},mt)},count:function(X){var lt=0;return q(X,function(){lt++}),lt},toArray:function(X){return q(X,function(lt){return lt})||[]},only:function(X){if(!pt(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},te.Component=R,te.Fragment=e,te.Profiler=r,te.PureComponent=N,te.StrictMode=s,te.Suspense=_,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,te.__COMPILER_RUNTIME={__proto__:null,c:function(X){return F.H.useMemoCache(X)}},te.cache=function(X){return function(){return X.apply(null,arguments)}},te.cloneElement=function(X,lt,mt){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var vt=z({},X.props),At=X.key,Dt=void 0;if(lt!=null)for(zt in lt.ref!==void 0&&(Dt=void 0),lt.key!==void 0&&(At=""+lt.key),lt)!tt.call(lt,zt)||zt==="key"||zt==="__self"||zt==="__source"||zt==="ref"&&lt.ref===void 0||(vt[zt]=lt[zt]);var zt=arguments.length-2;if(zt===1)vt.children=mt;else if(1<zt){for(var Fe=Array(zt),It=0;It<zt;It++)Fe[It]=arguments[It+2];vt.children=Fe}return K(X.type,At,void 0,void 0,Dt,vt)},te.createContext=function(X){return X={$$typeof:f,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:c,_context:X},X},te.createElement=function(X,lt,mt){var vt,At={},Dt=null;if(lt!=null)for(vt in lt.key!==void 0&&(Dt=""+lt.key),lt)tt.call(lt,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(At[vt]=lt[vt]);var zt=arguments.length-2;if(zt===1)At.children=mt;else if(1<zt){for(var Fe=Array(zt),It=0;It<zt;It++)Fe[It]=arguments[It+2];At.children=Fe}if(X&&X.defaultProps)for(vt in zt=X.defaultProps,zt)At[vt]===void 0&&(At[vt]=zt[vt]);return K(X,Dt,void 0,void 0,null,At)},te.createRef=function(){return{current:null}},te.forwardRef=function(X){return{$$typeof:d,render:X}},te.isValidElement=pt,te.lazy=function(X){return{$$typeof:v,_payload:{_status:-1,_result:X},_init:I}},te.memo=function(X,lt){return{$$typeof:y,type:X,compare:lt===void 0?null:lt}},te.startTransition=function(X){var lt=F.T,mt={};F.T=mt;try{var vt=X(),At=F.S;At!==null&&At(mt,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(_t,yt)}catch(Dt){yt(Dt)}finally{F.T=lt}},te.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},te.use=function(X){return F.H.use(X)},te.useActionState=function(X,lt,mt){return F.H.useActionState(X,lt,mt)},te.useCallback=function(X,lt){return F.H.useCallback(X,lt)},te.useContext=function(X){return F.H.useContext(X)},te.useDebugValue=function(){},te.useDeferredValue=function(X,lt){return F.H.useDeferredValue(X,lt)},te.useEffect=function(X,lt,mt){var vt=F.H;if(typeof mt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return vt.useEffect(X,lt)},te.useId=function(){return F.H.useId()},te.useImperativeHandle=function(X,lt,mt){return F.H.useImperativeHandle(X,lt,mt)},te.useInsertionEffect=function(X,lt){return F.H.useInsertionEffect(X,lt)},te.useLayoutEffect=function(X,lt){return F.H.useLayoutEffect(X,lt)},te.useMemo=function(X,lt){return F.H.useMemo(X,lt)},te.useOptimistic=function(X,lt){return F.H.useOptimistic(X,lt)},te.useReducer=function(X,lt,mt){return F.H.useReducer(X,lt,mt)},te.useRef=function(X){return F.H.useRef(X)},te.useState=function(X){return F.H.useState(X)},te.useSyncExternalStore=function(X,lt,mt){return F.H.useSyncExternalStore(X,lt,mt)},te.useTransition=function(){return F.H.useTransition()},te.version="19.1.0",te}var Z_;function Wm(){return Z_||(Z_=1,Z0.exports=NS()),Z0.exports}var Vt=Wm();const k_=Pm(Vt);var k0={exports:{}},Lf={},Q0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function GS(){return Q_||(Q_=1,function(i){function t(q,I){var yt=q.length;q.push(I);t:for(;0<yt;){var _t=yt-1>>>1,X=q[_t];if(0<r(X,I))q[_t]=I,q[yt]=X,yt=_t;else break t}}function e(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var I=q[0],yt=q.pop();if(yt!==I){q[0]=yt;t:for(var _t=0,X=q.length,lt=X>>>1;_t<lt;){var mt=2*(_t+1)-1,vt=q[mt],At=mt+1,Dt=q[At];if(0>r(vt,yt))At<X&&0>r(Dt,vt)?(q[_t]=Dt,q[At]=yt,_t=At):(q[_t]=vt,q[mt]=yt,_t=mt);else if(At<X&&0>r(Dt,yt))q[_t]=Dt,q[At]=yt,_t=At;else break t}}return I}function r(q,I){var yt=q.sortIndex-I.sortIndex;return yt!==0?yt:q.id-I.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var _=[],y=[],v=1,E=null,M=3,w=!1,z=!1,H=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function L(q){for(var I=e(y);I!==null;){if(I.callback===null)s(y);else if(I.startTime<=q)s(y),I.sortIndex=I.expirationTime,t(_,I);else break;I=e(y)}}function F(q){if(H=!1,L(q),!z)if(e(_)!==null)z=!0,tt||(tt=!0,Tt());else{var I=e(y);I!==null&&$t(F,I.startTime-q)}}var tt=!1,K=-1,gt=5,pt=-1;function rt(){return R?!0:!(i.unstable_now()-pt<gt)}function ot(){if(R=!1,tt){var q=i.unstable_now();pt=q;var I=!0;try{t:{z=!1,H&&(H=!1,N(K),K=-1),w=!0;var yt=M;try{e:{for(L(q),E=e(_);E!==null&&!(E.expirationTime>q&&rt());){var _t=E.callback;if(typeof _t=="function"){E.callback=null,M=E.priorityLevel;var X=_t(E.expirationTime<=q);if(q=i.unstable_now(),typeof X=="function"){E.callback=X,L(q),I=!0;break e}E===e(_)&&s(_),L(q)}else s(_);E=e(_)}if(E!==null)I=!0;else{var lt=e(y);lt!==null&&$t(F,lt.startTime-q),I=!1}}break t}finally{E=null,M=yt,w=!1}I=void 0}}finally{I?Tt():tt=!1}}}var Tt;if(typeof Y=="function")Tt=function(){Y(ot)};else if(typeof MessageChannel<"u"){var jt=new MessageChannel,Pt=jt.port2;jt.port1.onmessage=ot,Tt=function(){Pt.postMessage(null)}}else Tt=function(){D(ot,0)};function $t(q,I){K=D(function(){q(i.unstable_now())},I)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):gt=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_next=function(q){switch(M){case 1:case 2:case 3:var I=3;break;default:I=M}var yt=M;M=I;try{return q()}finally{M=yt}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(q,I){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var yt=M;M=q;try{return I()}finally{M=yt}},i.unstable_scheduleCallback=function(q,I,yt){var _t=i.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?_t+yt:_t):yt=_t,q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=yt+X,q={id:v++,callback:I,priorityLevel:q,startTime:yt,expirationTime:X,sortIndex:-1},yt>_t?(q.sortIndex=yt,t(y,q),e(_)===null&&q===e(y)&&(H?(N(K),K=-1):H=!0,$t(F,yt-_t))):(q.sortIndex=X,t(_,q),z||w||(z=!0,tt||(tt=!0,Tt()))),q},i.unstable_shouldYield=rt,i.unstable_wrapCallback=function(q){var I=M;return function(){var yt=M;M=I;try{return q.apply(this,arguments)}finally{M=yt}}}}(F0)),F0}var F_;function YS(){return F_||(F_=1,Q0.exports=GS()),Q0.exports}var K0={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function LS(){if(K_)return bn;K_=1;var i=Wm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(_,y,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:_,containerInfo:y,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bn.createPortal=function(_,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,v)},bn.flushSync=function(_){var y=f.T,v=s.p;try{if(f.T=null,s.p=2,_)return _()}finally{f.T=y,s.p=v,s.d.f()}},bn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},bn.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},bn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var v=y.as,E=d(v,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,w=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:M,fetchPriority:w}):v==="script"&&s.d.X(_,{crossOrigin:E,integrity:M,fetchPriority:w,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},bn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=d(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},bn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,E=d(v,y.crossOrigin);s.d.L(_,v,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},bn.preloadModule=function(_,y){if(typeof _=="string")if(y){var v=d(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},bn.requestFormReset=function(_){s.d.r(_)},bn.unstable_batchedUpdates=function(_,y){return _(y)},bn.useFormState=function(_,y,v){return f.H.useFormState(_,y,v)},bn.useFormStatus=function(){return f.H.useHostTransitionStatus()},bn.version="19.1.0",bn}var P_;function XS(){if(P_)return K0.exports;P_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),K0.exports=LS(),K0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function qS(){if(W_)return Lf;W_=1;var i=YS(),t=Wm(),e=XS();function s(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var a=n,o=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(o=a.return),n=a.return;while(n)}return a.tag===3?o:null}function f(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function d(n){if(c(n)!==n)throw Error(s(188))}function _(n){var a=n.alternate;if(!a){if(a=c(n),a===null)throw Error(s(188));return a!==n?null:n}for(var o=n,h=a;;){var m=o.return;if(m===null)break;var x=m.alternate;if(x===null){if(h=m.return,h!==null){o=h;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===o)return d(m),n;if(x===h)return d(m),a;x=x.sibling}throw Error(s(188))}if(o.return!==h.return)o=m,h=x;else{for(var C=!1,O=m.child;O;){if(O===o){C=!0,o=m,h=x;break}if(O===h){C=!0,h=m,o=x;break}O=O.sibling}if(!C){for(O=x.child;O;){if(O===o){C=!0,o=x,h=m;break}if(O===h){C=!0,h=x,o=m;break}O=O.sibling}if(!C)throw Error(s(189))}}if(o.alternate!==h)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:a}function y(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=y(n),a!==null)return a;n=n.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),pt=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),ot=Symbol.iterator;function Tt(n){return n===null||typeof n!="object"?null:(n=ot&&n[ot]||n["@@iterator"],typeof n=="function"?n:null)}var jt=Symbol.for("react.client.reference");function Pt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===jt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case z:return"Fragment";case R:return"Profiler";case H:return"StrictMode";case F:return"Suspense";case tt:return"SuspenseList";case pt:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case Y:return(n.displayName||"Context")+".Provider";case N:return(n._context.displayName||"Context")+".Consumer";case L:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return a=n.displayName||null,a!==null?a:Pt(n.type)||"Memo";case gt:a=n._payload,n=n._init;try{return Pt(n(a))}catch{}}return null}var $t=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},_t=[],X=-1;function lt(n){return{current:n}}function mt(n){0>X||(n.current=_t[X],_t[X]=null,X--)}function vt(n,a){X++,_t[X]=n.current,n.current=a}var At=lt(null),Dt=lt(null),zt=lt(null),Fe=lt(null);function It(n,a){switch(vt(zt,a),vt(Dt,n),vt(At,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?m_(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=m_(a),n=y_(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}mt(At),vt(At,n)}function Si(){mt(At),mt(Dt),mt(zt)}function Xn(n){n.memoizedState!==null&&vt(Fe,n);var a=At.current,o=y_(a,n.type);a!==o&&(vt(Dt,n),vt(At,o))}function un(n){Dt.current===n&&(mt(At),mt(Dt)),Fe.current===n&&(mt(Fe),Uf._currentValue=yt)}var Ai=Object.prototype.hasOwnProperty,Ke=i.unstable_scheduleCallback,ri=i.unstable_cancelCallback,on=i.unstable_shouldYield,vl=i.unstable_requestPaint,Xe=i.unstable_now,rr=i.unstable_getCurrentPriorityLevel,ws=i.unstable_ImmediatePriority,cn=i.unstable_UserBlockingPriority,hn=i.unstable_NormalPriority,qn=i.unstable_LowPriority,xl=i.unstable_IdlePriority,Oo=i.log,na=i.unstable_setDisableYieldValue,bl=null,B=null;function S(n){if(typeof Oo=="function"&&na(n),B&&typeof B.setStrictMode=="function")try{B.setStrictMode(bl,n)}catch{}}var T=Math.clz32?Math.clz32:nt,G=Math.log,Q=Math.LN2;function nt(n){return n>>>=0,n===0?32:31-(G(n)/Q|0)|0}var ut=256,Nt=4194304;function ue(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ve(n,a,o){var h=n.pendingLanes;if(h===0)return 0;var m=0,x=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var O=h&134217727;return O!==0?(h=O&~x,h!==0?m=ue(h):(C&=O,C!==0?m=ue(C):o||(o=O&~n,o!==0&&(m=ue(o))))):(O=h&~x,O!==0?m=ue(O):C!==0?m=ue(C):o||(o=h&~n,o!==0&&(m=ue(o)))),m===0?0:a!==0&&a!==m&&(a&x)===0&&(x=m&-m,o=a&-a,x>=o||x===32&&(o&4194048)!==0)?a:m}function me(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function he(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fh(){var n=ut;return ut<<=1,(ut&4194048)===0&&(ut=256),n}function dh(){var n=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),n}function ur(n){for(var a=[],o=0;31>o;o++)a.push(n);return a}function or(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Uo(n,a,o,h,m,x){var C=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var O=n.entanglements,j=n.expirationTimes,$=n.hiddenUpdates;for(o=C&~o;0<o;){var ht=31-T(o),dt=1<<ht;O[ht]=0,j[ht]=-1;var it=$[ht];if(it!==null)for($[ht]=null,ht=0;ht<it.length;ht++){var at=it[ht];at!==null&&(at.lane&=-536870913)}o&=~dt}h!==0&&ph(n,h,0),x!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=x&~(C&~a))}function ph(n,a,o){n.pendingLanes|=a,n.suspendedLanes&=~a;var h=31-T(a);n.entangledLanes|=a,n.entanglements[h]=n.entanglements[h]|1073741824|o&4194090}function mh(n,a){var o=n.entangledLanes|=a;for(n=n.entanglements;o;){var h=31-T(o),m=1<<h;m&a|n[h]&a&&(n[h]|=a),o&=~m}}function cr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Sl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function gu(){var n=I.p;return n!==0?n:(n=window.event,n===void 0?32:H_(n.type))}function zd(n,a){var o=I.p;try{return I.p=n,a()}finally{I.p=o}}var Pa=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Pa,ji="__reactProps$"+Pa,Ts="__reactContainer$"+Pa,Aa="__reactEvents$"+Pa,Rd="__reactListeners$"+Pa,Ms="__reactHandles$"+Pa,Ea="__reactResources$"+Pa,Cs="__reactMarker$"+Pa;function Ve(n){delete n[Oi],delete n[ji],delete n[Aa],delete n[Rd],delete n[Ms]}function zs(n){var a=n[Oi];if(a)return a;for(var o=n.parentNode;o;){if(a=o[Ts]||o[Oi]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(n=x_(n);n!==null;){if(o=n[Oi])return o;n=x_(n)}return a}n=o,o=n.parentNode}return null}function Rs(n){if(n=n[Oi]||n[Ts]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function hr(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(s(33))}function Al(n){var a=n[Ea];return a||(a=n[Ea]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ei(n){n[Cs]=!0}var Do=new Set,Ho={};function Wa(n,a){pi(n,a),pi(n+"Capture",a)}function pi(n,a){for(Ho[n]=a,n=0;n<a.length;n++)Do.add(a[n])}var ui=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fr={},_u={};function yh(n){return Ai.call(_u,n)?!0:Ai.call(fr,n)?!1:ui.test(n)?_u[n]=!0:(fr[n]=!0,!1)}function jn(n,a,o){if(yh(a))if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+o)}}function El(n,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+o)}}function aa(n,a,o,h){if(h===null)n.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(a,o,""+h)}}var vu,gh;function wl(n){if(vu===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);vu=a&&a[1]||"",gh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vu+n+gh}var No=!1;function Go(n,a){if(!n||No)return"";No=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(at){var it=at}Reflect.construct(n,[],dt)}else{try{dt.call()}catch(at){it=at}n.call(dt.prototype)}}else{try{throw Error()}catch(at){it=at}(dt=n())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(at){if(at&&it&&typeof at.stack=="string")return[at.stack,it.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),C=x[0],O=x[1];if(C&&O){var j=C.split(`
`),$=O.split(`
`);for(m=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(h===j.length||m===$.length)for(h=j.length-1,m=$.length-1;1<=h&&0<=m&&j[h]!==$[m];)m--;for(;1<=h&&0<=m;h--,m--)if(j[h]!==$[m]){if(h!==1||m!==1)do if(h--,m--,0>m||j[h]!==$[m]){var ht=`
`+j[h].replace(" at new "," at ");return n.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",n.displayName)),ht}while(1<=h&&0<=m);break}}}finally{No=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?wl(o):""}function Bd(n){switch(n.tag){case 26:case 27:case 5:return wl(n.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 15:return Go(n.type,!1);case 11:return Go(n.type.render,!1);case 1:return Go(n.type,!0);case 31:return wl("Activity");default:return""}}function _h(n){try{var a="";do a+=Bd(n),n=n.return;while(n);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function vh(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function l0(n){var a=vh(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),h=""+n[a];if(!n.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,x=o.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return m.call(this)},set:function(C){h=""+C,x.call(this,C)}}),Object.defineProperty(n,a,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function xu(n){n._valueTracker||(n._valueTracker=l0(n))}function xh(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var o=a.getValue(),h="";return n&&(h=vh(n)?n.checked?"true":"false":n.value),n=h,n!==o?(a.setValue(n),!0):!1}function bu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var bh=/[\n"\\]/g;function Sn(n){return n.replace(bh,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Yo(n,a,o,h,m,x,C,O){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),a!=null?C==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+fn(a)):n.value!==""+fn(a)&&(n.value=""+fn(a)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),a!=null?Lo(n,C,fn(a)):o!=null?Lo(n,C,fn(o)):h!=null&&n.removeAttribute("value"),m==null&&x!=null&&(n.defaultChecked=!!x),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?n.name=""+fn(O):n.removeAttribute("name")}function Sh(n,a,o,h,m,x,C,O){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),a!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;o=o!=null?""+fn(o):"",a=a!=null?""+fn(a):o,O||a===n.value||(n.value=a),n.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=O?n.checked:!!h,n.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C)}function Lo(n,a,o){a==="number"&&bu(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Tl(n,a,o,h){if(n=n.options,a){a={};for(var m=0;m<o.length;m++)a["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=a.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&h&&(n[o].defaultSelected=!0)}else{for(o=""+fn(o),a=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,h&&(n[m].defaultSelected=!0);return}a!==null||n[m].disabled||(a=n[m])}a!==null&&(a.selected=!0)}}function Od(n,a,o){if(a!=null&&(a=""+fn(a),a!==n.value&&(n.value=a),o==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=o!=null?""+fn(o):""}function Ah(n,a,o,h){if(a==null){if(h!=null){if(o!=null)throw Error(s(92));if($t(h)){if(1<h.length)throw Error(s(93));h=h[0]}o=h}o==null&&(o=""),a=o}o=fn(a),n.defaultValue=o,h=n.textContent,h===o&&h!==""&&h!==null&&(n.value=h)}function sa(n,a){if(a){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=a;return}}n.textContent=a}var Ud=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(n,a,o){var h=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":h?n.setProperty(a,o):typeof o!="number"||o===0||Ud.has(a)?a==="float"?n.cssFloat=o:n[a]=(""+o).trim():n[a]=o+"px"}function Au(n,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(n=n.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&o[m]!==h&&Su(n,m,h)}else for(var x in a)a.hasOwnProperty(x)&&Su(n,x,a[x])}function Xo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eu(n){return Dd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var qo=null;function jo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Bs=null,Ml=null;function wh(n){var a=Rs(n);if(a&&(n=a.stateNode)){var o=n[ji]||null;t:switch(n=a.stateNode,a.type){case"input":if(Yo(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var h=o[a];if(h!==n&&h.form===n.form){var m=h[ji]||null;if(!m)throw Error(s(90));Yo(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<o.length;a++)h=o[a],h.form===n.form&&xh(h)}break t;case"textarea":Od(n,o.value,o.defaultValue);break t;case"select":a=o.value,a!=null&&Tl(n,!!o.multiple,a,!1)}}}var wu=!1;function Th(n,a,o){if(wu)return n(a,o);wu=!0;try{var h=n(a);return h}finally{if(wu=!1,(Bs!==null||Ml!==null)&&(Xa(),Bs&&(a=Bs,n=Ml,Ml=Bs=null,wh(a),n)))for(a=0;a<n.length;a++)wh(n[a])}}function dr(n,a){var o=n.stateNode;if(o===null)return null;var h=o[ji]||null;if(h===null)return null;o=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=!1;if(wa)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{Tu=!1}var Ia=null,Mh=null,Vo=null;function Ch(){if(Vo)return Vo;var n,a=Mh,o=a.length,h,m="value"in Ia?Ia.value:Ia.textContent,x=m.length;for(n=0;n<o&&a[n]===m[n];n++);var C=o-n;for(h=1;h<=C&&a[o-h]===m[x-h];h++);return Vo=m.slice(n,1<h?1-h:void 0)}function Os(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function mr(){return!0}function Mu(){return!1}function Wi(n){function a(o,h,m,x,C){this._reactName=o,this._targetInst=m,this.type=h,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var O in n)n.hasOwnProperty(O)&&(o=n[O],this[O]=o?o(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?mr:Mu,this.isPropagationStopped=Mu,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),a}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=Wi(Us),gr=v({},Us,{view:0,detail:0}),Hd=Wi(gr),Ja,_r,vr,xr=v({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vr&&(vr&&n.type==="mousemove"?(Ja=n.screenX-vr.screenX,_r=n.screenY-vr.screenY):_r=Ja=0,vr=n),Ja)},movementY:function(n){return"movementY"in n?n.movementY:_r}}),zh=Wi(xr),Nd=v({},xr,{dataTransfer:0}),r0=Wi(Nd),Ui=v({},gr,{relatedTarget:0}),Zo=Wi(Ui),Gd=v({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),Yd=Wi(Gd),Ld=v({},Us,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xd=Wi(Ld),Cu=v({},Us,{data:0}),ko=Wi(Cu),qd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rh(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Vd[n])?!!a[n]:!1}function zu(){return Rh}var Zd=v({},gr,{key:function(n){if(n.key){var a=qd[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Os(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jd[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(n){return n.type==="keypress"?Os(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Os(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Bh=Wi(Zd),Oh=v({},xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=Wi(Oh),kd=v({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),Uh=Wi(kd),Qd=v({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),$a=Wi(Qd),Dh=v({},xr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),u0=Wi(Dh),Fd=v({},Us,{newState:0,oldState:0}),Ds=Wi(Fd),ts=[9,13,27,32],Ru=wa&&"CompositionEvent"in window,Cl=null;wa&&"documentMode"in document&&(Cl=document.documentMode);var Bu=wa&&"TextEvent"in window&&!Cl,Ou=wa&&(!Ru||Cl&&8<Cl&&11>=Cl),Hs=" ",Di=!1;function Uu(n,a){switch(n){case"keyup":return ts.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ns=!1;function Du(n,a){switch(n){case"compositionend":return Hh(a);case"keypress":return a.which!==32?null:(Di=!0,Hs);case"textInput":return n=a.data,n===Hs&&Di?null:n;default:return null}}function Nh(n,a){if(Ns)return n==="compositionend"||!Ru&&Uu(n,a)?(n=Ch(),Vo=Mh=Ia=null,Ns=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ou&&a.locale!=="ko"?null:a.data;default:return null}}var Fo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gh(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Fo[n.type]:a==="textarea"}function dn(n,a,o,h){Bs?Ml?Ml.push(h):Ml=[h]:Bs=h,a=Qp(a,"onChange"),0<a.length&&(o=new yr("onChange","change",null,o,h),n.push({event:o,listeners:a}))}var br=null,zl=null;function Kd(n){c_(n,0)}function Hu(n){var a=hr(n);if(xh(a))return n}function Ko(n,a){if(n==="change")return a}var Po=!1;if(wa){var Wo;if(wa){var Sr="oninput"in document;if(!Sr){var Ar=document.createElement("div");Ar.setAttribute("oninput","return;"),Sr=typeof Ar.oninput=="function"}Wo=Sr}else Wo=!1;Po=Wo&&(!document.documentMode||9<document.documentMode)}function qe(){br&&(br.detachEvent("onpropertychange",Pd),zl=br=null)}function Pd(n){if(n.propertyName==="value"&&Hu(zl)){var a=[];dn(a,zl,n,jo(n)),Th(Kd,a)}}function o0(n,a,o){n==="focusin"?(qe(),br=a,zl=o,br.attachEvent("onpropertychange",Pd)):n==="focusout"&&qe()}function Wd(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hu(zl)}function Nu(n,a){if(n==="click")return Hu(a)}function Gs(n,a){if(n==="input"||n==="change")return Hu(a)}function Id(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var pn=typeof Object.is=="function"?Object.is:Id;function la(n,a){if(pn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var o=Object.keys(n),h=Object.keys(a);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var m=o[h];if(!Ai.call(a,m)||!pn(n[m],a[m]))return!1}return!0}function mn(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Yh(n,a){var o=mn(n);n=0;for(var h;o;){if(o.nodeType===3){if(h=n+o.textContent.length,n<=a&&h>=a)return{node:o,offset:a-n};n=h}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=mn(o)}}function Lh(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Lh(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Xh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=bu(n.document);a instanceof n.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)n=a.contentWindow;else break;a=bu(n.document)}return a}function Gu(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var qh=wa&&"documentMode"in document&&11>=document.documentMode,es=null,Io=null,Yu=null,Jo=!1;function jh(n,a,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Jo||es==null||es!==bu(h)||(h=es,"selectionStart"in h&&Gu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Yu&&la(Yu,h)||(Yu=h,h=Qp(Io,"onSelect"),0<h.length&&(a=new yr("onSelect","select",null,a,o),n.push({event:a,listeners:h}),a.target=es)))}function Hi(n,a){var o={};return o[n.toLowerCase()]=a.toLowerCase(),o["Webkit"+n]="webkit"+a,o["Moz"+n]="moz"+a,o}var Ys={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},$o={},Jd={};wa&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function is(n){if($o[n])return $o[n];if(!Ys[n])return n;var a=Ys[n],o;for(o in a)if(a.hasOwnProperty(o)&&o in Jd)return $o[n]=a[o];return n}var Ii=is("animationend"),Vh=is("animationiteration"),yn=is("animationstart"),$d=is("transitionrun"),ns=is("transitionstart"),Er=is("transitioncancel"),as=is("transitionend"),tc=new Map,Lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lu.push("scrollEnd");function wi(n,a){tc.set(n,a),Wa(a,[n])}var Zh=new WeakMap;function Ni(n,a){if(typeof n=="object"&&n!==null){var o=Zh.get(n);return o!==void 0?o:(a={value:n,source:a,stack:_h(a)},Zh.set(n,a),a)}return{value:n,source:a,stack:_h(a)}}var Vi=[],Vn=0,ec=0;function Xu(){for(var n=Vn,a=ec=Vn=0;a<n;){var o=Vi[a];Vi[a++]=null;var h=Vi[a];Vi[a++]=null;var m=Vi[a];Vi[a++]=null;var x=Vi[a];if(Vi[a++]=null,h!==null&&m!==null){var C=h.pending;C===null?m.next=m:(m.next=C.next,C.next=m),h.pending=m}x!==0&&kh(o,m,x)}}function Ls(n,a,o,h){Vi[Vn++]=n,Vi[Vn++]=a,Vi[Vn++]=o,Vi[Vn++]=h,ec|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function ic(n,a,o,h){return Ls(n,a,o,h),wr(n)}function ss(n,a){return Ls(n,null,null,a),wr(n)}function kh(n,a,o){n.lanes|=o;var h=n.alternate;h!==null&&(h.lanes|=o);for(var m=!1,x=n.return;x!==null;)x.childLanes|=o,h=x.alternate,h!==null&&(h.childLanes|=o),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(m=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,m&&a!==null&&(m=31-T(o),n=x.hiddenUpdates,h=n[m],h===null?n[m]=[a]:h.push(a),a.lane=o|536870912),x):null}function wr(n){if(50<La)throw La=0,Fl=null,Error(s(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Xs={};function Qh(n,a,o,h){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,a,o,h){return new Qh(n,a,o,h)}function qu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ti(n,a){var o=n.alternate;return o===null?(o=gn(n.tag,a,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=a,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,a=n.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Fh(n,a){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,a=o.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Ti(n,a,o,h,m,x){var C=0;if(h=n,typeof n=="function")qu(n)&&(C=1);else if(typeof n=="string")C=bS(n,o,At.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case pt:return n=gn(31,o,a,m),n.elementType=pt,n.lanes=x,n;case z:return qs(o.children,m,x,a);case H:C=8,m|=24;break;case R:return n=gn(12,o,a,m|2),n.elementType=R,n.lanes=x,n;case F:return n=gn(13,o,a,m),n.elementType=F,n.lanes=x,n;case tt:return n=gn(19,o,a,m),n.elementType=tt,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:case Y:C=10;break t;case N:C=9;break t;case L:C=11;break t;case K:C=14;break t;case gt:C=16,h=null;break t}C=29,o=Error(s(130,n===null?"null":typeof n,"")),h=null}return a=gn(C,o,a,m),a.elementType=n,a.type=h,a.lanes=x,a}function qs(n,a,o,h){return n=gn(7,n,h,a),n.lanes=o,n}function ju(n,a,o){return n=gn(6,n,null,a),n.lanes=o,n}function nc(n,a,o){return a=gn(4,n.children!==null?n.children:[],n.key,a),a.lanes=o,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Tr=[],_n=0,Vu=null,Mr=0,Gi=[],An=0,js=null,Ta=1,Ma="";function ls(n,a){Tr[_n++]=Mr,Tr[_n++]=Vu,Vu=n,Mr=a}function ac(n,a,o){Gi[An++]=Ta,Gi[An++]=Ma,Gi[An++]=js,js=n;var h=Ta;n=Ma;var m=32-T(h)-1;h&=~(1<<m),o+=1;var x=32-T(a)+m;if(30<x){var C=m-m%5;x=(h&(1<<C)-1).toString(32),h>>=C,m-=C,Ta=1<<32-T(a)+m|o<<m|h,Ma=x+n}else Ta=1<<x|o<<m|h,Ma=n}function Kh(n){n.return!==null&&(ls(n,1),ac(n,1,0))}function Ph(n){for(;n===Vu;)Vu=Tr[--_n],Tr[_n]=null,Mr=Tr[--_n],Tr[_n]=null;for(;n===js;)js=Gi[--An],Gi[An]=null,Ma=Gi[--An],Gi[An]=null,Ta=Gi[--An],Gi[An]=null}var Ji=null,Ze=null,ye=!1,Zn=null,En=!1,sc=Error(s(519));function Vs(n){var a=Error(s(418,""));throw Rl(Ni(a,n)),sc}function tp(n){var a=n.stateNode,o=n.type,h=n.memoizedProps;switch(a[Oi]=n,a[ji]=h,o){case"dialog":se("cancel",a),se("close",a);break;case"iframe":case"object":case"embed":se("load",a);break;case"video":case"audio":for(o=0;o<Mf.length;o++)se(Mf[o],a);break;case"source":se("error",a);break;case"img":case"image":case"link":se("error",a),se("load",a);break;case"details":se("toggle",a);break;case"input":se("invalid",a),Sh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),xu(a);break;case"select":se("invalid",a);break;case"textarea":se("invalid",a),Ah(a,h.value,h.defaultValue,h.children),xu(a)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||h.suppressHydrationWarning===!0||p_(a.textContent,o)?(h.popover!=null&&(se("beforetoggle",a),se("toggle",a)),h.onScroll!=null&&se("scroll",a),h.onScrollEnd!=null&&se("scrollend",a),h.onClick!=null&&(a.onclick=Fp),a=!0):a=!1,a||Vs(n)}function Wh(n){for(Ji=n.return;Ji;)switch(Ji.tag){case 5:case 13:En=!1;return;case 27:case 3:En=!0;return;default:Ji=Ji.return}}function ra(n){if(n!==Ji)return!1;if(!ye)return Wh(n),ye=!0,!1;var a=n.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||z0(n.type,n.memoizedProps)),o=!o),o&&Ze&&Vs(n),Wh(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(a===0){Ze=xs(n.nextSibling);break t}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;n=n.nextSibling}Ze=null}}else a===27?(a=Ze,Jr(n.type)?(n=U0,U0=null,Ze=n):Ze=a):Ze=Ji?xs(n.stateNode.nextSibling):null;return!0}function Cr(){Ze=Ji=null,ye=!1}function xe(){var n=Zn;return n!==null&&(Ht===null?Ht=n:Ht.push.apply(Ht,n),Zn=null),n}function Rl(n){Zn===null?Zn=[n]:Zn.push(n)}var Ih=lt(null),Zs=null,rs=null;function ks(n,a,o){vt(Ih,a._currentValue),a._currentValue=o}function us(n){n._currentValue=Ih.current,mt(Ih)}function Jh(n,a,o){for(;n!==null;){var h=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),n===o)break;n=n.return}}function Zu(n,a,o,h){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var x=m.dependencies;if(x!==null){var C=m.child;x=x.firstContext;t:for(;x!==null;){var O=x;x=m;for(var j=0;j<a.length;j++)if(O.context===a[j]){x.lanes|=o,O=x.alternate,O!==null&&(O.lanes|=o),Jh(x.return,o,n),h||(C=null);break t}x=O.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(s(341));C.lanes|=o,x=C.alternate,x!==null&&(x.lanes|=o),Jh(C,o,n),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===n){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function kn(n,a,o,h){n=null;for(var m=a,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var O=m.type;pn(m.pendingProps.value,C.value)||(n!==null?n.push(O):n=[O])}}else if(m===Fe.current){if(C=m.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Uf):n=[Uf])}m=m.return}n!==null&&Zu(a,n,o,h),a.flags|=262144}function ku(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ca(n){Zs=n,rs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Pe(n){return lc(Zs,n)}function Qu(n,a){return Zs===null&&Ca(n),lc(n,a)}function lc(n,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},rs===null){if(n===null)throw Error(s(308));rs=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else rs=rs.next=a;return o}var $h=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(o,h){n.push(h)}};this.abort=function(){a.aborted=!0,n.forEach(function(o){return o()})}},c0=i.unstable_scheduleCallback,ep=i.unstable_NormalPriority,oi={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rc(){return{controller:new $h,data:new Map,refCount:0}}function zr(n){n.refCount--,n.refCount===0&&c0(ep,function(){n.controller.abort()})}var Rr=null,Fu=0,Ft=0,Br=null;function wn(n,a){if(Rr===null){var o=Rr=[];Fu=0,Ft=x0(),Br={status:"pending",value:void 0,then:function(h){o.push(h)}}}return Fu++,a.then(uc,uc),a}function uc(){if(--Fu===0&&Rr!==null){Br!==null&&(Br.status="fulfilled");var n=Rr;Rr=null,Ft=0,Br=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function h0(n,a){var o=[],h={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<o.length;m++)(0,o[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),h}var Ku=q.S;q.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&wn(n,a),Ku!==null&&Ku(n,a)};var Qn=lt(null);function Qs(){var n=Qn.current;return n!==null?n:kt.pooledCache}function Pu(n,a){a===null?vt(Qn,Qn.current):vt(Qn,a.pool)}function oc(){var n=Qs();return n===null?null:{parent:oi._currentValue,pool:n}}var Wu=Error(s(460)),tf=Error(s(474)),ua=Error(s(542)),Iu={then:function(){}};function cc(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Or(){}function hc(n,a,o){switch(o=n[o],o===void 0?n.push(a):o!==a&&(a.then(Or,Or),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,ip(n),n;default:if(typeof a.status=="string")a.then(Or,Or);else{if(n=kt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=a,n.status="pending",n.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,ip(n),n}throw Fn=a,Wu}}var Fn=null;function ef(){if(Fn===null)throw Error(s(459));var n=Fn;return Fn=null,n}function ip(n){if(n===Wu||n===ua)throw Error(s(483))}var os=!1;function nf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lt(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function za(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function cs(n,a,o){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(be&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=wr(n),kh(n,null,o),a}return Ls(n,h,a,o),wr(n)}function Bl(n,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var h=a.lanes;h&=n.pendingLanes,o|=h,a.lanes=o,mh(n,o)}}function Ur(n,a){var o=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var m=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?m=x=C:x=x.next=C,o=o.next}while(o!==null);x===null?m=x=a:x=x.next=a}else m=x=a;o={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=a:n.next=a,o.lastBaseUpdate=a}var af=!1;function Ju(){if(af){var n=Br;if(n!==null)throw n}}function Dr(n,a,o,h){af=!1;var m=n.updateQueue;os=!1;var x=m.firstBaseUpdate,C=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var j=O,$=j.next;j.next=null,C===null?x=$:C.next=$,C=j;var ht=n.alternate;ht!==null&&(ht=ht.updateQueue,O=ht.lastBaseUpdate,O!==C&&(O===null?ht.firstBaseUpdate=$:O.next=$,ht.lastBaseUpdate=j))}if(x!==null){var dt=m.baseState;C=0,ht=$=j=null,O=x;do{var it=O.lane&-536870913,at=it!==O.lane;if(at?(Ot&it)===it:(h&it)===it){it!==0&&it===Ft&&(af=!0),ht!==null&&(ht=ht.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var qt=n,Gt=O;it=a;var Ne=o;switch(Gt.tag){case 1:if(qt=Gt.payload,typeof qt=="function"){dt=qt.call(Ne,dt,it);break t}dt=qt;break t;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Gt.payload,it=typeof qt=="function"?qt.call(Ne,dt,it):qt,it==null)break t;dt=v({},dt,it);break t;case 2:os=!0}}it=O.callback,it!==null&&(n.flags|=64,at&&(n.flags|=8192),at=m.callbacks,at===null?m.callbacks=[it]:at.push(it))}else at={lane:it,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ht===null?($=ht=at,j=dt):ht=ht.next=at,C|=it;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;at=O,O=at.next,at.next=null,m.lastBaseUpdate=at,m.shared.pending=null}}while(!0);ht===null&&(j=dt),m.baseState=j,m.firstBaseUpdate=$,m.lastBaseUpdate=ht,x===null&&(m.shared.lanes=0),ya|=C,n.lanes=C,n.memoizedState=dt}}function Hr(n,a){if(typeof n!="function")throw Error(s(191,n));n.call(a)}function np(n,a){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Hr(o[n],a)}var Nr=lt(null),fc=lt(0);function ap(n,a){n=$n,vt(fc,n),vt(Nr,a),$n=n|a.baseLanes}function sf(){vt(fc,$n),vt(Nr,Nr.current)}function $u(){$n=fc.current,mt(Nr),mt(fc)}var hs=0,Kt=null,Ee=null,ci=null,dc=!1,Fs=!1,$i=!1,mi=0,Kn=0,Yi=null,sp=0;function ei(){throw Error(s(321))}function Zi(n,a){if(a===null)return!1;for(var o=0;o<a.length&&o<n.length;o++)if(!pn(n[o],a[o]))return!1;return!0}function fs(n,a,o,h,m,x){return hs=x,Kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,q.H=n===null||n.memoizedState===null?Sc:bf,$i=!1,x=o(h,m),$i=!1,Fs&&(x=rp(a,o,h,m)),lp(n),x}function lp(n){q.H=io;var a=Ee!==null&&Ee.next!==null;if(hs=0,ci=Ee=Kt=null,dc=!1,Kn=0,Yi=null,a)throw Error(s(300));n===null||Mi||(n=n.dependencies,n!==null&&ku(n)&&(Mi=!0))}function rp(n,a,o,h){Kt=n;var m=0;do{if(Fs&&(Yi=null),Kn=0,Fs=!1,25<=m)throw Error(s(301));if(m+=1,ci=Ee=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}q.H=Up,x=a(o,h)}while(Fs);return x}function f0(){var n=q.H,a=n.useState()[0];return a=typeof a.then=="function"?oa(a):a,n=n.useState()[0],(Ee!==null?Ee.memoizedState:null)!==n&&(Kt.flags|=1024),a}function lf(){var n=mi!==0;return mi=0,n}function pc(n,a,o){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~o}function rf(n){if(dc){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}dc=!1}hs=0,ci=Ee=Kt=null,Fs=!1,Kn=mi=0,Yi=null}function tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?Kt.memoizedState=ci=n:ci=ci.next=n,ci}function hi(){if(Ee===null){var n=Kt.alternate;n=n!==null?n.memoizedState:null}else n=Ee.next;var a=ci===null?Kt.memoizedState:ci.next;if(a!==null)ci=a,Ee=n;else{if(n===null)throw Kt.alternate===null?Error(s(467)):Error(s(310));Ee=n,n={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},ci===null?Kt.memoizedState=ci=n:ci=ci.next=n}return ci}function Ks(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oa(n){var a=Kn;return Kn+=1,Yi===null&&(Yi=[]),n=hc(Yi,n,a),a=Kt,(ci===null?a.memoizedState:ci.next)===null&&(a=a.alternate,q.H=a===null||a.memoizedState===null?Sc:bf),n}function mc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return oa(n);if(n.$$typeof===Y)return Pe(n)}throw Error(s(438,String(n)))}function uf(n){var a=null,o=Kt.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var h=Kt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Ks(),Kt.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(n),h=0;h<n;h++)o[h]=rt;return a.index++,o}function ds(n,a){return typeof a=="function"?a(n):a}function Ps(n){var a=hi();return of(a,Ee,n)}function of(n,a,o){var h=n.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=o;var m=n.baseQueue,x=h.pending;if(x!==null){if(m!==null){var C=m.next;m.next=x.next,x.next=C}a.baseQueue=m=x,h.pending=null}if(x=n.baseState,m===null)n.memoizedState=x;else{a=m.next;var O=C=null,j=null,$=a,ht=!1;do{var dt=$.lane&-536870913;if(dt!==$.lane?(Ot&dt)===dt:(hs&dt)===dt){var it=$.revertLane;if(it===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),dt===Ft&&(ht=!0);else if((hs&it)===it){$=$.next,it===Ft&&(ht=!0);continue}else dt={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(O=j=dt,C=x):j=j.next=dt,Kt.lanes|=it,ya|=it;dt=$.action,$i&&o(x,dt),x=$.hasEagerState?$.eagerState:o(x,dt)}else it={lane:dt,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(O=j=it,C=x):j=j.next=it,Kt.lanes|=dt,ya|=dt;$=$.next}while($!==null&&$!==a);if(j===null?C=x:j.next=O,!pn(x,n.memoizedState)&&(Mi=!0,ht&&(o=Br,o!==null)))throw o;n.memoizedState=x,n.baseState=C,n.baseQueue=j,h.lastRenderedState=x}return m===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function cf(n){var a=hi(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var h=o.dispatch,m=o.pending,x=a.memoizedState;if(m!==null){o.pending=null;var C=m=m.next;do x=n(x,C.action),C=C.next;while(C!==m);pn(x,a.memoizedState)||(Mi=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),o.lastRenderedState=x}return[x,h]}function up(n,a,o){var h=Kt,m=hi(),x=ye;if(x){if(o===void 0)throw Error(s(407));o=o()}else o=a();var C=!pn((Ee||m).memoizedState,o);C&&(m.memoizedState=o,Mi=!0),m=m.queue;var O=cp.bind(null,h,m,n);if(Lr(2048,8,O,[n]),m.getSnapshot!==a||C||ci!==null&&ci.memoizedState.tag&1){if(h.flags|=2048,Yr(9,to(),op.bind(null,h,m,o,a),null),kt===null)throw Error(s(349));x||(hs&124)!==0||Gr(h,a,o)}return o}function Gr(n,a,o){n.flags|=16384,n={getSnapshot:a,value:o},a=Kt.updateQueue,a===null?(a=Ks(),Kt.updateQueue=a,a.stores=[n]):(o=a.stores,o===null?a.stores=[n]:o.push(n))}function op(n,a,o,h){a.value=o,a.getSnapshot=h,hp(a)&&fp(n)}function cp(n,a,o){return o(function(){hp(a)&&fp(n)})}function hp(n){var a=n.getSnapshot;n=n.value;try{var o=a();return!pn(n,o)}catch{return!0}}function fp(n){var a=ss(n,2);a!==null&&an(a,n,2)}function hf(n){var a=tn();if(typeof n=="function"){var o=n;if(n=o(),$i){S(!0);try{o()}finally{S(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:n},a}function dp(n,a,o,h){return n.baseState=o,of(n,Ee,typeof h=="function"?h:ds)}function d0(n,a,o,h,m){if(bc(n))throw Error(s(485));if(n=a.action,n!==null){var x={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};q.T!==null?o(!0):x.isTransition=!1,h(x),o=a.pending,o===null?(x.next=a.pending=x,pp(a,x)):(x.next=o.next,a.pending=o.next=x)}}function pp(n,a){var o=a.action,h=a.payload,m=n.state;if(a.isTransition){var x=q.T,C={};q.T=C;try{var O=o(m,h),j=q.S;j!==null&&j(C,O),mp(n,a,O)}catch($){ff(n,a,$)}finally{q.T=x}}else try{x=o(m,h),mp(n,a,x)}catch($){ff(n,a,$)}}function mp(n,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){yp(n,a,h)},function(h){return ff(n,a,h)}):yp(n,a,o)}function yp(n,a,o){a.status="fulfilled",a.value=o,gp(a),n.state=o,a=n.pending,a!==null&&(o=a.next,o===a?n.pending=null:(o=o.next,a.next=o,pp(n,o)))}function ff(n,a,o){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=o,gp(a),a=a.next;while(a!==h)}n.action=null}function gp(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function df(n,a){return a}function _p(n,a){if(ye){var o=kt.formState;if(o!==null){t:{var h=Kt;if(ye){if(Ze){e:{for(var m=Ze,x=En;m.nodeType!==8;){if(!x){m=null;break e}if(m=xs(m.nextSibling),m===null){m=null;break e}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){Ze=xs(m.nextSibling),h=m.data==="F!";break t}}Vs(h)}h=!1}h&&(a=o[0])}}return o=tn(),o.memoizedState=o.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:a},o.queue=h,o=Bp.bind(null,Kt,h),h.dispatch=o,h=hf(!1),x=xc.bind(null,Kt,!1,h.queue),h=tn(),m={state:a,dispatch:null,action:n,pending:null},h.queue=m,o=d0.bind(null,Kt,m,x,o),m.dispatch=o,h.memoizedState=n,[a,o,!1]}function vp(n){var a=hi();return xp(a,Ee,n)}function xp(n,a,o){if(a=of(n,a,df)[0],n=Ps(ds)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=oa(a)}catch(C){throw C===Wu?ua:C}else h=a;a=hi();var m=a.queue,x=m.dispatch;return o!==a.memoizedState&&(Kt.flags|=2048,Yr(9,to(),p0.bind(null,m,o),null)),[h,x,n]}function p0(n,a){n.action=a}function bp(n){var a=hi(),o=Ee;if(o!==null)return xp(a,o,n);hi(),a=a.memoizedState,o=hi();var h=o.queue.dispatch;return o.memoizedState=n,[a,h,!1]}function Yr(n,a,o,h){return n={tag:n,create:o,deps:h,inst:a,next:null},a=Kt.updateQueue,a===null&&(a=Ks(),Kt.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=n.next=n:(h=o.next,o.next=n,n.next=h,a.lastEffect=n),n}function to(){return{destroy:void 0,resource:void 0}}function pf(){return hi().memoizedState}function yc(n,a,o,h){var m=tn();h=h===void 0?null:h,Kt.flags|=n,m.memoizedState=Yr(1|a,to(),o,h)}function Lr(n,a,o,h){var m=hi();h=h===void 0?null:h;var x=m.memoizedState.inst;Ee!==null&&h!==null&&Zi(h,Ee.memoizedState.deps)?m.memoizedState=Yr(a,x,o,h):(Kt.flags|=n,m.memoizedState=Yr(1|a,x,o,h))}function mf(n,a){yc(8390656,8,n,a)}function yf(n,a){Lr(2048,8,n,a)}function gc(n,a){return Lr(4,2,n,a)}function _c(n,a){return Lr(4,4,n,a)}function Sp(n,a){if(typeof a=="function"){n=n();var o=a(n);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Ap(n,a,o){o=o!=null?o.concat([n]):null,Lr(4,4,Sp.bind(null,a,n),o)}function gf(){}function Ep(n,a){var o=hi();a=a===void 0?null:a;var h=o.memoizedState;return a!==null&&Zi(a,h[1])?h[0]:(o.memoizedState=[n,a],n)}function _f(n,a){var o=hi();a=a===void 0?null:a;var h=o.memoizedState;if(a!==null&&Zi(a,h[1]))return h[0];if(h=n(),$i){S(!0);try{n()}finally{S(!1)}}return o.memoizedState=[h,a],h}function vc(n,a,o){return o===void 0||(hs&1073741824)!==0?n.memoizedState=a:(n.memoizedState=o,n=Uc(),Kt.lanes|=n,ya|=n,o)}function wp(n,a,o,h){return pn(o,a)?o:Nr.current!==null?(n=vc(n,o,h),pn(n,a)||(Mi=!0),n):(hs&42)===0?(Mi=!0,n.memoizedState=o):(n=Uc(),Kt.lanes|=n,ya|=n,a)}function Tp(n,a,o,h,m){var x=I.p;I.p=x!==0&&8>x?x:8;var C=q.T,O={};q.T=O,xc(n,!1,a,o);try{var j=m(),$=q.S;if($!==null&&$(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ht=h0(j,h);eo(n,a,ht,Je(n))}else eo(n,a,h,Je(n))}catch(dt){eo(n,a,{then:function(){},status:"rejected",reason:dt},Je())}finally{I.p=x,q.T=C}}function m0(){}function vf(n,a,o,h){if(n.tag!==5)throw Error(s(476));var m=Mp(n).queue;Tp(n,m,a,yt,o===null?m0:function(){return Cp(n),o(h)})}function Mp(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:yt},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:o},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Cp(n){var a=Mp(n).next.queue;eo(n,a,{},Je())}function xf(){return Pe(Uf)}function zp(){return hi().memoizedState}function Rp(){return hi().memoizedState}function y0(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var o=Je();n=za(o);var h=cs(a,n,o);h!==null&&(an(h,a,o),Bl(h,a,o)),a={cache:rc()},n.payload=a;return}a=a.return}}function g0(n,a,o){var h=Je();o={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},bc(n)?Op(a,o):(o=ic(n,a,o,h),o!==null&&(an(o,n,h),Tn(o,a,h)))}function Bp(n,a,o){var h=Je();eo(n,a,o,h)}function eo(n,a,o,h){var m={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(bc(n))Op(a,m);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var C=a.lastRenderedState,O=x(C,o);if(m.hasEagerState=!0,m.eagerState=O,pn(O,C))return Ls(n,a,m,0),kt===null&&Xu(),!1}catch{}finally{}if(o=ic(n,a,m,h),o!==null)return an(o,n,h),Tn(o,a,h),!0}return!1}function xc(n,a,o,h){if(h={lane:2,revertLane:x0(),action:h,hasEagerState:!1,eagerState:null,next:null},bc(n)){if(a)throw Error(s(479))}else a=ic(n,o,h,2),a!==null&&an(a,n,2)}function bc(n){var a=n.alternate;return n===Kt||a!==null&&a===Kt}function Op(n,a){Fs=dc=!0;var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}function Tn(n,a,o){if((o&4194048)!==0){var h=a.lanes;h&=n.pendingLanes,o|=h,a.lanes=o,mh(n,o)}}var io={readContext:Pe,use:mc,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useInsertionEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useSyncExternalStore:ei,useId:ei,useHostTransitionStatus:ei,useFormState:ei,useActionState:ei,useOptimistic:ei,useMemoCache:ei,useCacheRefresh:ei},Sc={readContext:Pe,use:mc,useCallback:function(n,a){return tn().memoizedState=[n,a===void 0?null:a],n},useContext:Pe,useEffect:mf,useImperativeHandle:function(n,a,o){o=o!=null?o.concat([n]):null,yc(4194308,4,Sp.bind(null,a,n),o)},useLayoutEffect:function(n,a){return yc(4194308,4,n,a)},useInsertionEffect:function(n,a){yc(4,2,n,a)},useMemo:function(n,a){var o=tn();a=a===void 0?null:a;var h=n();if($i){S(!0);try{n()}finally{S(!1)}}return o.memoizedState=[h,a],h},useReducer:function(n,a,o){var h=tn();if(o!==void 0){var m=o(a);if($i){S(!0);try{o(a)}finally{S(!1)}}}else m=a;return h.memoizedState=h.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},h.queue=n,n=n.dispatch=g0.bind(null,Kt,n),[h.memoizedState,n]},useRef:function(n){var a=tn();return n={current:n},a.memoizedState=n},useState:function(n){n=hf(n);var a=n.queue,o=Bp.bind(null,Kt,a);return a.dispatch=o,[n.memoizedState,o]},useDebugValue:gf,useDeferredValue:function(n,a){var o=tn();return vc(o,n,a)},useTransition:function(){var n=hf(!1);return n=Tp.bind(null,Kt,n.queue,!0,!1),tn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,o){var h=Kt,m=tn();if(ye){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),kt===null)throw Error(s(349));(Ot&124)!==0||Gr(h,a,o)}m.memoizedState=o;var x={value:o,getSnapshot:a};return m.queue=x,mf(cp.bind(null,h,x,n),[n]),h.flags|=2048,Yr(9,to(),op.bind(null,h,x,o,a),null),o},useId:function(){var n=tn(),a=kt.identifierPrefix;if(ye){var o=Ma,h=Ta;o=(h&~(1<<32-T(h)-1)).toString(32)+o,a=""+a+"R"+o,o=mi++,0<o&&(a+="H"+o.toString(32)),a+=""}else o=sp++,a=""+a+"r"+o.toString(32)+"";return n.memoizedState=a},useHostTransitionStatus:xf,useFormState:_p,useActionState:_p,useOptimistic:function(n){var a=tn();a.memoizedState=a.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=xc.bind(null,Kt,!0,o),o.dispatch=a,[n,a]},useMemoCache:uf,useCacheRefresh:function(){return tn().memoizedState=y0.bind(null,Kt)}},bf={readContext:Pe,use:mc,useCallback:Ep,useContext:Pe,useEffect:yf,useImperativeHandle:Ap,useInsertionEffect:gc,useLayoutEffect:_c,useMemo:_f,useReducer:Ps,useRef:pf,useState:function(){return Ps(ds)},useDebugValue:gf,useDeferredValue:function(n,a){var o=hi();return wp(o,Ee.memoizedState,n,a)},useTransition:function(){var n=Ps(ds)[0],a=hi().memoizedState;return[typeof n=="boolean"?n:oa(n),a]},useSyncExternalStore:up,useId:zp,useHostTransitionStatus:xf,useFormState:vp,useActionState:vp,useOptimistic:function(n,a){var o=hi();return dp(o,Ee,n,a)},useMemoCache:uf,useCacheRefresh:Rp},Up={readContext:Pe,use:mc,useCallback:Ep,useContext:Pe,useEffect:yf,useImperativeHandle:Ap,useInsertionEffect:gc,useLayoutEffect:_c,useMemo:_f,useReducer:cf,useRef:pf,useState:function(){return cf(ds)},useDebugValue:gf,useDeferredValue:function(n,a){var o=hi();return Ee===null?vc(o,n,a):wp(o,Ee.memoizedState,n,a)},useTransition:function(){var n=cf(ds)[0],a=hi().memoizedState;return[typeof n=="boolean"?n:oa(n),a]},useSyncExternalStore:up,useId:zp,useHostTransitionStatus:xf,useFormState:bp,useActionState:bp,useOptimistic:function(n,a){var o=hi();return Ee!==null?dp(o,Ee,n,a):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:uf,useCacheRefresh:Rp},Ol=null,no=0;function ao(n){var a=no;return no+=1,Ol===null&&(Ol=[]),hc(Ol,n,a)}function Xr(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Ac(n,a){throw a.$$typeof===E?Error(s(525)):(n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Dp(n){var a=n._init;return a(n._payload)}function Hp(n){function a(P,k){if(n){var J=P.deletions;J===null?(P.deletions=[k],P.flags|=16):J.push(k)}}function o(P,k){if(!n)return null;for(;k!==null;)a(P,k),k=k.sibling;return null}function h(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function m(P,k){return P=ti(P,k),P.index=0,P.sibling=null,P}function x(P,k,J){return P.index=J,n?(J=P.alternate,J!==null?(J=J.index,J<k?(P.flags|=67108866,k):J):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function C(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function O(P,k,J,ft){return k===null||k.tag!==6?(k=ju(J,P.mode,ft),k.return=P,k):(k=m(k,J),k.return=P,k)}function j(P,k,J,ft){var wt=J.type;return wt===z?ht(P,k,J.props.children,ft,J.key):k!==null&&(k.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===gt&&Dp(wt)===k.type)?(k=m(k,J.props),Xr(k,J),k.return=P,k):(k=Ti(J.type,J.key,J.props,null,P.mode,ft),Xr(k,J),k.return=P,k)}function $(P,k,J,ft){return k===null||k.tag!==4||k.stateNode.containerInfo!==J.containerInfo||k.stateNode.implementation!==J.implementation?(k=nc(J,P.mode,ft),k.return=P,k):(k=m(k,J.children||[]),k.return=P,k)}function ht(P,k,J,ft,wt){return k===null||k.tag!==7?(k=qs(J,P.mode,ft,wt),k.return=P,k):(k=m(k,J),k.return=P,k)}function dt(P,k,J){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ju(""+k,P.mode,J),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case M:return J=Ti(k.type,k.key,k.props,null,P.mode,J),Xr(J,k),J.return=P,J;case w:return k=nc(k,P.mode,J),k.return=P,k;case gt:var ft=k._init;return k=ft(k._payload),dt(P,k,J)}if($t(k)||Tt(k))return k=qs(k,P.mode,J,null),k.return=P,k;if(typeof k.then=="function")return dt(P,ao(k),J);if(k.$$typeof===Y)return dt(P,Qu(P,k),J);Ac(P,k)}return null}function it(P,k,J,ft){var wt=k!==null?k.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return wt!==null?null:O(P,k,""+J,ft);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return J.key===wt?j(P,k,J,ft):null;case w:return J.key===wt?$(P,k,J,ft):null;case gt:return wt=J._init,J=wt(J._payload),it(P,k,J,ft)}if($t(J)||Tt(J))return wt!==null?null:ht(P,k,J,ft,null);if(typeof J.then=="function")return it(P,k,ao(J),ft);if(J.$$typeof===Y)return it(P,k,Qu(P,J),ft);Ac(P,J)}return null}function at(P,k,J,ft,wt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return P=P.get(J)||null,O(k,P,""+ft,wt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case M:return P=P.get(ft.key===null?J:ft.key)||null,j(k,P,ft,wt);case w:return P=P.get(ft.key===null?J:ft.key)||null,$(k,P,ft,wt);case gt:var ae=ft._init;return ft=ae(ft._payload),at(P,k,J,ft,wt)}if($t(ft)||Tt(ft))return P=P.get(J)||null,ht(k,P,ft,wt,null);if(typeof ft.then=="function")return at(P,k,J,ao(ft),wt);if(ft.$$typeof===Y)return at(P,k,J,Qu(k,ft),wt);Ac(k,ft)}return null}function qt(P,k,J,ft){for(var wt=null,ae=null,Rt=k,Yt=k=0,Fi=null;Rt!==null&&Yt<J.length;Yt++){Rt.index>Yt?(Fi=Rt,Rt=null):Fi=Rt.sibling;var Ae=it(P,Rt,J[Yt],ft);if(Ae===null){Rt===null&&(Rt=Fi);break}n&&Rt&&Ae.alternate===null&&a(P,Rt),k=x(Ae,k,Yt),ae===null?wt=Ae:ae.sibling=Ae,ae=Ae,Rt=Fi}if(Yt===J.length)return o(P,Rt),ye&&ls(P,Yt),wt;if(Rt===null){for(;Yt<J.length;Yt++)Rt=dt(P,J[Yt],ft),Rt!==null&&(k=x(Rt,k,Yt),ae===null?wt=Rt:ae.sibling=Rt,ae=Rt);return ye&&ls(P,Yt),wt}for(Rt=h(Rt);Yt<J.length;Yt++)Fi=at(Rt,P,Yt,J[Yt],ft),Fi!==null&&(n&&Fi.alternate!==null&&Rt.delete(Fi.key===null?Yt:Fi.key),k=x(Fi,k,Yt),ae===null?wt=Fi:ae.sibling=Fi,ae=Fi);return n&&Rt.forEach(function(nu){return a(P,nu)}),ye&&ls(P,Yt),wt}function Gt(P,k,J,ft){if(J==null)throw Error(s(151));for(var wt=null,ae=null,Rt=k,Yt=k=0,Fi=null,Ae=J.next();Rt!==null&&!Ae.done;Yt++,Ae=J.next()){Rt.index>Yt?(Fi=Rt,Rt=null):Fi=Rt.sibling;var nu=it(P,Rt,Ae.value,ft);if(nu===null){Rt===null&&(Rt=Fi);break}n&&Rt&&nu.alternate===null&&a(P,Rt),k=x(nu,k,Yt),ae===null?wt=nu:ae.sibling=nu,ae=nu,Rt=Fi}if(Ae.done)return o(P,Rt),ye&&ls(P,Yt),wt;if(Rt===null){for(;!Ae.done;Yt++,Ae=J.next())Ae=dt(P,Ae.value,ft),Ae!==null&&(k=x(Ae,k,Yt),ae===null?wt=Ae:ae.sibling=Ae,ae=Ae);return ye&&ls(P,Yt),wt}for(Rt=h(Rt);!Ae.done;Yt++,Ae=J.next())Ae=at(Rt,P,Yt,Ae.value,ft),Ae!==null&&(n&&Ae.alternate!==null&&Rt.delete(Ae.key===null?Yt:Ae.key),k=x(Ae,k,Yt),ae===null?wt=Ae:ae.sibling=Ae,ae=Ae);return n&&Rt.forEach(function(US){return a(P,US)}),ye&&ls(P,Yt),wt}function Ne(P,k,J,ft){if(typeof J=="object"&&J!==null&&J.type===z&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case M:t:{for(var wt=J.key;k!==null;){if(k.key===wt){if(wt=J.type,wt===z){if(k.tag===7){o(P,k.sibling),ft=m(k,J.props.children),ft.return=P,P=ft;break t}}else if(k.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===gt&&Dp(wt)===k.type){o(P,k.sibling),ft=m(k,J.props),Xr(ft,J),ft.return=P,P=ft;break t}o(P,k);break}else a(P,k);k=k.sibling}J.type===z?(ft=qs(J.props.children,P.mode,ft,J.key),ft.return=P,P=ft):(ft=Ti(J.type,J.key,J.props,null,P.mode,ft),Xr(ft,J),ft.return=P,P=ft)}return C(P);case w:t:{for(wt=J.key;k!==null;){if(k.key===wt)if(k.tag===4&&k.stateNode.containerInfo===J.containerInfo&&k.stateNode.implementation===J.implementation){o(P,k.sibling),ft=m(k,J.children||[]),ft.return=P,P=ft;break t}else{o(P,k);break}else a(P,k);k=k.sibling}ft=nc(J,P.mode,ft),ft.return=P,P=ft}return C(P);case gt:return wt=J._init,J=wt(J._payload),Ne(P,k,J,ft)}if($t(J))return qt(P,k,J,ft);if(Tt(J)){if(wt=Tt(J),typeof wt!="function")throw Error(s(150));return J=wt.call(J),Gt(P,k,J,ft)}if(typeof J.then=="function")return Ne(P,k,ao(J),ft);if(J.$$typeof===Y)return Ne(P,k,Qu(P,J),ft);Ac(P,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,k!==null&&k.tag===6?(o(P,k.sibling),ft=m(k,J),ft.return=P,P=ft):(o(P,k),ft=ju(J,P.mode,ft),ft.return=P,P=ft),C(P)):o(P,k)}return function(P,k,J,ft){try{no=0;var wt=Ne(P,k,J,ft);return Ol=null,wt}catch(Rt){if(Rt===Wu||Rt===ua)throw Rt;var ae=gn(29,Rt,null,P.mode);return ae.lanes=ft,ae.return=P,ae}finally{}}}var Ul=Hp(!0),Np=Hp(!1),Me=lt(null),ca=null;function Ws(n){var a=n.alternate;vt(ii,ii.current&1),vt(Me,n),ca===null&&(a===null||Nr.current!==null||a.memoizedState!==null)&&(ca=n)}function Gp(n){if(n.tag===22){if(vt(ii,ii.current),vt(Me,n),ca===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(ca=n)}}else Is()}function Is(){vt(ii,ii.current),vt(Me,Me.current)}function Ra(n){mt(Me),ca===n&&(ca=null),mt(ii)}var ii=lt(0);function ps(n){for(var a=n;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||O0(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Js(n,a,o,h){a=n.memoizedState,o=o(h,a),o=o==null?a:v({},a,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var en={enqueueSetState:function(n,a,o){n=n._reactInternals;var h=Je(),m=za(h);m.payload=a,o!=null&&(m.callback=o),a=cs(n,m,h),a!==null&&(an(a,n,h),Bl(a,n,h))},enqueueReplaceState:function(n,a,o){n=n._reactInternals;var h=Je(),m=za(h);m.tag=1,m.payload=a,o!=null&&(m.callback=o),a=cs(n,m,h),a!==null&&(an(a,n,h),Bl(a,n,h))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var o=Je(),h=za(o);h.tag=2,a!=null&&(h.callback=a),a=cs(n,h,o),a!==null&&(an(a,n,o),Bl(a,n,o))}};function Yp(n,a,o,h,m,x,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,x,C):a.prototype&&a.prototype.isPureReactComponent?!la(o,h)||!la(m,x):!0}function Lp(n,a,o,h){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,h),a.state!==n&&en.enqueueReplaceState(a,a.state,null)}function Ba(n,a){var o=a;if("ref"in a){o={};for(var h in a)h!=="ref"&&(o[h]=a[h])}if(n=n.defaultProps){o===a&&(o=v({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}var Dl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function so(n){Dl(n)}function Ec(n){console.error(n)}function Xp(n){Dl(n)}function wc(n,a){try{var o=n.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Pn(n,a,o){try{var h=n.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Tc(n,a,o){return o=za(o),o.tag=3,o.payload={element:null},o.callback=function(){wc(n,a)},o}function qp(n){return n=za(n),n.tag=3,n}function Mc(n,a,o,h){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var x=h.value;n.payload=function(){return m(x)},n.callback=function(){Pn(a,o,h)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){Pn(a,o,h),typeof m!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var O=h.stack;this.componentDidCatch(h.value,{componentStack:O!==null?O:""})})}function _0(n,a,o,h,m){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=o.alternate,a!==null&&kn(a,o,m,!0),o=Me.current,o!==null){switch(o.tag){case 13:return ca===null?l():o.alternate===null&&Ge===0&&(Ge=3),o.flags&=-257,o.flags|=65536,o.lanes=m,h===Iu?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([h]):a.add(h),st(n,h,m)),!1;case 22:return o.flags|=65536,h===Iu?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([h]):o.add(h)),st(n,h,m)),!1}throw Error(s(435,o.tag))}return st(n,h,m),l(),!1}if(ye)return a=Me.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==sc&&(n=Error(s(422),{cause:h}),Rl(Ni(n,o)))):(h!==sc&&(a=Error(s(423),{cause:h}),Rl(Ni(a,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,h=Ni(h,o),m=Tc(n.stateNode,h,m),Ur(n,m),Ge!==4&&(Ge=2)),!1;var x=Error(s(520),{cause:h});if(x=Ni(x,o),Se===null?Se=[x]:Se.push(x),Ge!==4&&(Ge=2),a===null)return!0;h=Ni(h,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=Tc(o.stateNode,h,n),Ur(o,n),!1;case 1:if(a=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Dn===null||!Dn.has(x))))return o.flags|=65536,m&=-m,o.lanes|=m,m=qp(m),Mc(m,n,o,h),Ur(o,m),!1}o=o.return}while(o!==null);return!1}var jp=Error(s(461)),Mi=!1;function ni(n,a,o,h){a.child=n===null?Np(a,null,o,h):Ul(a,n.child,o,h)}function vn(n,a,o,h,m){o=o.render;var x=a.ref;if("ref"in h){var C={};for(var O in h)O!=="ref"&&(C[O]=h[O])}else C=h;return Ca(a),h=fs(n,a,o,C,x,m),O=lf(),n!==null&&!Mi?(pc(n,a,m),Ci(n,a,m)):(ye&&O&&Kh(a),a.flags|=1,ni(n,a,h,m),a.child)}function xn(n,a,o,h,m){if(n===null){var x=o.type;return typeof x=="function"&&!qu(x)&&x.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=x,Sf(n,a,x,h,m)):(n=Ti(o.type,null,h,a,a.mode,m),n.ref=a.ref,n.return=a,a.child=n)}if(x=n.child,!lo(n,m)){var C=x.memoizedProps;if(o=o.compare,o=o!==null?o:la,o(C,h)&&n.ref===a.ref)return Ci(n,a,m)}return a.flags|=1,n=ti(x,h),n.ref=a.ref,n.return=a,a.child=n}function Sf(n,a,o,h,m){if(n!==null){var x=n.memoizedProps;if(la(x,h)&&n.ref===a.ref)if(Mi=!1,a.pendingProps=h=x,lo(n,m))(n.flags&131072)!==0&&(Mi=!0);else return a.lanes=n.lanes,Ci(n,a,m)}return qr(n,a,o,h,m)}function Hl(n,a,o){var h=a.pendingProps,m=h.children,x=n!==null?n.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=x!==null?x.baseLanes|o:o,n!==null){for(m=a.child=n.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;a.childLanes=x&~h}else a.childLanes=0,a.child=null;return Nl(n,a,h,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Pu(a,x!==null?x.cachePool:null),x!==null?ap(a,x):sf(),Gp(a);else return a.lanes=a.childLanes=536870912,Nl(n,a,x!==null?x.baseLanes|o:o,o)}else x!==null?(Pu(a,x.cachePool),ap(a,x),Is(),a.memoizedState=null):(n!==null&&Pu(a,null),sf(),Is());return ni(n,a,m,o),a.child}function Nl(n,a,o,h){var m=Qs();return m=m===null?null:{parent:oi._currentValue,pool:m},a.memoizedState={baseLanes:o,cachePool:m},n!==null&&Pu(a,null),sf(),Gp(a),n!==null&&kn(n,a,h,!0),null}function Gl(n,a){var o=a.ref;if(o===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(a.flags|=4194816)}}function qr(n,a,o,h,m){return Ca(a),o=fs(n,a,o,h,void 0,m),h=lf(),n!==null&&!Mi?(pc(n,a,m),Ci(n,a,m)):(ye&&h&&Kh(a),a.flags|=1,ni(n,a,o,m),a.child)}function Mn(n,a,o,h,m,x){return Ca(a),a.updateQueue=null,o=rp(a,h,o,m),lp(n),h=lf(),n!==null&&!Mi?(pc(n,a,x),Ci(n,a,x)):(ye&&h&&Kh(a),a.flags|=1,ni(n,a,o,x),a.child)}function Cn(n,a,o,h,m){if(Ca(a),a.stateNode===null){var x=Xs,C=o.contextType;typeof C=="object"&&C!==null&&(x=Pe(C)),x=new o(h,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=en,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=h,x.state=a.memoizedState,x.refs={},nf(a),C=o.contextType,x.context=typeof C=="object"&&C!==null?Pe(C):Xs,x.state=a.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(Js(a,o,C,h),x.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&en.enqueueReplaceState(x,x.state,null),Dr(a,h,x,m),Ju(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(n===null){x=a.stateNode;var O=a.memoizedProps,j=Ba(o,O);x.props=j;var $=x.context,ht=o.contextType;C=Xs,typeof ht=="object"&&ht!==null&&(C=Pe(ht));var dt=o.getDerivedStateFromProps;ht=typeof dt=="function"||typeof x.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,ht||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O||$!==C)&&Lp(a,x,h,C),os=!1;var it=a.memoizedState;x.state=it,Dr(a,h,x,m),Ju(),$=a.memoizedState,O||it!==$||os?(typeof dt=="function"&&(Js(a,o,dt,h),$=a.memoizedState),(j=os||Yp(a,o,j,h,it,$,C))?(ht||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=$),x.props=h,x.state=$,x.context=C,h=j):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{x=a.stateNode,Lt(n,a),C=a.memoizedProps,ht=Ba(o,C),x.props=ht,dt=a.pendingProps,it=x.context,$=o.contextType,j=Xs,typeof $=="object"&&$!==null&&(j=Pe($)),O=o.getDerivedStateFromProps,($=typeof O=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==dt||it!==j)&&Lp(a,x,h,j),os=!1,it=a.memoizedState,x.state=it,Dr(a,h,x,m),Ju();var at=a.memoizedState;C!==dt||it!==at||os||n!==null&&n.dependencies!==null&&ku(n.dependencies)?(typeof O=="function"&&(Js(a,o,O,h),at=a.memoizedState),(ht=os||Yp(a,o,ht,h,it,at,j)||n!==null&&n.dependencies!==null&&ku(n.dependencies))?($||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,at,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,at,j)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===n.memoizedProps&&it===n.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&it===n.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=at),x.props=h,x.state=at,x.context=j,h=ht):(typeof x.componentDidUpdate!="function"||C===n.memoizedProps&&it===n.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&it===n.memoizedState||(a.flags|=1024),h=!1)}return x=h,Gl(n,a),h=(a.flags&128)!==0,x||h?(x=a.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,n!==null&&h?(a.child=Ul(a,n.child,null,m),a.child=Ul(a,null,o,m)):ni(n,a,o,m),a.memoizedState=x.state,n=a.child):n=Ci(n,a,m),n}function $s(n,a,o,h){return Cr(),a.flags|=256,ni(n,a,o,h),a.child}var ha={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fa(n){return{baseLanes:n,cachePool:oc()}}function yi(n,a,o){return n=n!==null?n.childLanes&~o:0,a&&(n|=ta),n}function jr(n,a,o){var h=a.pendingProps,m=!1,x=(a.flags&128)!==0,C;if((C=x)||(C=n!==null&&n.memoizedState===null?!1:(ii.current&2)!==0),C&&(m=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,n===null){if(ye){if(m?Ws(a):Is(),ye){var O=Ze,j;if(j=O){t:{for(j=O,O=En;j.nodeType!==8;){if(!O){O=null;break t}if(j=xs(j.nextSibling),j===null){O=null;break t}}O=j}O!==null?(a.memoizedState={dehydrated:O,treeContext:js!==null?{id:Ta,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},j=gn(18,null,null,0),j.stateNode=O,j.return=a,a.child=j,Ji=a,Ze=null,j=!0):j=!1}j||Vs(a)}if(O=a.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return O0(O)?a.lanes=32:a.lanes=536870912,null;Ra(a)}return O=h.children,h=h.fallback,m?(Is(),m=a.mode,O=Yl({mode:"hidden",children:O},m),h=qs(h,m,o,null),O.return=a,h.return=a,O.sibling=h,a.child=O,m=a.child,m.memoizedState=fa(o),m.childLanes=yi(n,C,o),a.memoizedState=ha,h):(Ws(a),Oa(a,O))}if(j=n.memoizedState,j!==null&&(O=j.dehydrated,O!==null)){if(x)a.flags&256?(Ws(a),a.flags&=-257,a=Li(n,a,o)):a.memoizedState!==null?(Is(),a.child=n.child,a.flags|=128,a=null):(Is(),m=h.fallback,O=a.mode,h=Yl({mode:"visible",children:h.children},O),m=qs(m,O,o,null),m.flags|=2,h.return=a,m.return=a,h.sibling=m,a.child=h,Ul(a,n.child,null,o),h=a.child,h.memoizedState=fa(o),h.childLanes=yi(n,C,o),a.memoizedState=ha,a=m);else if(Ws(a),O0(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var $=C.dgst;C=$,h=Error(s(419)),h.stack="",h.digest=C,Rl({value:h,source:null,stack:null}),a=Li(n,a,o)}else if(Mi||kn(n,a,o,!1),C=(o&n.childLanes)!==0,Mi||C){if(C=kt,C!==null&&(h=o&-o,h=(h&42)!==0?1:cr(h),h=(h&(C.suspendedLanes|o))!==0?0:h,h!==0&&h!==j.retryLane))throw j.retryLane=h,ss(n,h),an(C,n,h),jp;O.data==="$?"||l(),a=Li(n,a,o)}else O.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=j.treeContext,Ze=xs(O.nextSibling),Ji=a,ye=!0,Zn=null,En=!1,n!==null&&(Gi[An++]=Ta,Gi[An++]=Ma,Gi[An++]=js,Ta=n.id,Ma=n.overflow,js=a),a=Oa(a,h.children),a.flags|=4096);return a}return m?(Is(),m=h.fallback,O=a.mode,j=n.child,$=j.sibling,h=ti(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,$!==null?m=ti($,m):(m=qs(m,O,o,null),m.flags|=2),m.return=a,h.return=a,h.sibling=m,a.child=h,h=m,m=a.child,O=n.child.memoizedState,O===null?O=fa(o):(j=O.cachePool,j!==null?($=oi._currentValue,j=j.parent!==$?{parent:$,pool:$}:j):j=oc(),O={baseLanes:O.baseLanes|o,cachePool:j}),m.memoizedState=O,m.childLanes=yi(n,C,o),a.memoizedState=ha,h):(Ws(a),o=n.child,n=o.sibling,o=ti(o,{mode:"visible",children:h.children}),o.return=a,o.sibling=null,n!==null&&(C=a.deletions,C===null?(a.deletions=[n],a.flags|=16):C.push(n)),a.child=o,a.memoizedState=null,o)}function Oa(n,a){return a=Yl({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function Yl(n,a){return n=gn(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Li(n,a,o){return Ul(a,n.child,null,o),n=Oa(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Xi(n,a,o){n.lanes|=a;var h=n.alternate;h!==null&&(h.lanes|=a),Jh(n.return,a,o)}function oe(n,a,o,h,m){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:m}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=o,x.tailMode=m)}function Wn(n,a,o){var h=a.pendingProps,m=h.revealOrder,x=h.tail;if(ni(n,a,h.children,o),h=ii.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Xi(n,o,a);else if(n.tag===19)Xi(n,o,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break t;for(;n.sibling===null;){if(n.return===null||n.return===a)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}switch(vt(ii,h),m){case"forwards":for(o=a.child,m=null;o!==null;)n=o.alternate,n!==null&&ps(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=a.child,a.child=null):(m=o.sibling,o.sibling=null),oe(a,!1,m,o,x);break;case"backwards":for(o=null,m=a.child,a.child=null;m!==null;){if(n=m.alternate,n!==null&&ps(n)===null){a.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}oe(a,!0,o,null,x);break;case"together":oe(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ci(n,a,o){if(n!==null&&(a.dependencies=n.dependencies),ya|=a.lanes,(o&a.childLanes)===0)if(n!==null){if(kn(n,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,o=ti(n,n.pendingProps),a.child=o,o.return=a;n.sibling!==null;)n=n.sibling,o=o.sibling=ti(n,n.pendingProps),o.return=a;o.sibling=null}return a.child}function lo(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&ku(n)))}function In(n,a,o){switch(a.tag){case 3:It(a,a.stateNode.containerInfo),ks(a,oi,n.memoizedState.cache),Cr();break;case 27:case 5:Xn(a);break;case 4:It(a,a.stateNode.containerInfo);break;case 10:ks(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Ws(a),a.flags|=128,null):(o&a.child.childLanes)!==0?jr(n,a,o):(Ws(a),n=Ci(n,a,o),n!==null?n.sibling:null);Ws(a);break;case 19:var m=(n.flags&128)!==0;if(h=(o&a.childLanes)!==0,h||(kn(n,a,o,!1),h=(o&a.childLanes)!==0),m){if(h)return Wn(n,a,o);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),vt(ii,ii.current),h)break;return null;case 22:case 23:return a.lanes=0,Hl(n,a,o);case 24:ks(a,oi,n.memoizedState.cache)}return Ci(n,a,o)}function Ll(n,a,o){if(n!==null)if(n.memoizedProps!==a.pendingProps)Mi=!0;else{if(!lo(n,o)&&(a.flags&128)===0)return Mi=!1,In(n,a,o);Mi=(n.flags&131072)!==0}else Mi=!1,ye&&(a.flags&1048576)!==0&&ac(a,Mr,a.index);switch(a.lanes=0,a.tag){case 16:t:{n=a.pendingProps;var h=a.elementType,m=h._init;if(h=m(h._payload),a.type=h,typeof h=="function")qu(h)?(n=Ba(h,n),a.tag=1,a=Cn(null,a,h,n,o)):(a.tag=0,a=qr(null,a,h,n,o));else{if(h!=null){if(m=h.$$typeof,m===L){a.tag=11,a=vn(null,a,h,n,o);break t}else if(m===K){a.tag=14,a=xn(null,a,h,n,o);break t}}throw a=Pt(h)||h,Error(s(306,a,""))}}return a;case 0:return qr(n,a,a.type,a.pendingProps,o);case 1:return h=a.type,m=Ba(h,a.pendingProps),Cn(n,a,h,m,o);case 3:t:{if(It(a,a.stateNode.containerInfo),n===null)throw Error(s(387));h=a.pendingProps;var x=a.memoizedState;m=x.element,Lt(n,a),Dr(a,h,null,o);var C=a.memoizedState;if(h=C.cache,ks(a,oi,h),h!==x.cache&&Zu(a,[oi],o,!0),Ju(),h=C.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=$s(n,a,h,o);break t}else if(h!==m){m=Ni(Error(s(424)),a),Rl(m),a=$s(n,a,h,o);break t}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ze=xs(n.firstChild),Ji=a,ye=!0,Zn=null,En=!0,o=Np(a,null,h,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Cr(),h===m){a=Ci(n,a,o);break t}ni(n,a,h,o)}a=a.child}return a;case 26:return Gl(n,a),n===null?(o=E_(a.type,null,a.pendingProps,null))?a.memoizedState=o:ye||(o=a.type,n=a.pendingProps,h=Kp(zt.current).createElement(o),h[Oi]=a,h[ji]=n,sn(h,o,n),Ei(h),a.stateNode=h):a.memoizedState=E_(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Xn(a),n===null&&ye&&(h=a.stateNode=b_(a.type,a.pendingProps,zt.current),Ji=a,En=!0,m=Ze,Jr(a.type)?(U0=m,Ze=xs(h.firstChild)):Ze=m),ni(n,a,a.pendingProps.children,o),Gl(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&ye&&((m=h=Ze)&&(h=uS(h,a.type,a.pendingProps,En),h!==null?(a.stateNode=h,Ji=a,Ze=xs(h.firstChild),En=!1,m=!0):m=!1),m||Vs(a)),Xn(a),m=a.type,x=a.pendingProps,C=n!==null?n.memoizedProps:null,h=x.children,z0(m,x)?h=null:C!==null&&z0(m,C)&&(a.flags|=32),a.memoizedState!==null&&(m=fs(n,a,f0,null,null,o),Uf._currentValue=m),Gl(n,a),ni(n,a,h,o),a.child;case 6:return n===null&&ye&&((n=o=Ze)&&(o=oS(o,a.pendingProps,En),o!==null?(a.stateNode=o,Ji=a,Ze=null,n=!0):n=!1),n||Vs(a)),null;case 13:return jr(n,a,o);case 4:return It(a,a.stateNode.containerInfo),h=a.pendingProps,n===null?a.child=Ul(a,null,h,o):ni(n,a,h,o),a.child;case 11:return vn(n,a,a.type,a.pendingProps,o);case 7:return ni(n,a,a.pendingProps,o),a.child;case 8:return ni(n,a,a.pendingProps.children,o),a.child;case 12:return ni(n,a,a.pendingProps.children,o),a.child;case 10:return h=a.pendingProps,ks(a,a.type,h.value),ni(n,a,h.children,o),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,Ca(a),m=Pe(m),h=h(m),a.flags|=1,ni(n,a,h,o),a.child;case 14:return xn(n,a,a.type,a.pendingProps,o);case 15:return Sf(n,a,a.type,a.pendingProps,o);case 19:return Wn(n,a,o);case 31:return h=a.pendingProps,o=a.mode,h={mode:h.mode,children:h.children},n===null?(o=Yl(h,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=ti(n.child,h),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return Hl(n,a,o);case 24:return Ca(a),h=Pe(oi),n===null?(m=Qs(),m===null&&(m=kt,x=rc(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=o),m=x),a.memoizedState={parent:h,cache:m},nf(a),ks(a,oi,m)):((n.lanes&o)!==0&&(Lt(n,a),Dr(a,null,null,o),Ju()),m=n.memoizedState,x=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ks(a,oi,h)):(h=x.cache,ks(a,oi,h),h!==m.cache&&Zu(a,[oi],o,!0))),ni(n,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function da(n){n.flags|=4}function ro(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!z_(a)){if(a=Me.current,a!==null&&((Ot&4194048)===Ot?ca!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||a!==ca))throw Fn=Iu,tf;n.flags|=8192}}function ms(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?dh():536870912,n.lanes|=a,de|=a)}function Xl(n,a){if(!ye)switch(n.tailMode){case"hidden":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Oe(n){var a=n.alternate!==null&&n.alternate.child===n.child,o=0,h=0;if(a)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=h,n.childLanes=o,a}function Af(n,a,o){var h=a.pendingProps;switch(Ph(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(a),null;case 1:return Oe(a),null;case 3:return o=a.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),us(oi),Si(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ra(a)?da(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xe())),Oe(a),null;case 26:return o=a.memoizedState,n===null?(da(a),o!==null?(Oe(a),ro(a,o)):(Oe(a),a.flags&=-16777217)):o?o!==n.memoizedState?(da(a),Oe(a),ro(a,o)):(Oe(a),a.flags&=-16777217):(n.memoizedProps!==h&&da(a),Oe(a),a.flags&=-16777217),null;case 27:un(a),o=zt.current;var m=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==h&&da(a);else{if(!h){if(a.stateNode===null)throw Error(s(166));return Oe(a),null}n=At.current,ra(a)?tp(a):(n=b_(m,h,o),a.stateNode=n,da(a))}return Oe(a),null;case 5:if(un(a),o=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==h&&da(a);else{if(!h){if(a.stateNode===null)throw Error(s(166));return Oe(a),null}if(n=At.current,ra(a))tp(a);else{switch(m=Kp(zt.current),n){case 1:n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?n.multiple=!0:h.size&&(n.size=h.size);break;default:n=typeof h.is=="string"?m.createElement(o,{is:h.is}):m.createElement(o)}}n[Oi]=a,n[ji]=h;t:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break t;for(;m.sibling===null;){if(m.return===null||m.return===a)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=n;t:switch(sn(n,o,h),o){case"button":case"input":case"select":case"textarea":n=!!h.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&da(a)}}return Oe(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==h&&da(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(s(166));if(n=zt.current,ra(a)){if(n=a.stateNode,o=a.memoizedProps,h=null,m=Ji,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}n[Oi]=a,n=!!(n.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||p_(n.nodeValue,o)),n||Vs(a)}else n=Kp(n).createTextNode(h),n[Oi]=a,a.stateNode=n}return Oe(a),null;case 13:if(h=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=ra(a),h!==null&&h.dehydrated!==null){if(n===null){if(!m)throw Error(s(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Oi]=a}else Cr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Oe(a),m=!1}else m=xe(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Ra(a),a):(Ra(a),null)}if(Ra(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=h!==null,n=n!==null&&n.memoizedState!==null,o){h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var x=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==m&&(h.flags|=2048)}return o!==n&&o&&(a.child.flags|=8192),ms(a,a.updateQueue),Oe(a),null;case 4:return Si(),n===null&&E0(a.stateNode.containerInfo),Oe(a),null;case 10:return us(a.type),Oe(a),null;case 19:if(mt(ii),m=a.memoizedState,m===null)return Oe(a),null;if(h=(a.flags&128)!==0,x=m.rendering,x===null)if(h)Xl(m,!1);else{if(Ge!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(x=ps(n),x!==null){for(a.flags|=128,Xl(m,!1),n=x.updateQueue,a.updateQueue=n,ms(a,n),a.subtreeFlags=0,n=o,o=a.child;o!==null;)Fh(o,n),o=o.sibling;return vt(ii,ii.current&1|2),a.child}n=n.sibling}m.tail!==null&&Xe()>ki&&(a.flags|=128,h=!0,Xl(m,!1),a.lanes=4194304)}else{if(!h)if(n=ps(x),n!==null){if(a.flags|=128,h=!0,n=n.updateQueue,a.updateQueue=n,ms(a,n),Xl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ye)return Oe(a),null}else 2*Xe()-m.renderingStartTime>ki&&o!==536870912&&(a.flags|=128,h=!0,Xl(m,!1),a.lanes=4194304);m.isBackwards?(x.sibling=a.child,a.child=x):(n=m.last,n!==null?n.sibling=x:a.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Xe(),a.sibling=null,n=ii.current,vt(ii,h?n&1|2:n&1),a):(Oe(a),null);case 22:case 23:return Ra(a),$u(),h=a.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(o&536870912)!==0&&(a.flags&128)===0&&(Oe(a),a.subtreeFlags&6&&(a.flags|=8192)):Oe(a),o=a.updateQueue,o!==null&&ms(a,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==o&&(a.flags|=2048),n!==null&&mt(Qn),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),us(oi),Oe(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function Vr(n,a){switch(Ph(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return us(oi),Si(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return un(a),null;case 13:if(Ra(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Cr()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return mt(ii),null;case 4:return Si(),null;case 10:return us(a.type),null;case 22:case 23:return Ra(a),$u(),n!==null&&mt(Qn),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return us(oi),null;case 25:return null;default:return null}}function Zr(n,a){switch(Ph(a),a.tag){case 3:us(oi),Si();break;case 26:case 27:case 5:un(a);break;case 4:Si();break;case 13:Ra(a);break;case 19:mt(ii);break;case 10:us(a.type);break;case 22:case 23:Ra(a),$u(),n!==null&&mt(Qn);break;case 24:us(oi)}}function ql(n,a){try{var o=a.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&n)===n){h=void 0;var x=o.create,C=o.inst;h=x(),C.destroy=h}o=o.next}while(o!==m)}}catch(O){Z(a,a.return,O)}}function zn(n,a,o){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var x=m.next;h=x;do{if((h.tag&n)===n){var C=h.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,m=a;var j=o,$=O;try{$()}catch(ht){Z(m,j,ht)}}}h=h.next}while(h!==x)}}catch(ht){Z(a,a.return,ht)}}function jl(n){var a=n.updateQueue;if(a!==null){var o=n.stateNode;try{np(a,o)}catch(h){Z(n,n.return,h)}}}function ys(n,a,o){o.props=Ba(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(h){Z(n,a,h)}}function Vl(n,a){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof o=="function"?n.refCleanup=o(h):o.current=h}}catch(m){Z(n,a,m)}}function Ua(n,a){var o=n.ref,h=n.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(m){Z(n,a,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Z(n,a,m)}else o.current=null}function kr(n){var a=n.type,o=n.memoizedProps,h=n.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break t;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(m){Z(n,n.return,m)}}function uo(n,a,o){try{var h=n.stateNode;nS(h,n.type,o,a),h[ji]=a}catch(m){Z(n,n.return,m)}}function oo(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Jr(n.type)||n.tag===4}function tl(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||oo(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Jr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function el(n,a,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(n),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Fp));else if(h!==4&&(h===27&&Jr(n.type)&&(o=n.stateNode,a=null),n=n.child,n!==null))for(el(n,a,o),n=n.sibling;n!==null;)el(n,a,o),n=n.sibling}function il(n,a,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,a?o.insertBefore(n,a):o.appendChild(n);else if(h!==4&&(h===27&&Jr(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(il(n,a,o),n=n.sibling;n!==null;)il(n,a,o),n=n.sibling}function nl(n){var a=n.stateNode,o=n.memoizedProps;try{for(var h=n.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);sn(a,h,o),a[Oi]=n,a[ji]=o}catch(x){Z(n,n.return,x)}}var Da=!1,Ue=!1,Qr=!1,Rn=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function gi(n,a){if(n=n.containerInfo,M0=tm,n=Xh(n),Gu(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var m=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break t}var C=0,O=-1,j=-1,$=0,ht=0,dt=n,it=null;e:for(;;){for(var at;dt!==o||m!==0&&dt.nodeType!==3||(O=C+m),dt!==x||h!==0&&dt.nodeType!==3||(j=C+h),dt.nodeType===3&&(C+=dt.nodeValue.length),(at=dt.firstChild)!==null;)it=dt,dt=at;for(;;){if(dt===n)break e;if(it===o&&++$===m&&(O=C),it===x&&++ht===h&&(j=C),(at=dt.nextSibling)!==null)break;dt=it,it=dt.parentNode}dt=at}o=O===-1||j===-1?null:{start:O,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(C0={focusedElem:n,selectionRange:o},tm=!1,Ce=a;Ce!==null;)if(a=Ce,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,Ce=n;else for(;Ce!==null;){switch(a=Ce,x=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,o=a,m=x.memoizedProps,x=x.memoizedState,h=o.stateNode;try{var qt=Ba(o.type,m,o.elementType===o.type);n=h.getSnapshotBeforeUpdate(qt,x),h.__reactInternalSnapshotBeforeUpdate=n}catch(Gt){Z(o,o.return,Gt)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,o=n.nodeType,o===9)B0(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":B0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=a.sibling,n!==null){n.return=a.return,Ce=n;break}Ce=a.return}}function gs(n,a,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:nn(n,o),h&4&&ql(5,o);break;case 1:if(nn(n,o),h&4)if(n=o.stateNode,a===null)try{n.componentDidMount()}catch(C){Z(o,o.return,C)}else{var m=Ba(o.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(m,a,n.__reactInternalSnapshotBeforeUpdate)}catch(C){Z(o,o.return,C)}}h&64&&jl(o),h&512&&Vl(o,o.return);break;case 3:if(nn(n,o),h&64&&(n=o.updateQueue,n!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{np(n,a)}catch(C){Z(o,o.return,C)}}break;case 27:a===null&&h&4&&nl(o);case 26:case 5:nn(n,o),a===null&&h&4&&kr(o),h&512&&Vl(o,o.return);break;case 12:nn(n,o);break;case 13:nn(n,o),h&4&&al(n,o),h&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Ye.bind(null,o),cS(n,o))));break;case 22:if(h=o.memoizedState!==null||Da,!h){a=a!==null&&a.memoizedState!==null||Ue,m=Da;var x=Ue;Da=h,(Ue=a)&&!x?Ha(n,o,(o.subtreeFlags&8772)!==0):nn(n,o),Da=m,Ue=x}break;case 30:break;default:nn(n,o)}}function Jt(n){var a=n.alternate;a!==null&&(n.alternate=null,Jt(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Ve(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ut=null,fe=!1;function Jn(n,a,o){for(o=o.child;o!==null;)Zl(n,a,o),o=o.sibling}function Zl(n,a,o){if(B&&typeof B.onCommitFiberUnmount=="function")try{B.onCommitFiberUnmount(bl,o)}catch{}switch(o.tag){case 26:Ue||Ua(o,a),Jn(n,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ue||Ua(o,a);var h=Ut,m=fe;Jr(o.type)&&(Ut=o.stateNode,fe=!1),Jn(n,a,o),zf(o.stateNode),Ut=h,fe=m;break;case 5:Ue||Ua(o,a);case 6:if(h=Ut,m=fe,Ut=null,Jn(n,a,o),Ut=h,fe=m,Ut!==null)if(fe)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(o.stateNode)}catch(x){Z(o,a,x)}else try{Ut.removeChild(o.stateNode)}catch(x){Z(o,a,x)}break;case 18:Ut!==null&&(fe?(n=Ut,v_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Gf(n)):v_(Ut,o.stateNode));break;case 4:h=Ut,m=fe,Ut=o.stateNode.containerInfo,fe=!0,Jn(n,a,o),Ut=h,fe=m;break;case 0:case 11:case 14:case 15:Ue||zn(2,o,a),Ue||zn(4,o,a),Jn(n,a,o);break;case 1:Ue||(Ua(o,a),h=o.stateNode,typeof h.componentWillUnmount=="function"&&ys(o,a,h)),Jn(n,a,o);break;case 21:Jn(n,a,o);break;case 22:Ue=(h=Ue)||o.memoizedState!==null,Jn(n,a,o),Ue=h;break;default:Jn(n,a,o)}}function al(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gf(n)}catch(o){Z(a,a.return,o)}}function Cc(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Rn),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Rn),a;default:throw Error(s(435,n.tag))}}function kl(n,a){var o=Cc(n);a.forEach(function(h){var m=Xt.bind(null,n,h);o.has(h)||(o.add(h),h.then(m,m))})}function zi(n,a){var o=a.deletions;if(o!==null)for(var h=0;h<o.length;h++){var m=o[h],x=n,C=a,O=C;t:for(;O!==null;){switch(O.tag){case 27:if(Jr(O.type)){Ut=O.stateNode,fe=!1;break t}break;case 5:Ut=O.stateNode,fe=!1;break t;case 3:case 4:Ut=O.stateNode.containerInfo,fe=!0;break t}O=O.return}if(Ut===null)throw Error(s(160));Zl(x,C,m),Ut=null,fe=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)zc(a,n),a=a.sibling}var pa=null;function zc(n,a){var o=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zi(a,n),We(n),h&4&&(zn(3,n,n.return),ql(3,n),zn(5,n,n.return));break;case 1:zi(a,n),We(n),h&512&&(Ue||o===null||Ua(o,o.return)),h&64&&Da&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var m=pa;if(zi(a,n),We(n),h&512&&(Ue||o===null||Ua(o,o.return)),h&4){var x=o!==null?o.memoizedState:null;if(h=n.memoizedState,o===null)if(h===null)if(n.stateNode===null){t:{h=n.type,o=n.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":x=m.getElementsByTagName("title")[0],(!x||x[Cs]||x[Oi]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(h),m.head.insertBefore(x,m.querySelector("head > title"))),sn(x,h,o),x[Oi]=n,Ei(x),h=x;break t;case"link":var C=M_("link","href",m).get(h+(o.href||""));if(C){for(var O=0;O<C.length;O++)if(x=C[O],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(O,1);break e}}x=m.createElement(h),sn(x,h,o),m.head.appendChild(x);break;case"meta":if(C=M_("meta","content",m).get(h+(o.content||""))){for(O=0;O<C.length;O++)if(x=C[O],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(O,1);break e}}x=m.createElement(h),sn(x,h,o),m.head.appendChild(x);break;default:throw Error(s(468,h))}x[Oi]=n,Ei(x),h=x}n.stateNode=h}else C_(m,n.type,n.stateNode);else n.stateNode=T_(m,h,n.memoizedProps);else x!==h?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,h===null?C_(m,n.type,n.stateNode):T_(m,h,n.memoizedProps)):h===null&&n.stateNode!==null&&uo(n,n.memoizedProps,o.memoizedProps)}break;case 27:zi(a,n),We(n),h&512&&(Ue||o===null||Ua(o,o.return)),o!==null&&h&4&&uo(n,n.memoizedProps,o.memoizedProps);break;case 5:if(zi(a,n),We(n),h&512&&(Ue||o===null||Ua(o,o.return)),n.flags&32){m=n.stateNode;try{sa(m,"")}catch(at){Z(n,n.return,at)}}h&4&&n.stateNode!=null&&(m=n.memoizedProps,uo(n,m,o!==null?o.memoizedProps:m)),h&1024&&(Qr=!0);break;case 6:if(zi(a,n),We(n),h&4){if(n.stateNode===null)throw Error(s(162));h=n.memoizedProps,o=n.stateNode;try{o.nodeValue=h}catch(at){Z(n,n.return,at)}}break;case 3:if(Ip=null,m=pa,pa=Pp(a.containerInfo),zi(a,n),pa=m,We(n),h&4&&o!==null&&o.memoizedState.isDehydrated)try{Gf(a.containerInfo)}catch(at){Z(n,n.return,at)}Qr&&(Qr=!1,sl(n));break;case 4:h=pa,pa=Pp(n.stateNode.containerInfo),zi(a,n),We(n),pa=h;break;case 12:zi(a,n),We(n);break;case 13:zi(a,n),We(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Te=Xe()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,kl(n,h)));break;case 22:m=n.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,$=Da,ht=Ue;if(Da=$||m,Ue=ht||j,zi(a,n),Ue=ht,Da=$,We(n),h&8192)t:for(a=n.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(o===null||j||Da||Ue||Bn(n)),o=null,a=n;;){if(a.tag===5||a.tag===26){if(o===null){j=o=a;try{if(x=j.stateNode,m)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=j.stateNode;var dt=j.memoizedProps.style,it=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;O.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(at){Z(j,j.return,at)}}}else if(a.tag===6){if(o===null){j=a;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(at){Z(j,j.return,at)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break t;for(;a.sibling===null;){if(a.return===null||a.return===n)break t;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=n.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,kl(n,o))));break;case 19:zi(a,n),We(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,kl(n,h)));break;case 30:break;case 21:break;default:zi(a,n),We(n)}}function We(n){var a=n.flags;if(a&2){try{for(var o,h=n.return;h!==null;){if(oo(h)){o=h;break}h=h.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,x=tl(n);il(n,x,m);break;case 5:var C=o.stateNode;o.flags&32&&(sa(C,""),o.flags&=-33);var O=tl(n);il(n,O,C);break;case 3:case 4:var j=o.stateNode.containerInfo,$=tl(n);el(n,$,j);break;default:throw Error(s(161))}}catch(ht){Z(n,n.return,ht)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function sl(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;sl(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function nn(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)gs(n,a.alternate,a),a=a.sibling}function Bn(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:zn(4,a,a.return),Bn(a);break;case 1:Ua(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&ys(a,a.return,o),Bn(a);break;case 27:zf(a.stateNode);case 26:case 5:Ua(a,a.return),Bn(a);break;case 22:a.memoizedState===null&&Bn(a);break;case 30:Bn(a);break;default:Bn(a)}n=n.sibling}}function Ha(n,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=n,x=a,C=x.flags;switch(x.tag){case 0:case 11:case 15:Ha(m,x,o),ql(4,x);break;case 1:if(Ha(m,x,o),h=x,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){Z(h,h.return,$)}if(h=x,m=h.updateQueue,m!==null){var O=h.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)Hr(j[m],O)}catch($){Z(h,h.return,$)}}o&&C&64&&jl(x),Vl(x,x.return);break;case 27:nl(x);case 26:case 5:Ha(m,x,o),o&&h===null&&C&4&&kr(x),Vl(x,x.return);break;case 12:Ha(m,x,o);break;case 13:Ha(m,x,o),o&&C&4&&al(m,x);break;case 22:x.memoizedState===null&&Ha(m,x,o),Vl(x,x.return);break;case 30:break;default:Ha(m,x,o)}a=a.sibling}}function Rc(n,a){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&zr(o))}function Bc(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&zr(n))}function ze(n,a,o,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Oc(n,a,o,h),a=a.sibling}function Oc(n,a,o,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:ze(n,a,o,h),m&2048&&ql(9,a);break;case 1:ze(n,a,o,h);break;case 3:ze(n,a,o,h),m&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&zr(n)));break;case 12:if(m&2048){ze(n,a,o,h),n=a.stateNode;try{var x=a.memoizedProps,C=x.id,O=x.onPostCommit;typeof O=="function"&&O(C,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(j){Z(a,a.return,j)}}else ze(n,a,o,h);break;case 13:ze(n,a,o,h);break;case 23:break;case 22:x=a.stateNode,C=a.alternate,a.memoizedState!==null?x._visibility&2?ze(n,a,o,h):ma(n,a):x._visibility&2?ze(n,a,o,h):(x._visibility|=2,_s(n,a,o,h,(a.subtreeFlags&10256)!==0)),m&2048&&Rc(C,a);break;case 24:ze(n,a,o,h),m&2048&&Bc(a.alternate,a);break;default:ze(n,a,o,h)}}function _s(n,a,o,h,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=n,C=a,O=o,j=h,$=C.flags;switch(C.tag){case 0:case 11:case 15:_s(x,C,O,j,m),ql(8,C);break;case 23:break;case 22:var ht=C.stateNode;C.memoizedState!==null?ht._visibility&2?_s(x,C,O,j,m):ma(x,C):(ht._visibility|=2,_s(x,C,O,j,m)),m&&$&2048&&Rc(C.alternate,C);break;case 24:_s(x,C,O,j,m),m&&$&2048&&Bc(C.alternate,C);break;default:_s(x,C,O,j,m)}a=a.sibling}}function ma(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=n,h=a,m=h.flags;switch(h.tag){case 22:ma(o,h),m&2048&&Rc(h.alternate,h);break;case 24:ma(o,h),m&2048&&Bc(h.alternate,h);break;default:ma(o,h)}a=a.sibling}}var On=8192;function Fr(n){if(n.subtreeFlags&On)for(n=n.child;n!==null;)Vp(n),n=n.sibling}function Vp(n){switch(n.tag){case 26:Fr(n),n.flags&On&&n.memoizedState!==null&&AS(pa,n.memoizedState,n.memoizedProps);break;case 5:Fr(n);break;case 3:case 4:var a=pa;pa=Pp(n.stateNode.containerInfo),Fr(n),pa=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=On,On=16777216,Fr(n),On=a):Fr(n));break;default:Fr(n)}}function Zp(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function De(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var h=a[o];Ce=h,Ga(h,n)}Zp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ef(n),n=n.sibling}function Ef(n){switch(n.tag){case 0:case 11:case 15:De(n),n.flags&2048&&zn(9,n,n.return);break;case 3:De(n);break;case 12:De(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,Na(n)):De(n);break;default:De(n)}}function Na(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var h=a[o];Ce=h,Ga(h,n)}Zp(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:zn(8,a,a.return),Na(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Na(a));break;default:Na(a)}n=n.sibling}}function Ga(n,a){for(;Ce!==null;){var o=Ce;switch(o.tag){case 0:case 11:case 15:zn(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:zr(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,Ce=h;else t:for(o=n;Ce!==null;){h=Ce;var m=h.sibling,x=h.return;if(Jt(h),h===o){Ce=null;break t}if(m!==null){m.return=x,Ce=m;break t}Ce=x}}}var Ie={getCacheForType:function(n){var a=Pe(oi),o=a.data.get(n);return o===void 0&&(o=n(),a.data.set(n,o)),o}},wf=typeof WeakMap=="function"?WeakMap:Map,be=0,kt=null,ee=null,Ot=0,Wt=0,ke=null,Un=!1,Kr=!1,Pr=!1,$n=0,Ge=0,ya=0,Ya=0,Ql=0,ta=0,de=0,Se=null,Ht=null,ne=!1,Te=0,ki=1/0,ea=null,Dn=null,_i=0,Qi=null,Re=null,Hn=0,vs=0,co=null,Nn=null,La=0,Fl=null;function Je(){if((be&2)!==0&&Ot!==0)return Ot&-Ot;if(q.T!==null){var n=Ft;return n!==0?n:x0()}return gu()}function Uc(){ta===0&&(ta=(Ot&536870912)===0||ye?fh():536870912);var n=Me.current;return n!==null&&(n.flags|=32),ta}function an(n,a,o){(n===kt&&(Wt===2||Wt===9)||n.cancelPendingCommit!==null)&&(rl(n,0),ga(n,Ot,ta,!1)),or(n,o),((be&2)===0||n!==kt)&&(n===kt&&((be&2)===0&&(Ya|=o),Ge===4&&ga(n,Ot,ta,!1)),cl(n))}function Wr(n,a,o){if((be&6)!==0)throw Error(s(327));var h=!o&&(a&124)===0&&(a&n.expiredLanes)===0||me(n,a),m=h?g(n,a):u(n,a,!0),x=h;do{if(m===0){Kr&&!h&&ga(n,a,0,!1);break}else{if(o=n.current.alternate,x&&!ll(o)){m=u(n,a,!1),x=!1;continue}if(m===2){if(x=a,n.errorRecoveryDisabledLanes&x)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;t:{var O=n;m=Se;var j=O.current.memoizedState.isDehydrated;if(j&&(rl(O,C).flags|=256),C=u(O,C,!1),C!==2){if(Pr&&!j){O.errorRecoveryDisabledLanes|=x,Ya|=x,m=4;break t}x=Ht,Ht=m,x!==null&&(Ht===null?Ht=x:Ht.push.apply(Ht,x))}m=C}if(x=!1,m!==2)continue}}if(m===1){rl(n,0),ga(n,a,0,!0);break}t:{switch(h=n,x=m,x){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:ga(h,a,ta,!Un);break t;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(m=Te+300-Xe(),10<m)){if(ga(h,a,ta,!Un),ve(h,0,!0)!==0)break t;h.timeoutHandle=g_(ho.bind(null,h,o,Ht,ea,ne,a,ta,Ya,de,Un,x,2,-0,0),m);break t}ho(h,o,Ht,ea,ne,a,ta,Ya,de,Un,x,0,-0,0)}}break}while(!0);cl(n)}function ho(n,a,o,h,m,x,C,O,j,$,ht,dt,it,at){if(n.timeoutHandle=-1,dt=a.subtreeFlags,(dt&8192||(dt&16785408)===16785408)&&(Of={stylesheets:null,count:0,unsuspend:SS},Vp(a),dt=ES(),dt!==null)){n.cancelPendingCommit=dt(bt.bind(null,n,a,x,o,h,m,C,O,j,ht,1,it,at)),ga(n,x,C,!$);return}bt(n,a,x,o,h,m,C,O,j)}function ll(n){for(var a=n;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var m=o[h],x=m.getSnapshot;m=m.value;try{if(!pn(x(),m))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ga(n,a,o,h){a&=~Ql,a&=~Ya,n.suspendedLanes|=a,n.pingedLanes&=~a,h&&(n.warmLanes|=a),h=n.expirationTimes;for(var m=a;0<m;){var x=31-T(m),C=1<<x;h[x]=-1,m&=~C}o!==0&&ph(n,o,a)}function Xa(){return(be&6)===0?(Tf(0),!1):!0}function Kl(){if(ee!==null){if(Wt===0)var n=ee.return;else n=ee,rs=Zs=null,rf(n),Ol=null,no=0,n=ee;for(;n!==null;)Zr(n.alternate,n),n=n.return;ee=null}}function rl(n,a){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,sS(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Kl(),kt=n,ee=o=ti(n.current,null),Ot=a,Wt=0,ke=null,Un=!1,Kr=me(n,a),Pr=!1,de=ta=Ql=Ya=ya=Ge=0,Ht=Se=null,ne=!1,(a&8)!==0&&(a|=a&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=a;0<h;){var m=31-T(h),x=1<<m;a|=n[m],h&=~x}return $n=a,Xu(),o}function Dc(n,a){Kt=null,q.H=io,a===Wu||a===ua?(a=ef(),Wt=3):a===tf?(a=ef(),Wt=4):Wt=a===jp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ke=a,ee===null&&(Ge=1,wc(n,Ni(a,n.current)))}function Ir(){var n=q.H;return q.H=io,n===null?io:n}function Hc(){var n=q.A;return q.A=Ie,n}function l(){Ge=4,Un||(Ot&4194048)!==Ot&&Me.current!==null||(Kr=!0),(ya&134217727)===0&&(Ya&134217727)===0||kt===null||ga(kt,Ot,ta,!1)}function u(n,a,o){var h=be;be|=2;var m=Ir(),x=Hc();(kt!==n||Ot!==a)&&(ea=null,rl(n,a)),a=!1;var C=Ge;t:do try{if(Wt!==0&&ee!==null){var O=ee,j=ke;switch(Wt){case 8:Kl(),C=6;break t;case 3:case 2:case 9:case 6:Me.current===null&&(a=!0);var $=Wt;if(Wt=0,ke=null,V(n,O,j,$),o&&Kr){C=0;break t}break;default:$=Wt,Wt=0,ke=null,V(n,O,j,$)}}p(),C=Ge;break}catch(ht){Dc(n,ht)}while(!0);return a&&n.shellSuspendCounter++,rs=Zs=null,be=h,q.H=m,q.A=x,ee===null&&(kt=null,Ot=0,Xu()),C}function p(){for(;ee!==null;)A(ee)}function g(n,a){var o=be;be|=2;var h=Ir(),m=Hc();kt!==n||Ot!==a?(ea=null,ki=Xe()+500,rl(n,a)):Kr=me(n,a);t:do try{if(Wt!==0&&ee!==null){a=ee;var x=ke;e:switch(Wt){case 1:Wt=0,ke=null,V(n,a,x,1);break;case 2:case 9:if(cc(x)){Wt=0,ke=null,U(a);break}a=function(){Wt!==2&&Wt!==9||kt!==n||(Wt=7),cl(n)},x.then(a,a);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:cc(x)?(Wt=0,ke=null,U(a)):(Wt=0,ke=null,V(n,a,x,7));break;case 5:var C=null;switch(ee.tag){case 26:C=ee.memoizedState;case 5:case 27:var O=ee;if(!C||z_(C)){Wt=0,ke=null;var j=O.sibling;if(j!==null)ee=j;else{var $=O.return;$!==null?(ee=$,W($)):ee=null}break e}}Wt=0,ke=null,V(n,a,x,5);break;case 6:Wt=0,ke=null,V(n,a,x,6);break;case 8:Kl(),Ge=6;break t;default:throw Error(s(462))}}b();break}catch(ht){Dc(n,ht)}while(!0);return rs=Zs=null,q.H=h,q.A=m,be=o,ee!==null?0:(kt=null,Ot=0,Xu(),Ge)}function b(){for(;ee!==null&&!on();)A(ee)}function A(n){var a=Ll(n.alternate,n,$n);n.memoizedProps=n.pendingProps,a===null?W(n):ee=a}function U(n){var a=n,o=a.alternate;switch(a.tag){case 15:case 0:a=Mn(o,a,a.pendingProps,a.type,void 0,Ot);break;case 11:a=Mn(o,a,a.pendingProps,a.type.render,a.ref,Ot);break;case 5:rf(a);default:Zr(o,a),a=ee=Fh(a,$n),a=Ll(o,a,$n)}n.memoizedProps=n.pendingProps,a===null?W(n):ee=a}function V(n,a,o,h){rs=Zs=null,rf(a),Ol=null,no=0;var m=a.return;try{if(_0(n,m,a,o,Ot)){Ge=1,wc(n,Ni(o,n.current)),ee=null;return}}catch(x){if(m!==null)throw ee=m,x;Ge=1,wc(n,Ni(o,n.current)),ee=null;return}a.flags&32768?(ye||h===1?n=!0:Kr||(Ot&536870912)!==0?n=!1:(Un=n=!0,(h===2||h===9||h===3||h===6)&&(h=Me.current,h!==null&&h.tag===13&&(h.flags|=16384))),ct(a,n)):W(a)}function W(n){var a=n;do{if((a.flags&32768)!==0){ct(a,Un);return}n=a.return;var o=Af(a.alternate,a,$n);if(o!==null){ee=o;return}if(a=a.sibling,a!==null){ee=a;return}ee=a=n}while(a!==null);Ge===0&&(Ge=5)}function ct(n,a){do{var o=Vr(n.alternate,n);if(o!==null){o.flags&=32767,ee=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(n=n.sibling,n!==null)){ee=n;return}ee=n=o}while(n!==null);Ge=6,ee=null}function bt(n,a,o,h,m,x,C,O,j){n.cancelPendingCommit=null;do ul();while(_i!==0);if((be&6)!==0)throw Error(s(327));if(a!==null){if(a===n.current)throw Error(s(177));if(x=a.lanes|a.childLanes,x|=ec,Uo(n,o,x,C,O,j),n===kt&&(ee=kt=null,Ot=0),Re=a,Qi=n,Hn=o,vs=x,co=m,Nn=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ge(hn,function(){return ol(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=q.T,q.T=null,m=I.p,I.p=2,C=be,be|=4;try{gi(n,a,o)}finally{be=C,I.p=m,q.T=h}}_i=1,St(),Et(),Qt()}}function St(){if(_i===1){_i=0;var n=Qi,a=Re,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var h=I.p;I.p=2;var m=be;be|=4;try{zc(a,n);var x=C0,C=Xh(n.containerInfo),O=x.focusedElem,j=x.selectionRange;if(C!==O&&O&&O.ownerDocument&&Lh(O.ownerDocument.documentElement,O)){if(j!==null&&Gu(O)){var $=j.start,ht=j.end;if(ht===void 0&&(ht=$),"selectionStart"in O)O.selectionStart=$,O.selectionEnd=Math.min(ht,O.value.length);else{var dt=O.ownerDocument||document,it=dt&&dt.defaultView||window;if(it.getSelection){var at=it.getSelection(),qt=O.textContent.length,Gt=Math.min(j.start,qt),Ne=j.end===void 0?Gt:Math.min(j.end,qt);!at.extend&&Gt>Ne&&(C=Ne,Ne=Gt,Gt=C);var P=Yh(O,Gt),k=Yh(O,Ne);if(P&&k&&(at.rangeCount!==1||at.anchorNode!==P.node||at.anchorOffset!==P.offset||at.focusNode!==k.node||at.focusOffset!==k.offset)){var J=dt.createRange();J.setStart(P.node,P.offset),at.removeAllRanges(),Gt>Ne?(at.addRange(J),at.extend(k.node,k.offset)):(J.setEnd(k.node,k.offset),at.addRange(J))}}}}for(dt=[],at=O;at=at.parentNode;)at.nodeType===1&&dt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<dt.length;O++){var ft=dt[O];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}tm=!!M0,C0=M0=null}finally{be=m,I.p=h,q.T=o}}n.current=a,_i=2}}function Et(){if(_i===2){_i=0;var n=Qi,a=Re,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var h=I.p;I.p=2;var m=be;be|=4;try{gs(n,a.alternate,a)}finally{be=m,I.p=h,q.T=o}}_i=3}}function Qt(){if(_i===4||_i===3){_i=0,vl();var n=Qi,a=Re,o=Hn,h=Nn;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?_i=5:(_i=0,Re=Qi=null,Gn(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Dn=null),Sl(o),a=a.stateNode,B&&typeof B.onCommitFiberRoot=="function")try{B.onCommitFiberRoot(bl,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=q.T,m=I.p,I.p=2,q.T=null;try{for(var x=n.onRecoverableError,C=0;C<h.length;C++){var O=h[C];x(O.value,{componentStack:O.stack})}}finally{q.T=a,I.p=m}}(Hn&3)!==0&&ul(),cl(n),m=n.pendingLanes,(o&4194090)!==0&&(m&42)!==0?n===Fl?La++:(La=0,Fl=n):La=0,Tf(0)}}function Gn(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,zr(a)))}function ul(n){return St(),Et(),Qt(),ol()}function ol(){if(_i!==5)return!1;var n=Qi,a=vs;vs=0;var o=Sl(Hn),h=q.T,m=I.p;try{I.p=32>o?32:o,q.T=null,o=co,co=null;var x=Qi,C=Hn;if(_i=0,Re=Qi=null,Hn=0,(be&6)!==0)throw Error(s(331));var O=be;if(be|=4,Ef(x.current),Oc(x,x.current,C,o),be=O,Tf(0,!1),B&&typeof B.onPostCommitFiberRoot=="function")try{B.onPostCommitFiberRoot(bl,x)}catch{}return!0}finally{I.p=m,q.T=h,Gn(n,a)}}function et(n,a,o){a=Ni(o,a),a=Tc(n.stateNode,a,2),n=cs(n,a,2),n!==null&&(or(n,2),cl(n))}function Z(n,a,o){if(n.tag===3)et(n,n,o);else for(;a!==null;){if(a.tag===3){et(a,n,o);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Dn===null||!Dn.has(h))){n=Ni(o,n),o=qp(2),h=cs(a,o,2),h!==null&&(Mc(o,h,a,n),or(h,2),cl(h));break}}a=a.return}}function st(n,a,o){var h=n.pingCache;if(h===null){h=n.pingCache=new wf;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(o)||(Pr=!0,m.add(o),n=xt.bind(null,n,a,o),a.then(n,n))}function xt(n,a,o){var h=n.pingCache;h!==null&&h.delete(a),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,kt===n&&(Ot&o)===o&&(Ge===4||Ge===3&&(Ot&62914560)===Ot&&300>Xe()-Te?(be&2)===0&&rl(n,0):Ql|=o,de===Ot&&(de=0)),cl(n)}function Ct(n,a){a===0&&(a=dh()),n=ss(n,a),n!==null&&(or(n,a),cl(n))}function Ye(n){var a=n.memoizedState,o=0;a!==null&&(o=a.retryLane),Ct(n,o)}function Xt(n,a){var o=0;switch(n.tag){case 13:var h=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(a),Ct(n,o)}function ge(n,a){return Ke(n,a)}var ai=null,ie=null,qa=!1,Nc=!1,v0=!1,fo=0;function cl(n){n!==ie&&n.next===null&&(ie===null?ai=ie=n:ie=ie.next=n),Nc=!0,qa||(qa=!0,W2())}function Tf(n,a){if(!v0&&Nc){v0=!0;do for(var o=!1,h=ai;h!==null;){if(n!==0){var m=h.pendingLanes;if(m===0)var x=0;else{var C=h.suspendedLanes,O=h.pingedLanes;x=(1<<31-T(42|n)+1)-1,x&=m&~(C&~O),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,r_(h,x))}else x=Ot,x=ve(h,h===kt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||me(h,x)||(o=!0,r_(h,x));h=h.next}while(o);v0=!1}}function P2(){a_()}function a_(){Nc=qa=!1;var n=0;fo!==0&&(aS()&&(n=fo),fo=0);for(var a=Xe(),o=null,h=ai;h!==null;){var m=h.next,x=s_(h,a);x===0?(h.next=null,o===null?ai=m:o.next=m,m===null&&(ie=o)):(o=h,(n!==0||(x&3)!==0)&&(Nc=!0)),h=m}Tf(n)}function s_(n,a){for(var o=n.suspendedLanes,h=n.pingedLanes,m=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var C=31-T(x),O=1<<C,j=m[C];j===-1?((O&o)===0||(O&h)!==0)&&(m[C]=he(O,a)):j<=a&&(n.expiredLanes|=O),x&=~O}if(a=kt,o=Ot,o=ve(n,n===a?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,o===0||n===a&&(Wt===2||Wt===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&ri(h),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||me(n,o)){if(a=o&-o,a===n.callbackPriority)return a;switch(h!==null&&ri(h),Sl(o)){case 2:case 8:o=cn;break;case 32:o=hn;break;case 268435456:o=xl;break;default:o=hn}return h=l_.bind(null,n),o=Ke(o,h),n.callbackPriority=a,n.callbackNode=o,a}return h!==null&&h!==null&&ri(h),n.callbackPriority=2,n.callbackNode=null,2}function l_(n,a){if(_i!==0&&_i!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ul()&&n.callbackNode!==o)return null;var h=Ot;return h=ve(n,n===kt?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(Wr(n,h,a),s_(n,Xe()),n.callbackNode!=null&&n.callbackNode===o?l_.bind(null,n):null)}function r_(n,a){if(ul())return null;Wr(n,a,!0)}function W2(){lS(function(){(be&6)!==0?Ke(ws,P2):a_()})}function x0(){return fo===0&&(fo=fh()),fo}function u_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Eu(""+n)}function o_(n,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,n.id&&o.setAttribute("form",n.id),a.parentNode.insertBefore(o,a),n=new FormData(n),o.parentNode.removeChild(o),n}function I2(n,a,o,h,m){if(a==="submit"&&o&&o.stateNode===m){var x=u_((m[ji]||null).action),C=h.submitter;C&&(a=(a=C[ji]||null)?u_(a.formAction):C.getAttribute("formAction"),a!==null&&(x=a,C=null));var O=new yr("action","action",null,h,m);n.push({event:O,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(fo!==0){var j=C?o_(m,C):new FormData(m);vf(o,{pending:!0,data:j,method:m.method,action:x},null,j)}}else typeof x=="function"&&(O.preventDefault(),j=C?o_(m,C):new FormData(m),vf(o,{pending:!0,data:j,method:m.method,action:x},x,j))},currentTarget:m}]})}}for(var b0=0;b0<Lu.length;b0++){var S0=Lu[b0],J2=S0.toLowerCase(),$2=S0[0].toUpperCase()+S0.slice(1);wi(J2,"on"+$2)}wi(Ii,"onAnimationEnd"),wi(Vh,"onAnimationIteration"),wi(yn,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi($d,"onTransitionRun"),wi(ns,"onTransitionStart"),wi(Er,"onTransitionCancel"),wi(as,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mf));function c_(n,a){a=(a&4)!==0;for(var o=0;o<n.length;o++){var h=n[o],m=h.event;h=h.listeners;t:{var x=void 0;if(a)for(var C=h.length-1;0<=C;C--){var O=h[C],j=O.instance,$=O.currentTarget;if(O=O.listener,j!==x&&m.isPropagationStopped())break t;x=O,m.currentTarget=$;try{x(m)}catch(ht){Dl(ht)}m.currentTarget=null,x=j}else for(C=0;C<h.length;C++){if(O=h[C],j=O.instance,$=O.currentTarget,O=O.listener,j!==x&&m.isPropagationStopped())break t;x=O,m.currentTarget=$;try{x(m)}catch(ht){Dl(ht)}m.currentTarget=null,x=j}}}}function se(n,a){var o=a[Aa];o===void 0&&(o=a[Aa]=new Set);var h=n+"__bubble";o.has(h)||(h_(a,n,2,!1),o.add(h))}function A0(n,a,o){var h=0;a&&(h|=4),h_(o,n,h,a)}var kp="_reactListening"+Math.random().toString(36).slice(2);function E0(n){if(!n[kp]){n[kp]=!0,Do.forEach(function(o){o!=="selectionchange"&&(tS.has(o)||A0(o,!1,n),A0(o,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[kp]||(a[kp]=!0,A0("selectionchange",!1,a))}}function h_(n,a,o,h){switch(H_(a)){case 2:var m=MS;break;case 8:m=CS;break;default:m=Y0}o=m.bind(null,a,o,n),m=void 0,!Tu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?n.addEventListener(a,o,{capture:!0,passive:m}):n.addEventListener(a,o,!0):m!==void 0?n.addEventListener(a,o,{passive:m}):n.addEventListener(a,o,!1)}function w0(n,a,o,h,m){var x=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var O=h.stateNode.containerInfo;if(O===m)break;if(C===4)for(C=h.return;C!==null;){var j=C.tag;if((j===3||j===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;O!==null;){if(C=zs(O),C===null)return;if(j=C.tag,j===5||j===6||j===26||j===27){h=x=C;continue t}O=O.parentNode}}h=h.return}Th(function(){var $=x,ht=jo(o),dt=[];t:{var it=tc.get(n);if(it!==void 0){var at=yr,qt=n;switch(n){case"keypress":if(Os(o)===0)break t;case"keydown":case"keyup":at=Bh;break;case"focusin":qt="focus",at=Zo;break;case"focusout":qt="blur",at=Zo;break;case"beforeblur":case"afterblur":at=Zo;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Uh;break;case Ii:case Vh:case yn:at=Yd;break;case as:at=$a;break;case"scroll":case"scrollend":at=Hd;break;case"wheel":at=u0;break;case"copy":case"cut":case"paste":at=Xd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Qo;break;case"toggle":case"beforetoggle":at=Ds}var Gt=(a&4)!==0,Ne=!Gt&&(n==="scroll"||n==="scrollend"),P=Gt?it!==null?it+"Capture":null:it;Gt=[];for(var k=$,J;k!==null;){var ft=k;if(J=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||J===null||P===null||(ft=dr(k,P),ft!=null&&Gt.push(Cf(k,ft,J))),Ne)break;k=k.return}0<Gt.length&&(it=new at(it,qt,null,o,ht),dt.push({event:it,listeners:Gt}))}}if((a&7)===0){t:{if(it=n==="mouseover"||n==="pointerover",at=n==="mouseout"||n==="pointerout",it&&o!==qo&&(qt=o.relatedTarget||o.fromElement)&&(zs(qt)||qt[Ts]))break t;if((at||it)&&(it=ht.window===ht?ht:(it=ht.ownerDocument)?it.defaultView||it.parentWindow:window,at?(qt=o.relatedTarget||o.toElement,at=$,qt=qt?zs(qt):null,qt!==null&&(Ne=c(qt),Gt=qt.tag,qt!==Ne||Gt!==5&&Gt!==27&&Gt!==6)&&(qt=null)):(at=null,qt=$),at!==qt)){if(Gt=zh,ft="onMouseLeave",P="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(Gt=Qo,ft="onPointerLeave",P="onPointerEnter",k="pointer"),Ne=at==null?it:hr(at),J=qt==null?it:hr(qt),it=new Gt(ft,k+"leave",at,o,ht),it.target=Ne,it.relatedTarget=J,ft=null,zs(ht)===$&&(Gt=new Gt(P,k+"enter",qt,o,ht),Gt.target=J,Gt.relatedTarget=Ne,ft=Gt),Ne=ft,at&&qt)e:{for(Gt=at,P=qt,k=0,J=Gt;J;J=Gc(J))k++;for(J=0,ft=P;ft;ft=Gc(ft))J++;for(;0<k-J;)Gt=Gc(Gt),k--;for(;0<J-k;)P=Gc(P),J--;for(;k--;){if(Gt===P||P!==null&&Gt===P.alternate)break e;Gt=Gc(Gt),P=Gc(P)}Gt=null}else Gt=null;at!==null&&f_(dt,it,at,Gt,!1),qt!==null&&Ne!==null&&f_(dt,Ne,qt,Gt,!0)}}t:{if(it=$?hr($):window,at=it.nodeName&&it.nodeName.toLowerCase(),at==="select"||at==="input"&&it.type==="file")var wt=Ko;else if(Gh(it))if(Po)wt=Gs;else{wt=Wd;var ae=o0}else at=it.nodeName,!at||at.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?$&&Xo($.elementType)&&(wt=Ko):wt=Nu;if(wt&&(wt=wt(n,$))){dn(dt,wt,o,ht);break t}ae&&ae(n,it,$),n==="focusout"&&$&&it.type==="number"&&$.memoizedProps.value!=null&&Lo(it,"number",it.value)}switch(ae=$?hr($):window,n){case"focusin":(Gh(ae)||ae.contentEditable==="true")&&(es=ae,Io=$,Yu=null);break;case"focusout":Yu=Io=es=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,jh(dt,o,ht);break;case"selectionchange":if(qh)break;case"keydown":case"keyup":jh(dt,o,ht)}var Rt;if(Ru)t:{switch(n){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else Ns?Uu(n,o)&&(Yt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Yt="onCompositionStart");Yt&&(Ou&&o.locale!=="ko"&&(Ns||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Ns&&(Rt=Ch()):(Ia=ht,Mh="value"in Ia?Ia.value:Ia.textContent,Ns=!0)),ae=Qp($,Yt),0<ae.length&&(Yt=new ko(Yt,n,null,o,ht),dt.push({event:Yt,listeners:ae}),Rt?Yt.data=Rt:(Rt=Hh(o),Rt!==null&&(Yt.data=Rt)))),(Rt=Bu?Du(n,o):Nh(n,o))&&(Yt=Qp($,"onBeforeInput"),0<Yt.length&&(ae=new ko("onBeforeInput","beforeinput",null,o,ht),dt.push({event:ae,listeners:Yt}),ae.data=Rt)),I2(dt,n,$,o,ht)}c_(dt,a)})}function Cf(n,a,o){return{instance:n,listener:a,currentTarget:o}}function Qp(n,a){for(var o=a+"Capture",h=[];n!==null;){var m=n,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=dr(n,o),m!=null&&h.unshift(Cf(n,m,x)),m=dr(n,a),m!=null&&h.push(Cf(n,m,x))),n.tag===3)return h;n=n.return}return[]}function Gc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function f_(n,a,o,h,m){for(var x=a._reactName,C=[];o!==null&&o!==h;){var O=o,j=O.alternate,$=O.stateNode;if(O=O.tag,j!==null&&j===h)break;O!==5&&O!==26&&O!==27||$===null||(j=$,m?($=dr(o,x),$!=null&&C.unshift(Cf(o,$,j))):m||($=dr(o,x),$!=null&&C.push(Cf(o,$,j)))),o=o.return}C.length!==0&&n.push({event:a,listeners:C})}var eS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function d_(n){return(typeof n=="string"?n:""+n).replace(eS,`
`).replace(iS,"")}function p_(n,a){return a=d_(a),d_(n)===a}function Fp(){}function He(n,a,o,h,m,x){switch(o){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||sa(n,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&sa(n,""+h);break;case"className":El(n,"class",h);break;case"tabIndex":El(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":El(n,o,h);break;case"style":Au(n,h,x);break;case"data":if(a!=="object"){El(n,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||o!=="href")){n.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(o);break}h=Eu(""+h),n.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(a!=="input"&&He(n,a,"name",m.name,m,null),He(n,a,"formEncType",m.formEncType,m,null),He(n,a,"formMethod",m.formMethod,m,null),He(n,a,"formTarget",m.formTarget,m,null)):(He(n,a,"encType",m.encType,m,null),He(n,a,"method",m.method,m,null),He(n,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(o);break}h=Eu(""+h),n.setAttribute(o,h);break;case"onClick":h!=null&&(n.onclick=Fp);break;case"onScroll":h!=null&&se("scroll",n);break;case"onScrollEnd":h!=null&&se("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}o=Eu(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,""+h):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":h===!0?n.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,h):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(o,h):n.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(o):n.setAttribute(o,h);break;case"popover":se("beforetoggle",n),se("toggle",n),jn(n,"popover",h);break;case"xlinkActuate":aa(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":aa(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":aa(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":aa(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":aa(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":aa(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":aa(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":aa(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":aa(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":jn(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Eh.get(o)||o,jn(n,o,h))}}function T0(n,a,o,h,m,x){switch(o){case"style":Au(n,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof h=="string"?sa(n,h):(typeof h=="number"||typeof h=="bigint")&&sa(n,""+h);break;case"onScroll":h!=null&&se("scroll",n);break;case"onScrollEnd":h!=null&&se("scrollend",n);break;case"onClick":h!=null&&(n.onclick=Fp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),a=o.slice(2,m?o.length-7:void 0),x=n[ji]||null,x=x!=null?x[o]:null,typeof x=="function"&&n.removeEventListener(a,x,m),typeof h=="function")){typeof x!="function"&&x!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(a,h,m);break t}o in n?n[o]=h:h===!0?n.setAttribute(o,""):jn(n,o,h)}}}function sn(n,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",n),se("load",n);var h=!1,m=!1,x;for(x in o)if(o.hasOwnProperty(x)){var C=o[x];if(C!=null)switch(x){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:He(n,a,x,C,o,null)}}m&&He(n,a,"srcSet",o.srcSet,o,null),h&&He(n,a,"src",o.src,o,null);return;case"input":se("invalid",n);var O=x=C=m=null,j=null,$=null;for(h in o)if(o.hasOwnProperty(h)){var ht=o[h];if(ht!=null)switch(h){case"name":m=ht;break;case"type":C=ht;break;case"checked":j=ht;break;case"defaultChecked":$=ht;break;case"value":x=ht;break;case"defaultValue":O=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(s(137,a));break;default:He(n,a,h,ht,o,null)}}Sh(n,x,O,j,$,C,m,!1),xu(n);return;case"select":se("invalid",n),h=C=x=null;for(m in o)if(o.hasOwnProperty(m)&&(O=o[m],O!=null))switch(m){case"value":x=O;break;case"defaultValue":C=O;break;case"multiple":h=O;default:He(n,a,m,O,o,null)}a=x,o=C,n.multiple=!!h,a!=null?Tl(n,!!h,a,!1):o!=null&&Tl(n,!!h,o,!0);return;case"textarea":se("invalid",n),x=m=h=null;for(C in o)if(o.hasOwnProperty(C)&&(O=o[C],O!=null))switch(C){case"value":h=O;break;case"defaultValue":m=O;break;case"children":x=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:He(n,a,C,O,o,null)}Ah(n,h,m,x),xu(n);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(h=o[j],h!=null))switch(j){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:He(n,a,j,h,o,null)}return;case"dialog":se("beforetoggle",n),se("toggle",n),se("cancel",n),se("close",n);break;case"iframe":case"object":se("load",n);break;case"video":case"audio":for(h=0;h<Mf.length;h++)se(Mf[h],n);break;case"image":se("error",n),se("load",n);break;case"details":se("toggle",n);break;case"embed":case"source":case"link":se("error",n),se("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(h=o[$],h!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:He(n,a,$,h,o,null)}return;default:if(Xo(a)){for(ht in o)o.hasOwnProperty(ht)&&(h=o[ht],h!==void 0&&T0(n,a,ht,h,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(h=o[O],h!=null&&He(n,a,O,h,o,null))}function nS(n,a,o,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,C=null,O=null,j=null,$=null,ht=null;for(at in o){var dt=o[at];if(o.hasOwnProperty(at)&&dt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":j=dt;default:h.hasOwnProperty(at)||He(n,a,at,null,h,dt)}}for(var it in h){var at=h[it];if(dt=o[it],h.hasOwnProperty(it)&&(at!=null||dt!=null))switch(it){case"type":x=at;break;case"name":m=at;break;case"checked":$=at;break;case"defaultChecked":ht=at;break;case"value":C=at;break;case"defaultValue":O=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(s(137,a));break;default:at!==dt&&He(n,a,it,at,h,dt)}}Yo(n,C,O,j,$,ht,x,m);return;case"select":at=C=O=it=null;for(x in o)if(j=o[x],o.hasOwnProperty(x)&&j!=null)switch(x){case"value":break;case"multiple":at=j;default:h.hasOwnProperty(x)||He(n,a,x,null,h,j)}for(m in h)if(x=h[m],j=o[m],h.hasOwnProperty(m)&&(x!=null||j!=null))switch(m){case"value":it=x;break;case"defaultValue":O=x;break;case"multiple":C=x;default:x!==j&&He(n,a,m,x,h,j)}a=O,o=C,h=at,it!=null?Tl(n,!!o,it,!1):!!h!=!!o&&(a!=null?Tl(n,!!o,a,!0):Tl(n,!!o,o?[]:"",!1));return;case"textarea":at=it=null;for(O in o)if(m=o[O],o.hasOwnProperty(O)&&m!=null&&!h.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:He(n,a,O,null,h,m)}for(C in h)if(m=h[C],x=o[C],h.hasOwnProperty(C)&&(m!=null||x!=null))switch(C){case"value":it=m;break;case"defaultValue":at=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==x&&He(n,a,C,m,h,x)}Od(n,it,at);return;case"option":for(var qt in o)if(it=o[qt],o.hasOwnProperty(qt)&&it!=null&&!h.hasOwnProperty(qt))switch(qt){case"selected":n.selected=!1;break;default:He(n,a,qt,null,h,it)}for(j in h)if(it=h[j],at=o[j],h.hasOwnProperty(j)&&it!==at&&(it!=null||at!=null))switch(j){case"selected":n.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:He(n,a,j,it,h,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in o)it=o[Gt],o.hasOwnProperty(Gt)&&it!=null&&!h.hasOwnProperty(Gt)&&He(n,a,Gt,null,h,it);for($ in h)if(it=h[$],at=o[$],h.hasOwnProperty($)&&it!==at&&(it!=null||at!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,a));break;default:He(n,a,$,it,h,at)}return;default:if(Xo(a)){for(var Ne in o)it=o[Ne],o.hasOwnProperty(Ne)&&it!==void 0&&!h.hasOwnProperty(Ne)&&T0(n,a,Ne,void 0,h,it);for(ht in h)it=h[ht],at=o[ht],!h.hasOwnProperty(ht)||it===at||it===void 0&&at===void 0||T0(n,a,ht,it,h,at);return}}for(var P in o)it=o[P],o.hasOwnProperty(P)&&it!=null&&!h.hasOwnProperty(P)&&He(n,a,P,null,h,it);for(dt in h)it=h[dt],at=o[dt],!h.hasOwnProperty(dt)||it===at||it==null&&at==null||He(n,a,dt,it,h,at)}var M0=null,C0=null;function Kp(n){return n.nodeType===9?n:n.ownerDocument}function m_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function z0(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var R0=null;function aS(){var n=window.event;return n&&n.type==="popstate"?n===R0?!1:(R0=n,!0):(R0=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,sS=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,lS=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(n){return __.resolve(null).then(n).catch(rS)}:g_;function rS(n){setTimeout(function(){throw n})}function Jr(n){return n==="head"}function v_(n,a){var o=a,h=0,m=0;do{var x=o.nextSibling;if(n.removeChild(o),x&&x.nodeType===8)if(o=x.data,o==="/$"){if(0<h&&8>h){o=h;var C=n.ownerDocument;if(o&1&&zf(C.documentElement),o&2&&zf(C.body),o&4)for(o=C.head,zf(o),C=o.firstChild;C;){var O=C.nextSibling,j=C.nodeName;C[Cs]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&C.rel.toLowerCase()==="stylesheet"||o.removeChild(C),C=O}}if(m===0){n.removeChild(x),Gf(a);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:h=o.charCodeAt(0)-48;else h=0;o=x}while(o);Gf(a)}function B0(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":B0(o),Ve(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function uS(n,a,o,h){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[Cs])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=xs(n.nextSibling),n===null)break}return null}function oS(n,a,o){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=xs(n.nextSibling),n===null))return null;return n}function O0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function cS(n,a){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")a();else{var h=function(){a(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function xs(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var U0=null;function x_(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return n;a--}else o==="/$"&&a++}n=n.previousSibling}return null}function b_(n,a,o){switch(a=Kp(o),n){case"html":if(n=a.documentElement,!n)throw Error(s(452));return n;case"head":if(n=a.head,!n)throw Error(s(453));return n;case"body":if(n=a.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function zf(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Ve(n)}var ja=new Map,S_=new Set;function Pp(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Pl=I.d;I.d={f:hS,r:fS,D:dS,C:pS,L:mS,m:yS,X:_S,S:gS,M:vS};function hS(){var n=Pl.f(),a=Xa();return n||a}function fS(n){var a=Rs(n);a!==null&&a.tag===5&&a.type==="form"?Cp(a):Pl.r(n)}var Yc=typeof document>"u"?null:document;function A_(n,a,o){var h=Yc;if(h&&typeof a=="string"&&a){var m=Sn(a);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),S_.has(m)||(S_.add(m),n={rel:n,crossOrigin:o,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),sn(a,"link",n),Ei(a),h.head.appendChild(a)))}}function dS(n){Pl.D(n),A_("dns-prefetch",n,null)}function pS(n,a){Pl.C(n,a),A_("preconnect",n,a)}function mS(n,a,o){Pl.L(n,a,o);var h=Yc;if(h&&n&&a){var m='link[rel="preload"][as="'+Sn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Sn(o.imageSizes)+'"]')):m+='[href="'+Sn(n)+'"]';var x=m;switch(a){case"style":x=Lc(n);break;case"script":x=Xc(n)}ja.has(x)||(n=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:n,as:a},o),ja.set(x,n),h.querySelector(m)!==null||a==="style"&&h.querySelector(Rf(x))||a==="script"&&h.querySelector(Bf(x))||(a=h.createElement("link"),sn(a,"link",n),Ei(a),h.head.appendChild(a)))}}function yS(n,a){Pl.m(n,a);var o=Yc;if(o&&n){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Sn(h)+'"][href="'+Sn(n)+'"]',x=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Xc(n)}if(!ja.has(x)&&(n=v({rel:"modulepreload",href:n},a),ja.set(x,n),o.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bf(x)))return}h=o.createElement("link"),sn(h,"link",n),Ei(h),o.head.appendChild(h)}}}function gS(n,a,o){Pl.S(n,a,o);var h=Yc;if(h&&n){var m=Al(h).hoistableStyles,x=Lc(n);a=a||"default";var C=m.get(x);if(!C){var O={loading:0,preload:null};if(C=h.querySelector(Rf(x)))O.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":a},o),(o=ja.get(x))&&D0(n,o);var j=C=h.createElement("link");Ei(j),sn(j,"link",n),j._p=new Promise(function($,ht){j.onload=$,j.onerror=ht}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Wp(C,a,h)}C={type:"stylesheet",instance:C,count:1,state:O},m.set(x,C)}}}function _S(n,a){Pl.X(n,a);var o=Yc;if(o&&n){var h=Al(o).hoistableScripts,m=Xc(n),x=h.get(m);x||(x=o.querySelector(Bf(m)),x||(n=v({src:n,async:!0},a),(a=ja.get(m))&&H0(n,a),x=o.createElement("script"),Ei(x),sn(x,"link",n),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(m,x))}}function vS(n,a){Pl.M(n,a);var o=Yc;if(o&&n){var h=Al(o).hoistableScripts,m=Xc(n),x=h.get(m);x||(x=o.querySelector(Bf(m)),x||(n=v({src:n,async:!0,type:"module"},a),(a=ja.get(m))&&H0(n,a),x=o.createElement("script"),Ei(x),sn(x,"link",n),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(m,x))}}function E_(n,a,o,h){var m=(m=zt.current)?Pp(m):null;if(!m)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Lc(o.href),o=Al(m).hoistableStyles,h=o.get(a),h||(h={type:"style",instance:null,count:0,state:null},o.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Lc(o.href);var x=Al(m).hoistableStyles,C=x.get(n);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,C),(x=m.querySelector(Rf(n)))&&!x._p&&(C.instance=x,C.state.loading=5),ja.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ja.set(n,o),x||xS(m,n,o,C.state))),a&&h===null)throw Error(s(528,""));return C}if(a&&h!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Xc(o),o=Al(m).hoistableScripts,h=o.get(a),h||(h={type:"script",instance:null,count:0,state:null},o.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Lc(n){return'href="'+Sn(n)+'"'}function Rf(n){return'link[rel="stylesheet"]['+n+"]"}function w_(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function xS(n,a,o,h){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=n.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),sn(a,"link",o),Ei(a),n.head.appendChild(a))}function Xc(n){return'[src="'+Sn(n)+'"]'}function Bf(n){return"script[async]"+n}function T_(n,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var h=n.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(h)return a.instance=h,Ei(h),h;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),Ei(h),sn(h,"style",m),Wp(h,o.precedence,n),a.instance=h;case"stylesheet":m=Lc(o.href);var x=n.querySelector(Rf(m));if(x)return a.state.loading|=4,a.instance=x,Ei(x),x;h=w_(o),(m=ja.get(m))&&D0(h,m),x=(n.ownerDocument||n).createElement("link"),Ei(x);var C=x;return C._p=new Promise(function(O,j){C.onload=O,C.onerror=j}),sn(x,"link",h),a.state.loading|=4,Wp(x,o.precedence,n),a.instance=x;case"script":return x=Xc(o.src),(m=n.querySelector(Bf(x)))?(a.instance=m,Ei(m),m):(h=o,(m=ja.get(x))&&(h=v({},o),H0(h,m)),n=n.ownerDocument||n,m=n.createElement("script"),Ei(m),sn(m,"link",h),n.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Wp(h,o.precedence,n));return a.instance}function Wp(n,a,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,x=m,C=0;C<h.length;C++){var O=h[C];if(O.dataset.precedence===a)x=O;else if(x!==m)break}x?x.parentNode.insertBefore(n,x.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(n,a.firstChild))}function D0(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function H0(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Ip=null;function M_(n,a,o){if(Ip===null){var h=new Map,m=Ip=new Map;m.set(o,h)}else m=Ip,h=m.get(o),h||(h=new Map,m.set(o,h));if(h.has(n))return h;for(h.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var x=o[m];if(!(x[Cs]||x[Oi]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(a)||"";C=n+C;var O=h.get(C);O?O.push(x):h.set(C,[x])}}return h}function C_(n,a,o){n=n.ownerDocument||n,n.head.insertBefore(o,a==="title"?n.querySelector("head > title"):null)}function bS(n,a,o){if(o===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function z_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Of=null;function SS(){}function AS(n,a,o){if(Of===null)throw Error(s(475));var h=Of;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Lc(o.href),x=n.querySelector(Rf(m));if(x){n=x._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(h.count++,h=Jp.bind(h),n.then(h,h)),a.state.loading|=4,a.instance=x,Ei(x);return}x=n.ownerDocument||n,o=w_(o),(m=ja.get(m))&&D0(o,m),x=x.createElement("link"),Ei(x);var C=x;C._p=new Promise(function(O,j){C.onload=O,C.onerror=j}),sn(x,"link",o),a.instance=x}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Jp.bind(h),n.addEventListener("load",a),n.addEventListener("error",a))}}function ES(){if(Of===null)throw Error(s(475));var n=Of;return n.stylesheets&&n.count===0&&N0(n,n.stylesheets),0<n.count?function(a){var o=setTimeout(function(){if(n.stylesheets&&N0(n,n.stylesheets),n.unsuspend){var h=n.unsuspend;n.unsuspend=null,h()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Jp(){if(this.count--,this.count===0){if(this.stylesheets)N0(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $p=null;function N0(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$p=new Map,a.forEach(wS,n),$p=null,Jp.call(n))}function wS(n,a){if(!(a.state.loading&4)){var o=$p.get(n);if(o)var h=o.get(null);else{o=new Map,$p.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var C=m[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),h=C)}h&&o.set(null,h)}m=a.instance,C=m.getAttribute("data-precedence"),x=o.get(C)||h,x===h&&o.set(null,m),o.set(C,m),this.count++,h=Jp.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),x?x.parentNode.insertBefore(m,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),a.state.loading|=4}}var Uf={$$typeof:Y,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function TS(n,a,o,h,m,x,C,O){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function R_(n,a,o,h,m,x,C,O,j,$,ht,dt){return n=new TS(n,a,o,C,O,j,$,dt),a=1,x===!0&&(a|=24),x=gn(3,null,null,a),n.current=x,x.stateNode=n,a=rc(),a.refCount++,n.pooledCache=a,a.refCount++,x.memoizedState={element:h,isDehydrated:o,cache:a},nf(x),n}function B_(n){return n?(n=Xs,n):Xs}function O_(n,a,o,h,m,x){m=B_(m),h.context===null?h.context=m:h.pendingContext=m,h=za(a),h.payload={element:o},x=x===void 0?null:x,x!==null&&(h.callback=x),o=cs(n,h,a),o!==null&&(an(o,n,a),Bl(o,n,a))}function U_(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<a?o:a}}function G0(n,a){U_(n,a),(n=n.alternate)&&U_(n,a)}function D_(n){if(n.tag===13){var a=ss(n,67108864);a!==null&&an(a,n,67108864),G0(n,67108864)}}var tm=!0;function MS(n,a,o,h){var m=q.T;q.T=null;var x=I.p;try{I.p=2,Y0(n,a,o,h)}finally{I.p=x,q.T=m}}function CS(n,a,o,h){var m=q.T;q.T=null;var x=I.p;try{I.p=8,Y0(n,a,o,h)}finally{I.p=x,q.T=m}}function Y0(n,a,o,h){if(tm){var m=L0(h);if(m===null)w0(n,a,h,em,o),N_(n,h);else if(RS(m,n,a,o,h))h.stopPropagation();else if(N_(n,h),a&4&&-1<zS.indexOf(n)){for(;m!==null;){var x=Rs(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=ue(x.pendingLanes);if(C!==0){var O=x;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var j=1<<31-T(C);O.entanglements[1]|=j,C&=~j}cl(x),(be&6)===0&&(ki=Xe()+500,Tf(0))}}break;case 13:O=ss(x,2),O!==null&&an(O,x,2),Xa(),G0(x,2)}if(x=L0(h),x===null&&w0(n,a,h,em,o),x===m)break;m=x}m!==null&&h.stopPropagation()}else w0(n,a,h,null,o)}}function L0(n){return n=jo(n),X0(n)}var em=null;function X0(n){if(em=null,n=zs(n),n!==null){var a=c(n);if(a===null)n=null;else{var o=a.tag;if(o===13){if(n=f(a),n!==null)return n;n=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return em=n,null}function H_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case ws:return 2;case cn:return 8;case hn:case qn:return 32;case xl:return 268435456;default:return 32}default:return 32}}var q0=!1,$r=null,tu=null,eu=null,Df=new Map,Hf=new Map,iu=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(n,a){switch(n){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":tu=null;break;case"mouseover":case"mouseout":eu=null;break;case"pointerover":case"pointerout":Df.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hf.delete(a.pointerId)}}function Nf(n,a,o,h,m,x){return n===null||n.nativeEvent!==x?(n={blockedOn:a,domEventName:o,eventSystemFlags:h,nativeEvent:x,targetContainers:[m]},a!==null&&(a=Rs(a),a!==null&&D_(a)),n):(n.eventSystemFlags|=h,a=n.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),n)}function RS(n,a,o,h,m){switch(a){case"focusin":return $r=Nf($r,n,a,o,h,m),!0;case"dragenter":return tu=Nf(tu,n,a,o,h,m),!0;case"mouseover":return eu=Nf(eu,n,a,o,h,m),!0;case"pointerover":var x=m.pointerId;return Df.set(x,Nf(Df.get(x)||null,n,a,o,h,m)),!0;case"gotpointercapture":return x=m.pointerId,Hf.set(x,Nf(Hf.get(x)||null,n,a,o,h,m)),!0}return!1}function G_(n){var a=zs(n.target);if(a!==null){var o=c(a);if(o!==null){if(a=o.tag,a===13){if(a=f(o),a!==null){n.blockedOn=a,zd(n.priority,function(){if(o.tag===13){var h=Je();h=cr(h);var m=ss(o,h);m!==null&&an(m,o,h),G0(o,h)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function im(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var o=L0(n.nativeEvent);if(o===null){o=n.nativeEvent;var h=new o.constructor(o.type,o);qo=h,o.target.dispatchEvent(h),qo=null}else return a=Rs(o),a!==null&&D_(a),n.blockedOn=o,!1;a.shift()}return!0}function Y_(n,a,o){im(n)&&o.delete(a)}function BS(){q0=!1,$r!==null&&im($r)&&($r=null),tu!==null&&im(tu)&&(tu=null),eu!==null&&im(eu)&&(eu=null),Df.forEach(Y_),Hf.forEach(Y_)}function nm(n,a){n.blockedOn===a&&(n.blockedOn=null,q0||(q0=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,BS)))}var am=null;function L_(n){am!==n&&(am=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){am===n&&(am=null);for(var a=0;a<n.length;a+=3){var o=n[a],h=n[a+1],m=n[a+2];if(typeof h!="function"){if(X0(h||o)===null)continue;break}var x=Rs(o);x!==null&&(n.splice(a,3),a-=3,vf(x,{pending:!0,data:m,method:o.method,action:h},h,m))}}))}function Gf(n){function a(j){return nm(j,n)}$r!==null&&nm($r,n),tu!==null&&nm(tu,n),eu!==null&&nm(eu,n),Df.forEach(a),Hf.forEach(a);for(var o=0;o<iu.length;o++){var h=iu[o];h.blockedOn===n&&(h.blockedOn=null)}for(;0<iu.length&&(o=iu[0],o.blockedOn===null);)G_(o),o.blockedOn===null&&iu.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var m=o[h],x=o[h+1],C=m[ji]||null;if(typeof x=="function")C||L_(o);else if(C){var O=null;if(x&&x.hasAttribute("formAction")){if(m=x,C=x[ji]||null)O=C.formAction;else if(X0(m)!==null)continue}else O=C.action;typeof O=="function"?o[h+1]=O:(o.splice(h,3),h-=3),L_(o)}}}function j0(n){this._internalRoot=n}sm.prototype.render=j0.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,h=Je();O_(o,h,n,a,null,null)},sm.prototype.unmount=j0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;O_(n.current,2,null,n,null,null),Xa(),a[Ts]=null}};function sm(n){this._internalRoot=n}sm.prototype.unstable_scheduleHydration=function(n){if(n){var a=gu();n={blockedOn:null,target:n,priority:a};for(var o=0;o<iu.length&&a!==0&&a<iu[o].priority;o++);iu.splice(o,0,n),o===0&&G_(n)}};var X_=t.version;if(X_!=="19.1.0")throw Error(s(527,X_,"19.1.0"));I.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=_(a),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var OS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{bl=lm.inject(OS),B=lm}catch{}}return Lf.createRoot=function(n,a){if(!r(n))throw Error(s(299));var o=!1,h="",m=so,x=Ec,C=Xp,O=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks)),a=R_(n,1,!1,null,null,o,h,m,x,C,O,null),n[Ts]=a.current,E0(n),new j0(a)},Lf.hydrateRoot=function(n,a,o){if(!r(n))throw Error(s(299));var h=!1,m="",x=so,C=Ec,O=Xp,j=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),a=R_(n,1,!0,a,o??null,h,m,x,C,O,j,$),a.context=B_(null),o=a.current,h=Je(),h=cr(h),m=za(h),m.callback=null,cs(o,m,h),o=h,a.current.lanes=o,or(a,o),cl(a),n[Ts]=a.current,E0(n),new sm(a)},Lf.version="19.1.0",Lf}var I_;function jS(){if(I_)return k0.exports;I_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),k0.exports=qS(),k0.exports}var VS=jS();function gx(i,t,e){if(!i)return;if(e(i)===!0)return i;let s=i.child;for(;s;){const r=gx(s,t,e);if(r)return r;s=s.sibling}}function _x(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const Ug=_x(Vt.createContext(null));let vx=class extends Vt.Component{render(){return Vt.createElement(Ug.Provider,{value:this._reactInternals},this.props.children)}};function ZS(){const i=Vt.useContext(Ug);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=Vt.useId();return Vt.useMemo(()=>{for(const e of[i,i?.alternate]){if(!e)continue;const s=gx(e,!1,r=>{let c=r.memoizedState;for(;c;){if(c.memoizedState===t)return!0;c=c.next}});if(s)return s}},[i,t])}const kS=Symbol.for("react.context"),QS=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===kS;function FS(){const i=ZS(),[t]=Vt.useState(()=>new Map);t.clear();let e=i;for(;e;){const s=e.type;QS(s)&&s!==Ug&&!t.has(s)&&t.set(s,Vt.use(_x(s))),e=e.return}return t}function KS(){const i=FS();return Vt.useMemo(()=>Array.from(i.keys()).reduce((t,e)=>s=>Vt.createElement(t,null,Vt.createElement(e.Provider,{...s,value:i.get(e)})),t=>Vt.createElement(vx,{...t})),[i])}const PS="modulepreload",WS=function(i){return"/react-pixi-tilemap-example/"+i},J_={},Nm=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){let _=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=f?.nonce||f?.getAttribute("nonce");r=_(e.map(y=>{if(y=WS(y),y in J_)return;J_[y]=!0;const v=y.endsWith(".css"),E=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const M=document.createElement("link");if(M.rel=v?"stylesheet":PS,v||(M.as="script"),M.crossOrigin="",M.href=y,d&&M.setAttribute("nonce",d),document.head.appendChild(M),v)return new Promise((w,z)=>{M.addEventListener("load",w),M.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(f){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=f,window.dispatchEvent(d),!d.defaultPrevented)throw f}return r.then(f=>{for(const d of f||[])d.status==="rejected"&&c(d.reason);return t().catch(c)})};var Mt=(i=>(i.Application="application",i.WebGLPipes="webgl-pipes",i.WebGLPipesAdaptor="webgl-pipes-adaptor",i.WebGLSystem="webgl-system",i.WebGPUPipes="webgpu-pipes",i.WebGPUPipesAdaptor="webgpu-pipes-adaptor",i.WebGPUSystem="webgpu-system",i.CanvasSystem="canvas-system",i.CanvasPipesAdaptor="canvas-pipes-adaptor",i.CanvasPipes="canvas-pipes",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i.MaskEffect="mask-effect",i.BlendMode="blend-mode",i.TextureSource="texture-source",i.Environment="environment",i.ShapeBuilder="shape-builder",i.Batcher="batcher",i))(Mt||{});const Jy=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},rm=(i,t)=>Jy(i).priority??t,di={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(Jy).forEach(t=>{t.type.forEach(e=>this._removeHandlers[e]?.(t))}),this},add(...i){return i.map(Jy).forEach(t=>{t.type.forEach(e=>{const s=this._addHandlers,r=this._queue;s[e]?s[e]?.(t):(r[e]=r[e]||[],r[e]?.push(t))})}),this},handle(i,t,e){const s=this._addHandlers,r=this._removeHandlers;if(s[i]||r[i])throw new Error(`Extension type ${i} already has a handler`);s[i]=t,r[i]=e;const c=this._queue;return c[i]&&(c[i]?.forEach(f=>t(f)),delete c[i]),this},handleByMap(i,t){return this.handle(i,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByNamedList(i,t,e=-1){return this.handle(i,s=>{t.findIndex(c=>c.name===s.name)>=0||(t.push({name:s.name,value:s.ref}),t.sort((c,f)=>rm(f.value,e)-rm(c.value,e)))},s=>{const r=t.findIndex(c=>c.name===s.name);r!==-1&&t.splice(r,1)})},handleByList(i,t,e=-1){return this.handle(i,s=>{t.includes(s.ref)||(t.push(s.ref),t.sort((r,c)=>rm(c,e)-rm(r,e)))},s=>{const r=t.indexOf(s.ref);r!==-1&&t.splice(r,1)})},mixin(i,...t){for(const e of t)Object.defineProperties(i.prototype,Object.getOwnPropertyDescriptors(e))}},IS={extension:{type:Mt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Nm(()=>import("./browserAll-CGGmwtUc.js"),__vite__mapDeps([0,1,2]))}},JS={extension:{type:Mt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Nm(()=>import("./webworkerAll-B7KO0FJK.js"),__vite__mapDeps([1,2]))}};class vi{constructor(t,e,s){this._x=e||0,this._y=s||0,this._observer=t}clone(t){return new vi(t??this._observer,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var P0={exports:{}},$_;function $S(){return $_||($_=1,function(i){var t=Object.prototype.hasOwnProperty,e="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(e=!1));function r(_,y,v){this.fn=_,this.context=y,this.once=v||!1}function c(_,y,v,E,M){if(typeof v!="function")throw new TypeError("The listener must be a function");var w=new r(v,E||_,M),z=e?e+y:y;return _._events[z]?_._events[z].fn?_._events[z]=[_._events[z],w]:_._events[z].push(w):(_._events[z]=w,_._eventsCount++),_}function f(_,y){--_._eventsCount===0?_._events=new s:delete _._events[y]}function d(){this._events=new s,this._eventsCount=0}d.prototype.eventNames=function(){var y=[],v,E;if(this._eventsCount===0)return y;for(E in v=this._events)t.call(v,E)&&y.push(e?E.slice(1):E);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(v)):y},d.prototype.listeners=function(y){var v=e?e+y:y,E=this._events[v];if(!E)return[];if(E.fn)return[E.fn];for(var M=0,w=E.length,z=new Array(w);M<w;M++)z[M]=E[M].fn;return z},d.prototype.listenerCount=function(y){var v=e?e+y:y,E=this._events[v];return E?E.fn?1:E.length:0},d.prototype.emit=function(y,v,E,M,w,z){var H=e?e+y:y;if(!this._events[H])return!1;var R=this._events[H],D=arguments.length,N,Y;if(R.fn){switch(R.once&&this.removeListener(y,R.fn,void 0,!0),D){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,v),!0;case 3:return R.fn.call(R.context,v,E),!0;case 4:return R.fn.call(R.context,v,E,M),!0;case 5:return R.fn.call(R.context,v,E,M,w),!0;case 6:return R.fn.call(R.context,v,E,M,w,z),!0}for(Y=1,N=new Array(D-1);Y<D;Y++)N[Y-1]=arguments[Y];R.fn.apply(R.context,N)}else{var L=R.length,F;for(Y=0;Y<L;Y++)switch(R[Y].once&&this.removeListener(y,R[Y].fn,void 0,!0),D){case 1:R[Y].fn.call(R[Y].context);break;case 2:R[Y].fn.call(R[Y].context,v);break;case 3:R[Y].fn.call(R[Y].context,v,E);break;case 4:R[Y].fn.call(R[Y].context,v,E,M);break;default:if(!N)for(F=1,N=new Array(D-1);F<D;F++)N[F-1]=arguments[F];R[Y].fn.apply(R[Y].context,N)}}return!0},d.prototype.on=function(y,v,E){return c(this,y,v,E,!1)},d.prototype.once=function(y,v,E){return c(this,y,v,E,!0)},d.prototype.removeListener=function(y,v,E,M){var w=e?e+y:y;if(!this._events[w])return this;if(!v)return f(this,w),this;var z=this._events[w];if(z.fn)z.fn===v&&(!M||z.once)&&(!E||z.context===E)&&f(this,w);else{for(var H=0,R=[],D=z.length;H<D;H++)(z[H].fn!==v||M&&!z[H].once||E&&z[H].context!==E)&&R.push(z[H]);R.length?this._events[w]=R.length===1?R[0]:R:f(this,w)}return this},d.prototype.removeAllListeners=function(y){var v;return y?(v=e?e+y:y,this._events[v]&&f(this,v)):(this._events=new s,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=e,d.EventEmitter=d,i.exports=d}(P0)),P0.exports}var tA=$S();const Es=Pm(tA),eA=Math.PI*2,iA=180/Math.PI,nA=Math.PI/180;class _e{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new _e(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return W0.x=0,W0.y=0,W0}}const W0=new _e;class re{constructor(t=1,e=0,s=0,r=1,c=0,f=0){this.array=null,this.a=t,this.b=e,this.c=s,this.d=r,this.tx=c,this.ty=f}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,s,r,c,f){return this.a=t,this.b=e,this.c=s,this.d=r,this.tx=c,this.ty=f,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const s=e||this.array;return t?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(t,e){e=e||new _e;const s=t.x,r=t.y;return e.x=this.a*s+this.c*r+this.tx,e.y=this.b*s+this.d*r+this.ty,e}applyInverse(t,e){e=e||new _e;const s=this.a,r=this.b,c=this.c,f=this.d,d=this.tx,_=this.ty,y=1/(s*f+c*-r),v=t.x,E=t.y;return e.x=f*y*v+-c*y*E+(_*c-d*f)*y,e.y=s*y*E+-r*y*v+(-_*s+d*r)*y,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),s=Math.sin(t),r=this.a,c=this.c,f=this.tx;return this.a=r*e-this.b*s,this.b=r*s+this.b*e,this.c=c*e-this.d*s,this.d=c*s+this.d*e,this.tx=f*e-this.ty*s,this.ty=f*s+this.ty*e,this}append(t){const e=this.a,s=this.b,r=this.c,c=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*s+t.b*c,this.c=t.c*e+t.d*r,this.d=t.c*s+t.d*c,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*s+t.ty*c+this.ty,this}appendFrom(t,e){const s=t.a,r=t.b,c=t.c,f=t.d,d=t.tx,_=t.ty,y=e.a,v=e.b,E=e.c,M=e.d;return this.a=s*y+r*E,this.b=s*v+r*M,this.c=c*y+f*E,this.d=c*v+f*M,this.tx=d*y+_*E+e.tx,this.ty=d*v+_*M+e.ty,this}setTransform(t,e,s,r,c,f,d,_,y){return this.a=Math.cos(d+y)*c,this.b=Math.sin(d+y)*c,this.c=-Math.sin(d-_)*f,this.d=Math.cos(d-_)*f,this.tx=t-(s*this.a+r*this.c),this.ty=e-(s*this.b+r*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const s=this.a,r=this.c;this.a=s*t.a+this.b*t.c,this.b=s*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,s=this.b,r=this.c,c=this.d,f=t.pivot,d=-Math.atan2(-r,c),_=Math.atan2(s,e),y=Math.abs(d+_);return y<1e-5||Math.abs(eA-y)<1e-5?(t.rotation=_,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=d,t.skew.y=_),t.scale.x=Math.sqrt(e*e+s*s),t.scale.y=Math.sqrt(r*r+c*c),t.position.x=this.tx+(f.x*e+f.y*r),t.position.y=this.ty+(f.x*s+f.y*c),t}invert(){const t=this.a,e=this.b,s=this.c,r=this.d,c=this.tx,f=t*r-e*s;return this.a=r/f,this.b=-e/f,this.c=-s/f,this.d=t/f,this.tx=(s*this.ty-r*c)/f,this.ty=-(t*this.ty-e*c)/f,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new re;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return sA.identity()}static get shared(){return aA.identity()}}const aA=new re,sA=new re,mo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],yo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],go=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],_o=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],$y=[],xx=[],um=Math.sign;function lA(){for(let i=0;i<16;i++){const t=[];$y.push(t);for(let e=0;e<16;e++){const s=um(mo[i]*mo[e]+go[i]*yo[e]),r=um(yo[i]*mo[e]+_o[i]*yo[e]),c=um(mo[i]*go[e]+go[i]*_o[e]),f=um(yo[i]*go[e]+_o[i]*_o[e]);for(let d=0;d<16;d++)if(mo[d]===s&&yo[d]===r&&go[d]===c&&_o[d]===f){t.push(d);break}}}for(let i=0;i<16;i++){const t=new re;t.set(mo[i],yo[i],go[i],_o[i],0,0),xx.push(t)}}lA();const ce={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>mo[i],uY:i=>yo[i],vX:i=>go[i],vY:i=>_o[i],inv:i=>i&8?i&15:-i&7,add:(i,t)=>$y[i][t],sub:(i,t)=>$y[i][ce.inv(t)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,t)=>Math.abs(i)*2<=Math.abs(t)?t>=0?ce.S:ce.N:Math.abs(t)*2<=Math.abs(i)?i>0?ce.E:ce.W:t>0?i>0?ce.SE:ce.SW:i>0?ce.NE:ce.NW,matrixAppendRotationInv:(i,t,e=0,s=0)=>{const r=xx[ce.inv(t)];r.tx=e,r.ty=s,i.append(r)}},om=[new _e,new _e,new _e,new _e];class Qe{constructor(t=0,e=0,s=0,r=0){this.type="rectangle",this.x=Number(t),this.y=Number(e),this.width=Number(s),this.height=Number(r)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Qe(0,0,0,0)}clone(){return new Qe(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}strokeContains(t,e,s,r=.5){const{width:c,height:f}=this;if(c<=0||f<=0)return!1;const d=this.x,_=this.y,y=s*(1-r),v=s-y,E=d-y,M=d+c+y,w=_-y,z=_+f+y,H=d+v,R=d+c-v,D=_+v,N=_+f-v;return t>=E&&t<=M&&e>=w&&e<=z&&!(t>H&&t<R&&e>D&&e<N)}intersects(t,e){if(!e){const gt=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=gt)return!1;const rt=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>rt}const s=this.left,r=this.right,c=this.top,f=this.bottom;if(r<=s||f<=c)return!1;const d=om[0].set(t.left,t.top),_=om[1].set(t.left,t.bottom),y=om[2].set(t.right,t.top),v=om[3].set(t.right,t.bottom);if(y.x<=d.x||_.y<=d.y)return!1;const E=Math.sign(e.a*e.d-e.b*e.c);if(E===0||(e.apply(d,d),e.apply(_,_),e.apply(y,y),e.apply(v,v),Math.max(d.x,_.x,y.x,v.x)<=s||Math.min(d.x,_.x,y.x,v.x)>=r||Math.max(d.y,_.y,y.y,v.y)<=c||Math.min(d.y,_.y,y.y,v.y)>=f))return!1;const M=E*(_.y-d.y),w=E*(d.x-_.x),z=M*s+w*c,H=M*r+w*c,R=M*s+w*f,D=M*r+w*f;if(Math.max(z,H,R,D)<=M*d.x+w*d.y||Math.min(z,H,R,D)>=M*v.x+w*v.y)return!1;const N=E*(d.y-y.y),Y=E*(y.x-d.x),L=N*s+Y*c,F=N*r+Y*c,tt=N*s+Y*f,K=N*r+Y*f;return!(Math.max(L,F,tt,K)<=N*d.x+Y*d.y||Math.min(L,F,tt,K)>=N*v.x+Y*v.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),s=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),c=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(s-e,0),this.y=r,this.height=Math.max(c-r,0),this}ceil(t=1,e=.001){const s=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=s-this.x,this.height=r-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),s=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),c=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=s-e,this.y=r,this.height=c-r,this}getBounds(t){return t||(t=new Qe),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const e=t.x,s=t.y,r=t.x+t.width,c=t.y+t.height;return e>=this.x&&e<this.x+this.width&&s>=this.y&&s<this.y+this.height&&r>=this.x&&r<this.x+this.width&&c>=this.y&&c<this.y+this.height}set(t,e,s,r){return this.x=t,this.y=e,this.width=s,this.height=r,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const I0={default:-1};function xi(i="default"){return I0[i]===void 0&&(I0[i]=-1),++I0[i]}const t1={},Be="8.0.0",rA="8.3.4";function le(i,t,e=3){if(t1[t])return;let s=new Error().stack;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${i}`):(s=s.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${i}`),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${i}`),console.warn(s))),t1[t]=!0}const Dg=()=>{};function Gm(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function e1(i){return!(i&i-1)&&!!i}function bx(i){const t={};for(const e in i)i[e]!==void 0&&(t[e]=i[e]);return t}const i1=Object.create(null);function uA(i){const t=i1[i];return t===void 0&&(i1[i]=xi("resource")),t}const Sx=class Ax extends Es{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Ax.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){le(Be,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=uA(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Sx.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Ym=Sx;const Ex=class wx extends Es{constructor(t={}){super(),this.options=t,this.uid=xi("textureSource"),this._resourceType="textureSource",this._resourceId=xi("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...wx.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new Ym(bx(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=xi("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,e,s){s||(s=this._resolution),t||(t=this.width),e||(e=this.height);const r=Math.round(t*s),c=Math.round(e*s);return this.width=r/s,this.height=c/s,this._resolution=s,this.pixelWidth===r&&this.pixelHeight===c?!1:(this._refreshPOT(),this.pixelWidth=r,this.pixelHeight=c,this.emit("resize",this),this._resourceId=xi("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=e1(this.pixelWidth)&&e1(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};Ex.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Sa=Ex;class Hg extends Sa{constructor(t){const e=t.resource||new Float32Array(t.width*t.height*4);let s=t.format;s||(e instanceof Float32Array?s="rgba32float":e instanceof Int32Array||e instanceof Uint32Array?s="rgba32uint":e instanceof Int16Array||e instanceof Uint16Array?s="rgba16uint":(e instanceof Int8Array,s="bgra8unorm")),super({...t,resource:e,format:s}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}Hg.extension=Mt.TextureSource;const n1=new re;class oA{constructor(t,e){this.mapCoord=new re,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof e>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=e,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,e){e===void 0&&(e=t);const s=this.mapCoord;for(let r=0;r<t.length;r+=2){const c=t[r],f=t[r+1];e[r]=c*s.a+f*s.c+s.tx,e[r+1]=c*s.b+f*s.d+s.ty}return e}update(){const t=this._texture;this._updateID++;const e=t.uvs;this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0);const s=t.orig,r=t.trim;r&&(n1.set(s.width/r.width,0,0,s.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(n1));const c=t.source,f=this.uClampFrame,d=this.clampMargin/c._resolution,_=this.clampOffset/c._resolution;return f[0]=(t.frame.x+d+_)/c.width,f[1]=(t.frame.y+d+_)/c.height,f[2]=(t.frame.x+t.frame.width-d+_)/c.width,f[3]=(t.frame.y+t.frame.height-d+_)/c.height,this.uClampOffset[0]=this.clampOffset/c.pixelWidth,this.uClampOffset[1]=this.clampOffset/c.pixelHeight,this.isSimple=t.frame.width===c.width&&t.frame.height===c.height&&t.rotate===0,!0}}class Zt extends Es{constructor({source:t,label:e,frame:s,orig:r,trim:c,defaultAnchor:f,defaultBorders:d,rotate:_,dynamic:y}={}){if(super(),this.uid=xi("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Qe,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=e,this.source=t?.source??new Sa,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:v,height:E}=this._source;this.frame.width=v,this.frame.height=E}this.orig=r||this.frame,this.trim=c,this.rotate=_??0,this.defaultAnchor=f,this.defaultBorders=d,this.destroyed=!1,this.dynamic=y||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new oA(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:e}=this,{width:s,height:r}=this._source,c=e.x/s,f=e.y/r,d=e.width/s,_=e.height/r;let y=this.rotate;if(y){const v=d/2,E=_/2,M=c+v,w=f+E;y=ce.add(y,ce.NW),t.x0=M+v*ce.uX(y),t.y0=w+E*ce.uY(y),y=ce.add(y,2),t.x1=M+v*ce.uX(y),t.y1=w+E*ce.uY(y),y=ce.add(y,2),t.x2=M+v*ce.uX(y),t.y2=w+E*ce.uY(y),y=ce.add(y,2),t.x3=M+v*ce.uX(y),t.y3=w+E*ce.uY(y)}else t.x0=c,t.y0=f,t.x1=c+d,t.y1=f,t.x2=c+d,t.y2=f+_,t.x3=c,t.y3=f+_}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return le(Be,"Texture.baseTexture is now Texture.source"),this._source}}Zt.EMPTY=new Zt({label:"EMPTY",source:new Sa({label:"EMPTY"})});Zt.EMPTY.destroy=Dg;Zt.WHITE=new Zt({source:new Hg({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Zt.WHITE.destroy=Dg;function cA(i,t,e){const{width:s,height:r}=e.orig,c=e.trim;if(c){const f=c.width,d=c.height;i.minX=c.x-t._x*s,i.maxX=i.minX+f,i.minY=c.y-t._y*r,i.maxY=i.minY+d}else i.minX=-t._x*s,i.maxX=i.minX+s,i.minY=-t._y*r,i.maxY=i.minY+r}const a1=new re;class Qa{constructor(t=1/0,e=1/0,s=-1/0,r=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=a1,this.minX=t,this.minY=e,this.maxX=s,this.maxY=r}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Qe);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=a1,this}set(t,e,s,r){this.minX=t,this.minY=e,this.maxX=s,this.maxY=r}addFrame(t,e,s,r,c){c||(c=this.matrix);const f=c.a,d=c.b,_=c.c,y=c.d,v=c.tx,E=c.ty;let M=this.minX,w=this.minY,z=this.maxX,H=this.maxY,R=f*t+_*e+v,D=d*t+y*e+E;R<M&&(M=R),D<w&&(w=D),R>z&&(z=R),D>H&&(H=D),R=f*s+_*e+v,D=d*s+y*e+E,R<M&&(M=R),D<w&&(w=D),R>z&&(z=R),D>H&&(H=D),R=f*t+_*r+v,D=d*t+y*r+E,R<M&&(M=R),D<w&&(w=D),R>z&&(z=R),D>H&&(H=D),R=f*s+_*r+v,D=d*s+y*r+E,R<M&&(M=R),D<w&&(w=D),R>z&&(z=R),D>H&&(H=D),this.minX=M,this.minY=w,this.maxX=z,this.maxY=H}addRect(t,e){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,e)}addBounds(t,e){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,e)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const e=this.minX,s=this.minY,r=this.maxX,c=this.maxY,{a:f,b:d,c:_,d:y,tx:v,ty:E}=t;let M=f*e+_*s+v,w=d*e+y*s+E;this.minX=M,this.minY=w,this.maxX=M,this.maxY=w,M=f*r+_*s+v,w=d*r+y*s+E,this.minX=M<this.minX?M:this.minX,this.minY=w<this.minY?w:this.minY,this.maxX=M>this.maxX?M:this.maxX,this.maxY=w>this.maxY?w:this.maxY,M=f*e+_*c+v,w=d*e+y*c+E,this.minX=M<this.minX?M:this.minX,this.minY=w<this.minY?w:this.minY,this.maxX=M>this.maxX?M:this.maxX,this.maxY=w>this.maxY?w:this.maxY,M=f*r+_*c+v,w=d*r+y*c+E,this.minX=M<this.minX?M:this.minX,this.minY=w<this.minY?w:this.minY,this.maxX=M>this.maxX?M:this.maxX,this.maxY=w>this.maxY?w:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,e,s,r){return this.minX<t&&(this.minX=t),this.maxX>e&&(this.maxX=e),this.minY<s&&(this.minY=s),this.maxY>r&&(this.maxY=r),this}pad(t,e=t){return this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Qa(this.minX,this.minY,this.maxX,this.maxY)}scale(t,e=t){return this.minX*=t,this.minY*=e,this.maxX*=t,this.maxY*=e,this}get x(){return this.minX}set x(t){const e=this.maxX-this.minX;this.minX=t,this.maxX=t+e}get y(){return this.minY}set y(t){const e=this.maxY-this.minY;this.minY=t,this.maxY=t+e}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,e,s,r){let c=this.minX,f=this.minY,d=this.maxX,_=this.maxY;r||(r=this.matrix);const y=r.a,v=r.b,E=r.c,M=r.d,w=r.tx,z=r.ty;for(let H=e;H<s;H+=2){const R=t[H],D=t[H+1],N=y*R+E*D+w,Y=v*R+M*D+z;c=N<c?N:c,f=Y<f?Y:f,d=N>d?N:d,_=Y>_?Y:_}this.minX=c,this.minY=f,this.maxX=d,this.maxY=_}containsPoint(t,e){return this.minX<=t&&this.minY<=e&&this.maxX>=t&&this.maxY>=e}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var hA={grad:.9,turn:360,rad:360/(2*Math.PI)},Wl=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},Pi=function(i,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*i)/e+0},ka=function(i,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),i>e?e:i>t?i:t},Tx=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},s1=function(i){return{r:ka(i.r,0,255),g:ka(i.g,0,255),b:ka(i.b,0,255),a:ka(i.a)}},J0=function(i){return{r:Pi(i.r),g:Pi(i.g),b:Pi(i.b),a:Pi(i.a,3)}},fA=/^#([0-9a-f]{3,8})$/i,cm=function(i){var t=i.toString(16);return t.length<2?"0"+t:t},Mx=function(i){var t=i.r,e=i.g,s=i.b,r=i.a,c=Math.max(t,e,s),f=c-Math.min(t,e,s),d=f?c===t?(e-s)/f:c===e?2+(s-t)/f:4+(t-e)/f:0;return{h:60*(d<0?d+6:d),s:c?f/c*100:0,v:c/255*100,a:r}},Cx=function(i){var t=i.h,e=i.s,s=i.v,r=i.a;t=t/360*6,e/=100,s/=100;var c=Math.floor(t),f=s*(1-e),d=s*(1-(t-c)*e),_=s*(1-(1-t+c)*e),y=c%6;return{r:255*[s,d,f,f,_,s][y],g:255*[_,s,s,d,f,f][y],b:255*[f,f,_,s,s,d][y],a:r}},l1=function(i){return{h:Tx(i.h),s:ka(i.s,0,100),l:ka(i.l,0,100),a:ka(i.a)}},r1=function(i){return{h:Pi(i.h),s:Pi(i.s),l:Pi(i.l),a:Pi(i.a,3)}},u1=function(i){return Cx((e=(t=i).s,{h:t.h,s:(e*=((s=t.l)<50?s:100-s)/100)>0?2*e/(s+e)*100:0,v:s+e,a:t.a}));var t,e,s},ed=function(i){return{h:(t=Mx(i)).h,s:(r=(200-(e=t.s))*(s=t.v)/100)>0&&r<200?e*s/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,e,s,r},dA=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,pA=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mA=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yA=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tg={string:[[function(i){var t=fA.exec(i);return t?(i=t[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?Pi(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?Pi(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var t=mA.exec(i)||yA.exec(i);return t?t[2]!==t[4]||t[4]!==t[6]?null:s1({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(i){var t=dA.exec(i)||pA.exec(i);if(!t)return null;var e,s,r=l1({h:(e=t[1],s=t[2],s===void 0&&(s="deg"),Number(e)*(hA[s]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return u1(r)},"hsl"]],object:[[function(i){var t=i.r,e=i.g,s=i.b,r=i.a,c=r===void 0?1:r;return Wl(t)&&Wl(e)&&Wl(s)?s1({r:Number(t),g:Number(e),b:Number(s),a:Number(c)}):null},"rgb"],[function(i){var t=i.h,e=i.s,s=i.l,r=i.a,c=r===void 0?1:r;if(!Wl(t)||!Wl(e)||!Wl(s))return null;var f=l1({h:Number(t),s:Number(e),l:Number(s),a:Number(c)});return u1(f)},"hsl"],[function(i){var t=i.h,e=i.s,s=i.v,r=i.a,c=r===void 0?1:r;if(!Wl(t)||!Wl(e)||!Wl(s))return null;var f=function(d){return{h:Tx(d.h),s:ka(d.s,0,100),v:ka(d.v,0,100),a:ka(d.a)}}({h:Number(t),s:Number(e),v:Number(s),a:Number(c)});return Cx(f)},"hsv"]]},o1=function(i,t){for(var e=0;e<t.length;e++){var s=t[e][0](i);if(s)return[s,t[e][1]]}return[null,void 0]},gA=function(i){return typeof i=="string"?o1(i.trim(),tg.string):typeof i=="object"&&i!==null?o1(i,tg.object):[null,void 0]},$0=function(i,t){var e=ed(i);return{h:e.h,s:ka(e.s+100*t,0,100),l:e.l,a:e.a}},ty=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},c1=function(i,t){var e=ed(i);return{h:e.h,s:e.s,l:ka(e.l+100*t,0,100),a:e.a}},eg=function(){function i(t){this.parsed=gA(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return Pi(ty(this.rgba),2)},i.prototype.isDark=function(){return ty(this.rgba)<.5},i.prototype.isLight=function(){return ty(this.rgba)>=.5},i.prototype.toHex=function(){return t=J0(this.rgba),e=t.r,s=t.g,r=t.b,f=(c=t.a)<1?cm(Pi(255*c)):"","#"+cm(e)+cm(s)+cm(r)+f;var t,e,s,r,c,f},i.prototype.toRgb=function(){return J0(this.rgba)},i.prototype.toRgbString=function(){return t=J0(this.rgba),e=t.r,s=t.g,r=t.b,(c=t.a)<1?"rgba("+e+", "+s+", "+r+", "+c+")":"rgb("+e+", "+s+", "+r+")";var t,e,s,r,c},i.prototype.toHsl=function(){return r1(ed(this.rgba))},i.prototype.toHslString=function(){return t=r1(ed(this.rgba)),e=t.h,s=t.s,r=t.l,(c=t.a)<1?"hsla("+e+", "+s+"%, "+r+"%, "+c+")":"hsl("+e+", "+s+"%, "+r+"%)";var t,e,s,r,c},i.prototype.toHsv=function(){return t=Mx(this.rgba),{h:Pi(t.h),s:Pi(t.s),v:Pi(t.v),a:Pi(t.a,3)};var t},i.prototype.invert=function(){return dl({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},i.prototype.saturate=function(t){return t===void 0&&(t=.1),dl($0(this.rgba,t))},i.prototype.desaturate=function(t){return t===void 0&&(t=.1),dl($0(this.rgba,-t))},i.prototype.grayscale=function(){return dl($0(this.rgba,-1))},i.prototype.lighten=function(t){return t===void 0&&(t=.1),dl(c1(this.rgba,t))},i.prototype.darken=function(t){return t===void 0&&(t=.1),dl(c1(this.rgba,-t))},i.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},i.prototype.alpha=function(t){return typeof t=="number"?dl({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):Pi(this.rgba.a,3);var e},i.prototype.hue=function(t){var e=ed(this.rgba);return typeof t=="number"?dl({h:t,s:e.s,l:e.l,a:e.a}):Pi(e.h)},i.prototype.isEqual=function(t){return this.toHex()===dl(t).toHex()},i}(),dl=function(i){return i instanceof eg?i:new eg(i)},h1=[],_A=function(i){i.forEach(function(t){h1.indexOf(t)<0&&(t(eg,tg),h1.push(t))})};function vA(i,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var r in e)s[e[r]]=r;var c={};i.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,_,y=s[this.toHex()];if(y)return y;if(f?.closest){var v=this.toRgb(),E=1/0,M="black";if(!c.length)for(var w in e)c[w]=new i(e[w]).toRgb();for(var z in e){var H=(d=v,_=c[z],Math.pow(d.r-_.r,2)+Math.pow(d.g-_.g,2)+Math.pow(d.b-_.b,2));H<E&&(E=H,M=z)}return M}},t.string.push([function(f){var d=f.toLowerCase(),_=d==="transparent"?"#0000":e[d];return _?new i(_).toRgb():null},"name"])}_A([vA]);const Ic=class Kf{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Kf)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,e){const s=typeof t;if(s!==typeof e)return!1;if(s==="number"||s==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((c,f)=>c===e[f]);if(t!==null&&e!==null){const c=Object.keys(t),f=Object.keys(e);return c.length!==f.length?!1:c.every(d=>t[d]===e[d])}return t===e}toRgba(){const[t,e,s,r]=this._components;return{r:t,g:e,b:s,a:r}}toRgb(){const[t,e,s]=this._components;return{r:t,g:e,b:s}}toRgbaString(){const[t,e,s]=this.toUint8RgbArray();return`rgba(${t},${e},${s},${this.alpha})`}toUint8RgbArray(t){const[e,s,r]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(e*255),t[1]=Math.round(s*255),t[2]=Math.round(r*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[e,s,r,c]=this._components;return t[0]=e,t[1]=s,t[2]=r,t[3]=c,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[e,s,r]=this._components;return t[0]=e,t[1]=s,t[2]=r,t}toNumber(){return this._int}toBgrNumber(){const[t,e,s]=this.toUint8RgbArray();return(s<<16)+(e<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,s,r,c]=Kf._temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=s,this._components[2]*=r,this._components[3]*=c,this._refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let s=this._int>>16&255,r=this._int>>8&255,c=this._int&255;return e&&(s=s*t+.5|0,r=r*t+.5|0,c=c*t+.5|0),(t*255<<24)+(s<<16)+(r<<8)+c}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let e,s,r,c;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const f=t;e=(f>>16&255)/255,s=(f>>8&255)/255,r=(f&255)/255,c=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,s,r,c=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,s,r,c=255]=t,e/=255,s/=255,r/=255,c/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const d=Kf.HEX_PATTERN.exec(t);d&&(t=`#${d[2]}`)}const f=dl(t);f.isValid()&&({r:e,g:s,b:r,a:c}=f.rgba,e/=255,s/=255,r/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=s,this._components[2]=r,this._components[3]=c,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,e,s]=this._components;this._int=(t*255<<16)+(e*255<<8)+(s*255|0)}_clamp(t,e=0,s=1){return typeof t=="number"?Math.min(Math.max(t,e),s):(t.forEach((r,c)=>{t[c]=Math.min(Math.max(r,e),s)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Kf||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Ic.shared=new Ic;Ic._temp=new Ic;Ic.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Bi=Ic;const xA={cullArea:null,cullable:!1,cullableChildren:!0};let ey=0;const f1=500;function je(...i){ey!==f1&&(ey++,ey===f1?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...i))}class Ng{constructor(t,e){this._pool=[],this._count=0,this._index=0,this._classType=t,e&&this.prepopulate(e)}prepopulate(t){for(let e=0;e<t;e++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let e;return this._index>0?e=this._pool[--this._index]:e=new this._classType,e.init?.(t),e}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class bA{constructor(){this._poolsByClass=new Map}prepopulate(t,e){this.getPool(t).prepopulate(e)}get(t,e){return this.getPool(t).get(e)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Ng(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(e=>{const s=t[e._classType.name]?e._classType.name+e._classType.ID:e._classType.name;t[s]={free:e.totalFree,used:e.totalUsed,size:e.totalSize}}),t}}const nr=new bA,SA={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(i){typeof i=="boolean"&&i===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(i===!0?{}:i))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(i){le("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(i)}};function AA(i,t,e){const s=i.length;let r;if(t>=s||e===0)return;e=t+e>s?s-t:e;const c=s-e;for(r=t;r<c;++r)i[r]=i[r+e];i.length=c}const EA={allowChildren:!0,removeChildren(i=0,t){const e=t??this.children.length,s=e-i,r=[];if(s>0&&s<=e){for(let f=e-1;f>=i;f--){const d=this.children[f];d&&(r.push(d),d.parent=null)}AA(this.children,i,e);const c=this.renderGroup||this.parentRenderGroup;c&&c.removeChildren(r);for(let f=0;f<r.length;++f){const d=r[f];d.parentRenderLayer?.detach(d),this.emit("childRemoved",d,this,f),r[f].emit("removed",this)}return r.length>0&&this._didViewChangeTick++,r}else if(s===0&&this.children.length===0)return r;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(i){const t=this.getChildAt(i);return this.removeChild(t)},getChildAt(i){if(i<0||i>=this.children.length)throw new Error(`getChildAt: Index (${i}) does not exist.`);return this.children[i]},setChildIndex(i,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(i),this.addChildAt(i,t)},getChildIndex(i){const t=this.children.indexOf(i);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(i,t){this.allowChildren||le(Be,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:e}=this;if(t<0||t>e.length)throw new Error(`${i}addChildAt: The index ${t} supplied is out of bounds ${e.length}`);if(i.parent){const r=i.parent.children.indexOf(i);if(i.parent===this&&r===t)return i;r!==-1&&i.parent.children.splice(r,1)}t===e.length?e.push(i):e.splice(t,0,i),i.parent=this,i.didChange=!0,i._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(i),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",i,this,t),i.emit("added",this),i},swapChildren(i,t){if(i===t)return;const e=this.getChildIndex(i),s=this.getChildIndex(t);this.children[e]=t,this.children[s]=i;const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...i){return i.length===1?this.reparentChildAt(i[0],this.children.length):(i.forEach(t=>this.reparentChildAt(t,this.children.length)),i[0])},reparentChildAt(i,t){if(i.parent===this)return this.setChildIndex(i,t),i;const e=i.worldTransform.clone();i.removeFromParent(),this.addChildAt(i,t);const s=this.worldTransform.clone();return s.invert(),e.prepend(s),i.setFromMatrix(e),i},replaceChild(i,t){i.updateLocalTransform(),this.addChildAt(t,this.getChildIndex(i)),t.setFromMatrix(i.localTransform),t.updateLocalTransform(),this.removeChild(i)}},wA={collectRenderables(i,t,e){this.parentRenderLayer&&this.parentRenderLayer!==e||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(i,t,e):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,i):this.collectRenderablesWithEffects(i,t,e))},collectRenderablesSimple(i,t,e){const s=this.children,r=s.length;for(let c=0;c<r;c++)s[c].collectRenderables(i,t,e)},collectRenderablesWithEffects(i,t,e){const{renderPipes:s}=t;for(let r=0;r<this.effects.length;r++){const c=this.effects[r];s[c.pipe].push(c,this,i)}this.collectRenderablesSimple(i,t,e);for(let r=this.effects.length-1;r>=0;r--){const c=this.effects[r];s[c.pipe].pop(c,this,i)}}};class d1{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class TA{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let e=0;e<this._tests.length;e++){const s=this._tests[e];if(s.test(t))return nr.get(s.maskClass,t)}return t}returnMaskEffect(t){nr.return(t)}}const ig=new TA;di.handleByList(Mt.MaskEffect,ig._effectClasses);const MA={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0)},addEffect(i){this.effects.indexOf(i)===-1&&(this.effects.push(i),this.effects.sort((e,s)=>e.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(i){const t=this.effects.indexOf(i);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(i){const t=this._maskEffect;t?.mask!==i&&(t&&(this.removeEffect(t),ig.returnMaskEffect(t),this._maskEffect=null),i!=null&&(this._maskEffect=ig.getMaskEffect(i),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(i){this._maskOptions={...this._maskOptions,...i},i.mask&&(this.mask=i.mask),this._markStructureAsChanged()},set filters(i){!Array.isArray(i)&&i&&(i=[i]);const t=this._filterEffect||(this._filterEffect=new d1);i=i;const e=i?.length>0,s=t.filters?.length>0,r=e!==s;i=Array.isArray(i)?i.slice(0):i,t.filters=Object.freeze(i),r&&(e?this.addEffect(t):(this.removeEffect(t),t.filters=i??null))},get filters(){return this._filterEffect?.filters},set filterArea(i){this._filterEffect||(this._filterEffect=new d1),this._filterEffect.filterArea=i},get filterArea(){return this._filterEffect?.filterArea}},CA={label:null,get name(){return le(Be,"Container.name property has been removed, use Container.label instead"),this.label},set name(i){le(Be,"Container.name property has been removed, use Container.label instead"),this.label=i},getChildByName(i,t=!1){return this.getChildByLabel(i,t)},getChildByLabel(i,t=!1){const e=this.children;for(let s=0;s<e.length;s++){const r=e[s];if(r.label===i||i instanceof RegExp&&i.test(r.label))return r}if(t)for(let s=0;s<e.length;s++){const c=e[s].getChildByLabel(i,!0);if(c)return c}return null},getChildrenByLabel(i,t=!1,e=[]){const s=this.children;for(let r=0;r<s.length;r++){const c=s[r];(c.label===i||i instanceof RegExp&&i.test(c.label))&&e.push(c)}if(t)for(let r=0;r<s.length;r++)s[r].getChildrenByLabel(i,!0,e);return e}},Yn=new Ng(re),ar=new Ng(Qa),zA=new re,RA={getFastGlobalBounds(i,t){t||(t=new Qa),t.clear(),this._getGlobalBoundsRecursive(!!i,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const e=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(e.worldTransform),t},_getGlobalBoundsRecursive(i,t,e){let s=t;if(i&&this.parentRenderLayer&&this.parentRenderLayer!==e||this.localDisplayStatus!==7||!this.measurable)return;const r=!!this.effects.length;if((this.renderGroup||r)&&(s=ar.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const f=this.bounds;s.addFrame(f.minX,f.minY,f.maxX,f.maxY,this.groupTransform)}const c=this.children;for(let f=0;f<c.length;f++)c[f]._getGlobalBoundsRecursive(i,s,e)}if(r){let c=!1;const f=this.renderGroup||this.parentRenderGroup;for(let d=0;d<this.effects.length;d++)this.effects[d].addBounds&&(c||(c=!0,s.applyMatrix(f.worldTransform)),this.effects[d].addBounds(s,!0));c&&(s.applyMatrix(f.worldTransform.copyTo(zA).invert()),t.addBounds(s,this.relativeGroupTransform)),t.addBounds(s),ar.return(s)}else this.renderGroup&&(t.addBounds(s,this.relativeGroupTransform),ar.return(s))}};function zx(i,t,e){e.clear();let s,r;return i.parent?t?s=i.parent.worldTransform:(r=Yn.get().identity(),s=Gg(i,r)):s=re.IDENTITY,Rx(i,e,s,t),r&&Yn.return(r),e.isValid||e.set(0,0,0,0),e}function Rx(i,t,e,s){if(!i.visible||!i.measurable)return;let r;s?r=i.worldTransform:(i.updateLocalTransform(),r=Yn.get(),r.appendFrom(i.localTransform,e));const c=t,f=!!i.effects.length;if(f&&(t=ar.get().clear()),i.boundsArea)t.addRect(i.boundsArea,r);else{i.bounds&&(t.matrix=r,t.addBounds(i.bounds));for(let d=0;d<i.children.length;d++)Rx(i.children[d],t,r,s)}if(f){for(let d=0;d<i.effects.length;d++)i.effects[d].addBounds?.(t);c.addBounds(t,re.IDENTITY),ar.return(t)}s||Yn.return(r)}function Gg(i,t){const e=i.parent;return e&&(Gg(e,t),e.updateLocalTransform(),t.append(e.localTransform)),t}function Bx(i,t){if(i===16777215||!t)return t;if(t===16777215||!i)return i;const e=i>>16&255,s=i>>8&255,r=i&255,c=t>>16&255,f=t>>8&255,d=t&255,_=e*c/255|0,y=s*f/255|0,v=r*d/255|0;return(_<<16)+(y<<8)+v}const p1=16777215;function m1(i,t){return i===p1?t:t===p1?i:Bx(i,t)}function Rm(i){return((i&255)<<16)+(i&65280)+(i>>16&255)}const BA={getGlobalAlpha(i){if(i)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,e=this.parent;for(;e;)t*=e.alpha,e=e.parent;return t},getGlobalTransform(i,t){if(t)return i.copyFrom(this.worldTransform);this.updateLocalTransform();const e=Gg(this,Yn.get().identity());return i.appendFrom(this.localTransform,e),Yn.return(e),i},getGlobalTint(i){if(i)return this.renderGroup?Rm(this.renderGroup.worldColor):this.parentRenderGroup?Rm(m1(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,e=this.parent;for(;e;)t=m1(t,e.localColor),e=e.parent;return Rm(t)}};function Ox(i,t,e){return t.clear(),e||(e=re.IDENTITY),Ux(i,t,e,i,!0),t.isValid||t.set(0,0,0,0),t}function Ux(i,t,e,s,r){let c;if(r)c=Yn.get(),c=e.copyTo(c);else{if(!i.visible||!i.measurable)return;i.updateLocalTransform();const _=i.localTransform;c=Yn.get(),c.appendFrom(_,e)}const f=t,d=!!i.effects.length;if(d&&(t=ar.get().clear()),i.boundsArea)t.addRect(i.boundsArea,c);else{i.renderPipeId&&(t.matrix=c,t.addBounds(i.bounds));const _=i.children;for(let y=0;y<_.length;y++)Ux(_[y],t,c,s,!1)}if(d){for(let _=0;_<i.effects.length;_++)i.effects[_].addLocalBounds?.(t,s);f.addBounds(t,re.IDENTITY),ar.return(t)}Yn.return(c)}function Dx(i,t){const e=i.children;for(let s=0;s<e.length;s++){const r=e[s],c=r.uid,f=(r._didViewChangeTick&65535)<<16|r._didContainerChangeTick&65535,d=t.index;(t.data[d]!==c||t.data[d+1]!==f)&&(t.data[t.index]=c,t.data[t.index+1]=f,t.didChange=!0),t.index=d+2,r.children.length&&Dx(r,t)}return t.didChange}const OA=new re,UA={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(i,t){const e=Math.sign(this.scale.x)||1;t!==0?this.scale.x=i/t*e:this.scale.x=e},_setHeight(i,t){const e=Math.sign(this.scale.y)||1;t!==0?this.scale.y=i/t*e:this.scale.y=e},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Qa});const i=this._localBoundsCacheData;return i.index=1,i.didChange=!1,i.data[0]!==this._didViewChangeTick&&(i.didChange=!0,i.data[0]=this._didViewChangeTick),Dx(this,i),i.didChange&&Ox(this,i.localBounds,OA),i.localBounds},getBounds(i,t){return zx(this,i,t||new Qa)}},DA={_onRender:null,set onRender(i){const t=this.renderGroup||this.parentRenderGroup;if(!i){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=i},get onRender(){return this._onRender}},HA={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(i){this._zIndex!==i&&(this._zIndex=i,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(NA))}};function NA(i,t){return i._zIndex-t._zIndex}const GA={getGlobalPosition(i=new _e,t=!1){return this.parent?this.parent.toGlobal(this._position,i,t):(i.x=this._position.x,i.y=this._position.y),i},toGlobal(i,t,e=!1){const s=this.getGlobalTransform(Yn.get(),e);return t=s.apply(i,t),Yn.return(s),t},toLocal(i,t,e,s){t&&(i=t.toGlobal(i,e,s));const r=this.getGlobalTransform(Yn.get(),s);return e=r.applyInverse(i,e),Yn.return(r),e}};class Hx{constructor(){this.uid=xi("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let YA=0;class LA{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new Ym(this.textureOptions)}createTexture(t,e,s){const r=new Sa({...this.textureOptions,width:t,height:e,resolution:1,antialias:s,autoGarbageCollect:!1});return new Zt({source:r,label:`texturePool_${YA++}`})}getOptimalTexture(t,e,s=1,r){let c=Math.ceil(t*s-1e-6),f=Math.ceil(e*s-1e-6);c=Gm(c),f=Gm(f);const d=(c<<17)+(f<<1)+(r?1:0);this._texturePool[d]||(this._texturePool[d]=[]);let _=this._texturePool[d].pop();return _||(_=this.createTexture(c,f,r)),_.source._resolution=s,_.source.width=c/s,_.source.height=f/s,_.source.pixelWidth=c,_.source.pixelHeight=f,_.frame.x=0,_.frame.y=0,_.frame.width=t,_.frame.height=e,_.updateUvs(),this._poolKeyHash[_.uid]=d,_}getSameSizeTexture(t,e=!1){const s=t.source;return this.getOptimalTexture(t.width,t.height,s._resolution,e)}returnTexture(t,e=!1){const s=this._poolKeyHash[t.uid];e&&(t.source.style=this.textureStyle),this._texturePool[s].push(t)}clear(t){if(t=t!==!1,t)for(const e in this._texturePool){const s=this._texturePool[e];if(s)for(let r=0;r<s.length;r++)s[r].destroy(!0)}this._texturePool={}}}const XA=new LA;class qA{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new re,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Hx,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const e=t.children;for(let s=0;s<e.length;s++){const r=e[s];r._updateFlags=15,this.addChild(r)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(XA.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const e=this.childrenToUpdate[t];e.list.fill(null),e.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const e=this.renderGroupChildren.indexOf(t);e>-1&&this.renderGroupChildren.splice(e,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const e=t.children;for(let s=0;s<e.length;s++)this.addChild(e[s])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const e=t.children;for(let s=0;s<e.length;s++)this.removeChild(e[s])}removeChildren(t){for(let e=0;e<t.length;e++)this.removeChild(t[e])}onChildUpdate(t){let e=this.childrenToUpdate[t.relativeRenderGroupDepth];e||(e=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),e.list[e.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const e=this.root.children;for(let s=0;s<e.length;s++)this._getChildren(e[s],t);return t}_getChildren(t,e=[]){if(e.push(t),t.renderGroup)return e;const s=t.children;for(let r=0;r<s.length;r++)this._getChildren(s[r],e);return e}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new re),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new re),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new re),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function jA(i,t,e={}){for(const s in t)!e[s]&&t[s]!==void 0&&(i[s]=t[s])}const iy=new vi(null),hm=new vi(null),ny=new vi(null,1,1),fm=new vi(null),y1=1,VA=2,ay=4;class rn extends Es{constructor(t={}){super(),this.uid=xi("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new re,this.relativeGroupTransform=new re,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new vi(this,0,0),this._scale=ny,this._pivot=hm,this._origin=fm,this._skew=iy,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],jA(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(e=>this.addChild(e)),t.parent?.addChild(this)}static mixin(t){le("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),di.mixin(rn,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||le(Be,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let r=0;r<t.length;r++)this.addChild(t[r]);return t[0]}const e=t[0],s=this.renderGroup||this.parentRenderGroup;return e.parent===this?(this.children.splice(this.children.indexOf(e),1),this.children.push(e),s&&(s.structureDidChange=!0),e):(e.parent&&e.parent.removeChild(e),this.children.push(e),this.sortableChildren&&(this.sortDirty=!0),e.parent=this,e.didChange=!0,e._updateFlags=15,s&&s.addChild(e),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this),this._didViewChangeTick++,e._zIndex!==0&&e.depthOfChildModified(),e)}removeChild(...t){if(t.length>1){for(let r=0;r<t.length;r++)this.removeChild(t[r]);return t[0]}const e=t[0],s=this.children.indexOf(e);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(e):this.parentRenderGroup&&this.parentRenderGroup.removeChild(e),e.parentRenderLayer&&e.parentRenderLayer.detach(e),e.parent=null,this.emit("childRemoved",e,this,s),e.emit("removed",this)),e}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=nr.get(qA,this),this.groupTransform=re.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),nr.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new re),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*iA}set angle(t){this.rotation=t*nA}get pivot(){return this._pivot===hm&&(this._pivot=new vi(this,0,0)),this._pivot}set pivot(t){this._pivot===hm&&(this._pivot=new vi(this,0,0),this._origin!==fm&&je("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===iy&&(this._skew=new vi(this,0,0)),this._skew}set skew(t){this._skew===iy&&(this._skew=new vi(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===ny&&(this._scale=new vi(this,1,1)),this._scale}set scale(t){this._scale===ny&&(this._scale=new vi(this,0,0)),typeof t=="string"&&(t=parseFloat(t)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get origin(){return this._origin===fm&&(this._origin=new vi(this,0,0)),this._origin}set origin(t){this._origin===fm&&(this._origin=new vi(this,0,0),this._pivot!==hm&&je("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._origin.set(t):this._origin.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const e=this.getLocalBounds().width;this._setWidth(t,e)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const e=this.getLocalBounds().height;this._setHeight(t,e)}getSize(t){t||(t={});const e=this.getLocalBounds();return t.width=Math.abs(this.scale.x*e.width),t.height=Math.abs(this.scale.y*e.height),t}setSize(t,e){const s=this.getLocalBounds();typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,s.width),e!==void 0&&this._setHeight(e,s.height)}_updateSkew(){const t=this._rotation,e=this._skew;this._cx=Math.cos(t+e._y),this._sx=Math.sin(t+e._y),this._cy=-Math.sin(t-e._x),this._sy=Math.cos(t-e._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this.origin.set(typeof t.originX=="number"?t.originX:this.origin.x,typeof t.originY=="number"?t.originY:this.origin.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const e=this.localTransform,s=this._scale,r=this._pivot,c=this._origin,f=this._position,d=s._x,_=s._y,y=r._x,v=r._y,E=-c._x,M=-c._y;e.a=this._cx*d,e.b=this._sx*d,e.c=this._cy*_,e.d=this._sy*_,e.tx=f._x-(y*e.a+v*e.c)+(E*e.a+M*e.c)-E*d,e.ty=f._y-(y*e.b+v*e.d)+(E*e.b+M*e.d)-M*_}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=y1,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const s=Bi.shared.setValue(t??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=y1,this._onUpdate())}get tint(){return Rm(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=VA,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const e=t?2:0;(this.localDisplayStatus&2)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ay,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const e=t?0:4;(this.localDisplayStatus&4)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ay,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const e=t?1:0;(this.localDisplayStatus&1)!==e&&(this._updateFlags|=ay,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;let e;if(this.children.length&&(e=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t?.children)&&e)for(let r=0;r<e.length;++r)e[r].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}di.mixin(rn,EA,RA,GA,DA,UA,MA,CA,HA,xA,SA,BA,wA);class Im extends rn{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Qa(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const e=this.bounds,{x:s,y:r}=t;return s>=e.minX&&s<=e.maxX&&r>=e.minY&&r<=e.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null;for(const e in this._gpuData)this._gpuData[e].destroy?.();this._gpuData=null}collectRenderablesSimple(t,e,s){const{renderPipes:r}=e;r.blendMode.setBlendMode(this,this.groupBlendMode,t),r[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const f=this.children,d=f.length;for(let _=0;_<d;_++)f[_].collectRenderables(t,e,s)}}class Jc extends Im{constructor(t=Zt.EMPTY){t instanceof Zt&&(t={texture:t});const{texture:e=Zt.EMPTY,anchor:s,roundPixels:r,width:c,height:f,...d}=t;super({label:"Sprite",...d}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new vi({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:e.defaultAnchor&&(this.anchor=e.defaultAnchor),this.texture=e,this.allowChildren=!1,this.roundPixels=r??!1,c!==void 0&&(this.width=c),f!==void 0&&(this.height=f)}static from(t,e=!1){return t instanceof Zt?new Jc(t):new Jc(Zt.from(t,e))}set texture(t){t||(t=Zt.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return cA(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return le("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,e=this._texture,s=this._bounds,{width:r,height:c}=e.orig;s.minX=-t._x*r,s.maxX=s.minX+r,s.minY=-t._y*c,s.maxY=s.minY+c}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,e){typeof t=="object"?(e=t.height??t.width,t=t.width):e??(e=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),e!==void 0&&this._setHeight(e,this._texture.orig.height)}}const ZA=new Qa;function Nx(i,t,e){const s=ZA;i.measurable=!0,zx(i,e,s),t.addBoundsMask(s),i.measurable=!1}function Gx(i,t,e){const s=ar.get();i.measurable=!0;const r=Yn.get().identity(),c=Yx(i,e,r);Ox(i,s,c),i.measurable=!1,t.addBoundsMask(s),Yn.return(r),ar.return(s)}function Yx(i,t,e){return i?(i!==t&&(Yx(i.parent,t,e),i.updateLocalTransform(),e.append(i.localTransform)),e):(je("Mask bounds, renderable is not inside the root container"),e)}class Lx{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof Jc),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,e){this.inverse||Nx(this.mask,t,e)}addLocalBounds(t,e){Gx(this.mask,t,e)}containsPoint(t,e){const s=this.mask;return e(s,t)}destroy(){this.reset()}static test(t){return t instanceof Jc}}Lx.extension=Mt.MaskEffect;class Xx{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}Xx.extension=Mt.MaskEffect;class qx{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,e){Nx(this.mask,t,e)}addLocalBounds(t,e){Gx(this.mask,t,e)}containsPoint(t,e){const s=this.mask;return e(s,t)}destroy(){this.reset()}static test(t){return t instanceof rn}}qx.extension=Mt.MaskEffect;const kA={createCanvas:(i,t)=>{const e=document.createElement("canvas");return e.width=i,e.height=t,e},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,t)=>fetch(i,t),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")};let g1=kA;const bi={get(){return g1},set(i){g1=i}};class jx extends Sa{constructor(t){t.resource||(t.resource=bi.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,e=this.height,s=this._resolution){const r=super.resize(t,e,s);return r&&this.resizeCanvas(),r}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}jx.extension=Mt.TextureSource;class Eo extends Sa{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Eo.extension=Mt.TextureSource;var Lm=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(Lm||{});class sy{constructor(t,e=null,s=0,r=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=e,this.priority=s,this._once=r}match(t,e=null){return this._fn===t&&this._context===e}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const e=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const Vx=class _a{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new sy(null,null,1/0),this.deltaMS=1/_a.targetFPMS,this.elapsedMS=1/_a.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,s=Lm.NORMAL){return this._addListener(new sy(t,e,s))}addOnce(t,e,s=Lm.NORMAL){return this._addListener(new sy(t,e,s,!0))}_addListener(t){let e=this._head.next,s=this._head;if(!e)t.connect(s);else{for(;e;){if(t.priority>e.priority){t.connect(s);break}s=e,e=e.next}t.previous||t.connect(s)}return this._startIfPossible(),this}remove(t,e){let s=this._head.next;for(;s;)s.match(t,e)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const c=t-this._lastFrame|0;if(c<this._minElapsedMS)return;this._lastFrame=t-c%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*_a.targetFPMS;const s=this._head;let r=s.next;for(;r;)r=r.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),s=Math.min(Math.max(0,e)/1e3,_a.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!_a._shared){const t=_a._shared=new _a;t.autoStart=!0,t._protected=!0}return _a._shared}static get system(){if(!_a._system){const t=_a._system=new _a;t.autoStart=!0,t._protected=!0}return _a._system}};Vx.targetFPMS=.06;let er=Vx,ly;async function Zx(){return ly??(ly=(async()=>{const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const e=await new Promise(f=>{const d=document.createElement("video");d.onloadeddata=()=>f(d),d.onerror=()=>f(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!e)return"premultiply-alpha-on-upload";const s=t.createTexture();t.bindTexture(t.TEXTURE_2D,s);const r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const c=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,c),t.deleteFramebuffer(r),t.deleteTexture(s),t.getExtension("WEBGL_lose_context")?.loseContext(),c[0]<=c[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),ly}const Jm=class kx extends Sa{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...kx.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=er.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,e=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(e.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await Zx(),this._load=new Promise((s,r)=>{this.isValid?s(this):(this._resolve=s,this._reject=r,e.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${e.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(er.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(er.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(er.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};Jm.extension=Mt.TextureSource;Jm.defaultOptions={...Sa.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Jm.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Bm=Jm;const As=(i,t,e=!1)=>(Array.isArray(i)||(i=[i]),t?i.map(s=>typeof s=="string"||e?t(s):s):i);class QA{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||je(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const s=As(t);let r;for(let _=0;_<this.parsers.length;_++){const y=this.parsers[_];if(y.test(e)){r=y.getCacheableAssets(s,e);break}}const c=new Map(Object.entries(r||{}));r||s.forEach(_=>{c.set(_,e)});const f=[...c.keys()],d={cacheKeys:f,keys:s};s.forEach(_=>{this._cacheMap.set(_,d)}),f.forEach(_=>{const y=r?r[_]:e;this._cache.has(_)&&this._cache.get(_)!==y&&je("[Cache] already has key:",_),this._cache.set(_,c.get(_))})}remove(t){if(!this._cacheMap.has(t)){je(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(r=>{this._cache.delete(r)}),e.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const si=new QA,ng=[];di.handleByList(Mt.TextureSource,ng);function Qx(i={}){const t=i&&i.resource,e=t?i.resource:i,s=t?i:{resource:i};for(let r=0;r<ng.length;r++){const c=ng[r];if(c.test(e))return new c(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function FA(i={},t=!1){const e=i&&i.resource,s=e?i.resource:i,r=e?i:{resource:i};if(!t&&si.has(s))return si.get(s);const c=new Zt({source:Qx(r)});return c.on("destroy",()=>{si.has(s)&&si.remove(s)}),t||si.set(s,c),c}function KA(i,t=!1){return typeof i=="string"?si.get(i):i instanceof Sa?new Zt({source:i}):FA(i,t)}Zt.from=KA;Sa.from=Qx;di.add(Lx,Xx,qx,Bm,Eo,jx,Hg);var yu=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(yu||{});function bs(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function Xf(i){return i.split("?")[0].split("#")[0]}function PA(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function WA(i,t,e){return i.replace(new RegExp(PA(t),"g"),e)}function IA(i,t){let e="",s=0,r=-1,c=0,f=-1;for(let d=0;d<=i.length;++d){if(d<i.length)f=i.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(r===d-1||c===1))if(r!==d-1&&c===2){if(e.length<2||s!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const _=e.lastIndexOf("/");if(_!==e.length-1){_===-1?(e="",s=0):(e=e.slice(0,_),s=e.length-1-e.lastIndexOf("/")),r=d,c=0;continue}}else if(e.length===2||e.length===1){e="",s=0,r=d,c=0;continue}}}else e.length>0?e+=`/${i.slice(r+1,d)}`:e=i.slice(r+1,d),s=d-r-1;r=d,c=0}else f===46&&c!==-1?++c:c=-1}return e}const ba={toPosix(i){return WA(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){bs(i),i=this.toPosix(i);const t=/^file:\/\/\//.exec(i);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(i);return e?e[0]:""},toAbsolute(i,t,e){if(bs(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const s=Xf(this.toPosix(t??bi.get().getBaseUrl())),r=Xf(this.toPosix(e??this.rootname(s)));return i=this.toPosix(i),i.startsWith("/")?ba.join(r,i.slice(1)):this.isAbsolute(i)?i:this.join(s,i)},normalize(i){if(bs(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let t="";const e=i.startsWith("/");this.hasProtocol(i)&&(t=this.rootname(i),i=i.slice(t.length));const s=i.endsWith("/");return i=IA(i),i.length>0&&s&&(i+="/"),e?`/${i}`:t+i},isAbsolute(i){return bs(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let t;for(let e=0;e<i.length;++e){const s=i[e];if(bs(s),s.length>0)if(t===void 0)t=s;else{const r=i[e-1]??"";this.joinExtensions.includes(this.extname(r).toLowerCase())?t+=`/../${s}`:t+=`/${s}`}}return t===void 0?".":this.normalize(t)},dirname(i){if(bs(i),i.length===0)return".";i=this.toPosix(i);let t=i.charCodeAt(0);const e=t===47;let s=-1,r=!0;const c=this.getProtocol(i),f=i;i=i.slice(c.length);for(let d=i.length-1;d>=1;--d)if(t=i.charCodeAt(d),t===47){if(!r){s=d;break}}else r=!1;return s===-1?e?"/":this.isUrl(f)?c+i:c:e&&s===1?"//":c+i.slice(0,s)},rootname(i){bs(i),i=this.toPosix(i);let t="";if(i.startsWith("/")?t="/":t=this.getProtocol(i),this.isUrl(i)){const e=i.indexOf("/",t.length);e!==-1?t=i.slice(0,e):t=i,t.endsWith("/")||(t+="/")}return t},basename(i,t){bs(i),t&&bs(t),i=Xf(this.toPosix(i));let e=0,s=-1,r=!0,c;if(t!==void 0&&t.length>0&&t.length<=i.length){if(t.length===i.length&&t===i)return"";let f=t.length-1,d=-1;for(c=i.length-1;c>=0;--c){const _=i.charCodeAt(c);if(_===47){if(!r){e=c+1;break}}else d===-1&&(r=!1,d=c+1),f>=0&&(_===t.charCodeAt(f)?--f===-1&&(s=c):(f=-1,s=d))}return e===s?s=d:s===-1&&(s=i.length),i.slice(e,s)}for(c=i.length-1;c>=0;--c)if(i.charCodeAt(c)===47){if(!r){e=c+1;break}}else s===-1&&(r=!1,s=c+1);return s===-1?"":i.slice(e,s)},extname(i){bs(i),i=Xf(this.toPosix(i));let t=-1,e=0,s=-1,r=!0,c=0;for(let f=i.length-1;f>=0;--f){const d=i.charCodeAt(f);if(d===47){if(!r){e=f+1;break}continue}s===-1&&(r=!1,s=f+1),d===46?t===-1?t=f:c!==1&&(c=1):t!==-1&&(c=-1)}return t===-1||s===-1||c===0||c===1&&t===s-1&&t===e+1?"":i.slice(t,s)},parse(i){bs(i);const t={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return t;i=Xf(this.toPosix(i));let e=i.charCodeAt(0);const s=this.isAbsolute(i);let r;t.root=this.rootname(i),s||this.hasProtocol(i)?r=1:r=0;let c=-1,f=0,d=-1,_=!0,y=i.length-1,v=0;for(;y>=r;--y){if(e=i.charCodeAt(y),e===47){if(!_){f=y+1;break}continue}d===-1&&(_=!1,d=y+1),e===46?c===-1?c=y:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||d===-1||v===0||v===1&&c===d-1&&c===f+1?d!==-1&&(f===0&&s?t.base=t.name=i.slice(1,d):t.base=t.name=i.slice(f,d)):(f===0&&s?(t.name=i.slice(1,c),t.base=i.slice(1,d)):(t.name=i.slice(f,c),t.base=i.slice(f,d)),t.ext=i.slice(c,d)),t.dir=this.dirname(i),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function Fx(i,t,e,s,r){const c=t[e];for(let f=0;f<c.length;f++){const d=c[f];e<t.length-1?Fx(i.replace(s[e],d),t,e+1,s,r):r.push(i.replace(s[e],d))}}function JA(i){const t=/\{(.*?)\}/g,e=i.match(t),s=[];if(e){const r=[];e.forEach(c=>{const f=c.substring(1,c.length-1).split(",");r.push(f)}),Fx(i,r,0,e,s)}else s.push(i);return s}const Xm=i=>!Array.isArray(i);class ah{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(e[s])}`).join("&")}}getAlias(t){const{alias:e,src:s}=t;return As(e||s,c=>typeof c=="string"?c:Array.isArray(c)?c.map(f=>f?.src??f):c?.src?c.src:c,!0)}addManifest(t){this._manifest&&je("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const s=[];let r=e;Array.isArray(e)||(r=Object.entries(e).map(([c,f])=>typeof f=="string"||Array.isArray(f)?{alias:c,src:f}:{alias:c,...f})),r.forEach(c=>{const f=c.src,d=c.alias;let _;if(typeof d=="string"){const y=this._createBundleAssetId(t,d);s.push(y),_=[d,y]}else{const y=d.map(v=>this._createBundleAssetId(t,v));s.push(...y),_=[...d,...y]}this.add({...c,alias:_,src:f})}),this._bundles[t]=s}add(t){const e=[];Array.isArray(t)?e.push(...t):e.push(t);let s;s=c=>{this.hasKey(c)&&je(`[Resolver] already has key: ${c} overwriting`)},As(e).forEach(c=>{const{src:f}=c;let{data:d,format:_,loadParser:y}=c;const v=As(f).map(w=>typeof w=="string"?JA(w):Array.isArray(w)?w:[w]),E=this.getAlias(c);Array.isArray(E)?E.forEach(s):s(E);const M=[];v.forEach(w=>{w.forEach(z=>{let H={};if(typeof z!="object"){H.src=z;for(let R=0;R<this._parsers.length;R++){const D=this._parsers[R];if(D.test(z)){H=D.parse(z);break}}}else d=z.data??d,_=z.format??_,y=z.loadParser??y,H={...H,...z};if(!E)throw new Error(`[Resolver] alias is undefined for this asset: ${H.src}`);H=this._buildResolvedAsset(H,{aliases:E,data:d,format:_,loadParser:y}),M.push(H)})}),E.forEach(w=>{this._assetMap[w]=M})})}resolveBundle(t){const e=Xm(t);t=As(t);const s={};return t.forEach(r=>{const c=this._bundles[r];if(c){const f=this.resolve(c),d={};for(const _ in f){const y=f[_];d[this._extractAssetIdFromBundle(r,_)]=y}s[r]=d}}),e?s[t[0]]:s}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const s={};for(const r in e)s[r]=e[r].src;return s}return e.src}resolve(t){const e=Xm(t);t=As(t);const s={};return t.forEach(r=>{if(!this._resolverHash[r])if(this._assetMap[r]){let c=this._assetMap[r];const f=this._getPreferredOrder(c);f?.priority.forEach(d=>{f.params[d].forEach(_=>{const y=c.filter(v=>v[d]?v[d]===_:!1);y.length&&(c=y)})}),this._resolverHash[r]=c[0]}else this._resolverHash[r]=this._buildResolvedAsset({alias:[r],src:r},{});s[r]=this._resolverHash[r]}),e?s[t[0]]:s}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const s=t[e],r=this._preferredOrder.find(c=>c.params.format.includes(s.format));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}_buildResolvedAsset(t,e){const{aliases:s,data:r,loadParser:c,format:f}=e;return(this._basePath||this._rootPath)&&(t.src=ba.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=s??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...r||{},...t.data},t.loadParser=c??t.loadParser,t.format=f??t.format??$A(t.src),t}}ah.RETINA_PREFIX=/@([0-9\.]+)x/;function $A(i){return i.split(".").pop().split("?").shift().split("#").shift()}const ag=(i,t)=>{const e=t.split("?")[1];return e&&(i+=`?${e}`),i},Kx=class Pf{constructor(t,e){this.linkedSheets=[];let s=t;t?.source instanceof Sa&&(s={texture:t,data:e});const{texture:r,data:c,cachePrefix:f=""}=s;this.cachePrefix=f,this._texture=r instanceof Zt?r:null,this.textureSource=r.source,this.textures={},this.animations={},this.data=c;const d=parseFloat(c.meta.scale);d?(this.resolution=d,r.source.resolution=this.resolution):this.resolution=r.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Pf.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const s=Pf.BATCH_SIZE;for(;e-t<s&&e<this._frameKeys.length;){const r=this._frameKeys[e],c=this._frames[r],f=c.frame;if(f){let d=null,_=null;const y=c.trimmed!==!1&&c.sourceSize?c.sourceSize:c.frame,v=new Qe(0,0,Math.floor(y.w)/this.resolution,Math.floor(y.h)/this.resolution);c.rotated?d=new Qe(Math.floor(f.x)/this.resolution,Math.floor(f.y)/this.resolution,Math.floor(f.h)/this.resolution,Math.floor(f.w)/this.resolution):d=new Qe(Math.floor(f.x)/this.resolution,Math.floor(f.y)/this.resolution,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution),c.trimmed!==!1&&c.spriteSourceSize&&(_=new Qe(Math.floor(c.spriteSourceSize.x)/this.resolution,Math.floor(c.spriteSourceSize.y)/this.resolution,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution)),this.textures[r]=new Zt({source:this.textureSource,frame:d,orig:v,trim:_,rotate:c.rotated?2:0,defaultAnchor:c.anchor,defaultBorders:c.borders,label:r.toString()})}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let s=0;s<t[e].length;s++){const r=t[e][s];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Pf.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Pf.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Kx.BATCH_SIZE=1e3;let _1=Kx;const tE=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Px(i,t,e){const s={};if(i.forEach(r=>{s[r]=t}),Object.keys(t.textures).forEach(r=>{s[`${t.cachePrefix}${r}`]=t.textures[r]}),!e){const r=ba.dirname(i[0]);t.linkedSheets.forEach((c,f)=>{const d=Px([`${r}/${t.data.meta.related_multi_packs[f]}`],c,!0);Object.assign(s,d)})}return s}const eE={extension:Mt.Asset,cache:{test:i=>i instanceof _1,getCacheableAssets:(i,t)=>Px(i,t,!1)},resolver:{extension:{type:Mt.ResolveParser,name:"resolveSpritesheet"},test:i=>{const e=i.split("?")[0].split("."),s=e.pop(),r=e.pop();return s==="json"&&tE.includes(r)},parse:i=>{const t=i.split(".");return{resolution:parseFloat(ah.RETINA_PREFIX.exec(i)?.[1]??"1"),format:t[t.length-2],src:i}}},loader:{name:"spritesheetLoader",extension:{type:Mt.LoadParser,priority:yu.Normal,name:"spritesheetLoader"},async testParse(i,t){return ba.extname(t.src).toLowerCase()===".json"&&!!i.frames},async parse(i,t,e){const{texture:s,imageFilename:r,textureOptions:c,cachePrefix:f}=t?.data??{};let d=ba.dirname(t.src);d&&d.lastIndexOf("/")!==d.length-1&&(d+="/");let _;if(s instanceof Zt)_=s;else{const E=ag(d+(r??i.meta.image),t.src);_=(await e.load([{src:E,data:c}]))[E]}const y=new _1({texture:_.source,data:i,cachePrefix:f});await y.parse();const v=i?.meta?.related_multi_packs;if(Array.isArray(v)){const E=[];for(const w of v){if(typeof w!="string")continue;let z=d+w;t.data?.ignoreMultiPack||(z=ag(z,t.src),E.push(e.load({src:z,data:{textureOptions:c,ignoreMultiPack:!0}})))}const M=await Promise.all(E);y.linkedSheets=M,M.forEach(w=>{w.linkedSheets=[y].concat(y.linkedSheets.filter(z=>z!==w))})}return y},async unload(i,t,e){await e.unload(i.textureSource._sourceOrigin),i.destroy(!1)}}};di.add(eE);const ry=Object.create(null),v1=Object.create(null);function Yg(i,t){let e=v1[i];return e===void 0&&(ry[t]===void 0&&(ry[t]=1),v1[i]=e=ry[t]++),e}let dm;function Wx(){return(!dm||dm?.isContextLost())&&(dm=bi.get().createCanvas().getContext("webgl",{})),dm}let pm;function iE(){if(!pm){pm="mediump";const i=Wx();i&&i.getShaderPrecisionFormat&&(pm=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision?"highp":"mediump")}return pm}function nE(i,t,e){return t?i:e?(i=i.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${i}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${i}
        `}function aE(i,t,e){const s=e?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(i.substring(0,9)!=="precision"){let r=e?t.requestedFragmentPrecision:t.requestedVertexPrecision;return r==="highp"&&s!=="highp"&&(r="mediump"),`precision ${r} float;
${i}`}else if(s!=="highp"&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}function sE(i,t){return t?`#version 300 es
${i}`:i}const lE={},rE={};function uE(i,{name:t="pixi-program"},e=!0){t=t.replace(/\s+/g,"-"),t+=e?"-fragment":"-vertex";const s=e?lE:rE;return s[t]?(s[t]++,t+=`-${s[t]}`):s[t]=1,i.indexOf("#define SHADER_NAME")!==-1?i:`${`#define SHADER_NAME ${t}`}
${i}`}function oE(i,t){return t?i.replace("#version 300 es",""):i}const uy={stripVersion:oE,ensurePrecision:aE,addProgramDefines:nE,setProgramName:uE,insertVersion:sE},oy=Object.create(null),Ix=class sg{constructor(t){t={...sg.defaultOptions,...t};const e=t.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:e,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:iE()},setProgramName:{name:t.name},addProgramDefines:e,insertVersion:e};let r=t.fragment,c=t.vertex;Object.keys(uy).forEach(f=>{const d=s[f];r=uy[f](r,d,!0),c=uy[f](c,d,!1)}),this.fragment=r,this.vertex=c,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Yg(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const e=`${t.vertex}:${t.fragment}`;return oy[e]||(oy[e]=new sg(t)),oy[e]}};Ix.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let $m=Ix;const x1={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function cE(i){return x1[i]??x1.float32}const hE={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function fE({source:i,entryPoint:t}){const e={},s=i.indexOf(`fn ${t}`);if(s!==-1){const r=i.indexOf("->",s);if(r!==-1){const c=i.substring(s,r),f=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let d;for(;(d=f.exec(c))!==null;){const _=hE[d[3]]??"float32";e[d[2]]={location:parseInt(d[1],10),format:_,stride:cE(_).stride,offset:0,instance:!1,start:0}}}}return e}function cy(i){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,e=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,r=/var(<[^>]+>)? (\w+)/,c=/:\s*(\w+)/,f=/struct\s+(\w+)\s*{([^}]+)}/g,d=/(\w+)\s*:\s*([\w\<\>]+)/g,_=/struct\s+(\w+)/,y=i.match(t)?.map(E=>({group:parseInt(E.match(e)[1],10),binding:parseInt(E.match(s)[1],10),name:E.match(r)[2],isUniform:E.match(r)[1]==="<uniform>",type:E.match(c)[1]}));if(!y)return{groups:[],structs:[]};const v=i.match(f)?.map(E=>{const M=E.match(_)[1],w=E.match(d).reduce((z,H)=>{const[R,D]=H.split(":");return z[R.trim()]=D.trim(),z},{});return w?{name:M,members:w}:null}).filter(({name:E})=>y.some(M=>M.type===E))??[];return{groups:y,structs:v}}var Wf=(i=>(i[i.VERTEX=1]="VERTEX",i[i.FRAGMENT=2]="FRAGMENT",i[i.COMPUTE=4]="COMPUTE",i))(Wf||{});function dE({groups:i}){const t=[];for(let e=0;e<i.length;e++){const s=i[e];t[s.group]||(t[s.group]=[]),s.isUniform?t[s.group].push({binding:s.binding,visibility:Wf.VERTEX|Wf.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?t[s.group].push({binding:s.binding,visibility:Wf.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&t[s.group].push({binding:s.binding,visibility:Wf.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function pE({groups:i}){const t=[];for(let e=0;e<i.length;e++){const s=i[e];t[s.group]||(t[s.group]={}),t[s.group][s.name]=s.binding}return t}function mE(i,t){const e=new Set,s=new Set,r=[...i.structs,...t.structs].filter(f=>e.has(f.name)?!1:(e.add(f.name),!0)),c=[...i.groups,...t.groups].filter(f=>{const d=`${f.name}-${f.binding}`;return s.has(d)?!1:(s.add(d),!0)});return{structs:r,groups:c}}const hy=Object.create(null);class sh{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:e,vertex:s,layout:r,gpuLayout:c,name:f}=t;if(this.name=f,this.fragment=e,this.vertex=s,e.source===s.source){const d=cy(e.source);this.structsAndGroups=d}else{const d=cy(s.source),_=cy(e.source);this.structsAndGroups=mE(d,_)}this.layout=r??pE(this.structsAndGroups),this.gpuLayout=c??dE(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:e}=this,s=t.source+e.source+t.entryPoint+e.entryPoint;this._layoutKey=Yg(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=fE(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const e=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return hy[e]||(hy[e]=new sh(t)),hy[e]}}const Jx=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],yE=Jx.reduce((i,t)=>(i[t]=!0,i),{});function gE(i,t){switch(i){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const $x=class tb{constructor(t,e){this._touched=0,this.uid=xi("uniform"),this._resourceType="uniformGroup",this._resourceId=xi("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,e={...tb.defaultOptions,...e},this.uniformStructures=t;const s={};for(const r in t){const c=t[r];if(c.name=r,c.size=c.size??1,!yE[c.type])throw new Error(`Uniform type ${c.type} is not supported. Supported uniform types are: ${Jx.join(", ")}`);c.value??(c.value=gE(c.type,c.size)),s[r]=c.value}this.uniforms=s,this._dirtyId=1,this.ubo=e.ubo,this.isStatic=e.isStatic,this._signature=Yg(Object.keys(s).map(r=>`${r}-${t[r].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};$x.defaultOptions={ubo:!1,isStatic:!1};let Ad=$x;class Qc{constructor(t){this.resources=Object.create(null),this._dirty=!0;let e=0;for(const s in t){const r=t[s];this.setResource(r,e++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let e=0;for(const s in this.resources)t[e++]=this.resources[s]._resourceId;this._key=t.join("|")}setResource(t,e){const s=this.resources[e];t!==s&&(s&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[e]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const e=this.resources;for(const s in e)e[s]._touched=t}destroy(){const t=this.resources;for(const e in t)t[e].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const e=this.resources;for(const s in e)e[s]===t&&(e[s]=null)}else this._updateKey()}}var lg=(i=>(i[i.WEBGL=1]="WEBGL",i[i.WEBGPU=2]="WEBGPU",i[i.BOTH=3]="BOTH",i))(lg||{});class lh extends Es{constructor(t){super(),this.uid=xi("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:e,glProgram:s,groups:r,resources:c,compatibleRenderers:f,groupMap:d}=t;this.gpuProgram=e,this.glProgram=s,f===void 0&&(f=0,e&&(f|=lg.WEBGPU),s&&(f|=lg.WEBGL)),this.compatibleRenderers=f;const _={};if(!c&&!r&&(c={}),c&&r)throw new Error("[Shader] Cannot have both resources and groups");if(!e&&r&&!d)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!e&&r&&d)for(const y in d)for(const v in d[y]){const E=d[y][v];_[E]={group:y,binding:v,name:E}}else if(e&&r&&!d){const y=e.structsAndGroups.groups;d={},y.forEach(v=>{d[v.group]=d[v.group]||{},d[v.group][v.binding]=v.name,_[v.name]=v})}else if(c){r={},d={},e&&e.structsAndGroups.groups.forEach(E=>{d[E.group]=d[E.group]||{},d[E.group][E.binding]=E.name,_[E.name]=E});let y=0;for(const v in c)_[v]||(r[99]||(r[99]=new Qc,this._ownedBindGroups.push(r[99])),_[v]={group:99,binding:y,name:v},d[99]=d[99]||{},d[99][y]=v,y++);for(const v in c){const E=v;let M=c[v];!M.source&&!M._resourceType&&(M=new Ad(M));const w=_[E];w&&(r[w.group]||(r[w.group]=new Qc,this._ownedBindGroups.push(r[w.group])),r[w.group].setResource(M,w.binding))}}this.groups=r,this._uniformBindMap=d,this.resources=this._buildResourceAccessor(r,_)}addResource(t,e,s){var r,c;(r=this._uniformBindMap)[e]||(r[e]={}),(c=this._uniformBindMap[e])[s]||(c[s]=t),this.groups[e]||(this.groups[e]=new Qc,this._ownedBindGroups.push(this.groups[e]))}_buildResourceAccessor(t,e){const s={};for(const r in e){const c=e[r];Object.defineProperty(s,c.name,{get(){return t[c.group].getResource(c.binding)},set(f){t[c.group].setResource(f,c.binding)}})}return s}destroy(t=!1){this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(e=>{e.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:e,gl:s,...r}=t;let c,f;return e&&(c=sh.from(e)),s&&(f=$m.from(s)),new lh({gpuProgram:c,glProgram:f,...r})}}const _E={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},fy=0,dy=1,py=2,my=3,yy=4,gy=5,rg=class eb{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<fy)}set blend(t){!!(this.data&1<<fy)!==t&&(this.data^=1<<fy)}get offsets(){return!!(this.data&1<<dy)}set offsets(t){!!(this.data&1<<dy)!==t&&(this.data^=1<<dy)}set cullMode(t){if(t==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=t==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<py)}set culling(t){!!(this.data&1<<py)!==t&&(this.data^=1<<py)}get depthTest(){return!!(this.data&1<<my)}set depthTest(t){!!(this.data&1<<my)!==t&&(this.data^=1<<my)}get depthMask(){return!!(this.data&1<<gy)}set depthMask(t){!!(this.data&1<<gy)!==t&&(this.data^=1<<gy)}get clockwiseFrontFace(){return!!(this.data&1<<yy)}set clockwiseFrontFace(t){!!(this.data&1<<yy)!==t&&(this.data^=1<<yy)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!=="none",this._blendMode=t,this._blendModeId=_E[t]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new eb;return t.depthTest=!1,t.blend=!0,t}};rg.default2d=rg.for2d();let ib=rg;const nb=class ug extends lh{constructor(t){t={...ug.defaultOptions,...t},super(t),this.enabled=!0,this._state=ib.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,typeof t.antialias=="boolean"?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(t,e,s,r){t.applyFilter(this,e,s,r)}get blendMode(){return this._state.blendMode}set blendMode(t){this._state.blendMode=t}static from(t){const{gpu:e,gl:s,...r}=t;let c,f;return e&&(c=sh.from(e)),s&&(f=$m.from(s)),new ug({gpuProgram:c,glProgram:f,...r})}};nb.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let zo=nb;const og=[];di.handleByNamedList(Mt.Environment,og);async function vE(i){if(!i)for(let t=0;t<og.length;t++){const e=og[t];if(e.value.test()){await e.value.load();return}}}let qf;function xE(){if(typeof qf=="boolean")return qf;try{qf=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{qf=!1}return qf}function b1(i,t,e=2){const s=t&&t.length,r=s?t[0]*e:i.length;let c=ab(i,0,r,e,!0);const f=[];if(!c||c.next===c.prev)return f;let d,_,y;if(s&&(c=wE(i,t,c,e)),i.length>80*e){d=i[0],_=i[1];let v=d,E=_;for(let M=e;M<r;M+=e){const w=i[M],z=i[M+1];w<d&&(d=w),z<_&&(_=z),w>v&&(v=w),z>E&&(E=z)}y=Math.max(v-d,E-_),y=y!==0?32767/y:0}return rd(c,f,e,d,_,y,0),f}function ab(i,t,e,s,r){let c;if(r===NE(i,t,e,s)>0)for(let f=t;f<e;f+=s)c=S1(f/s|0,i[f],i[f+1],c);else for(let f=e-s;f>=t;f-=s)c=S1(f/s|0,i[f],i[f+1],c);return c&&$c(c,c.next)&&(od(c),c=c.next),c}function wo(i,t){if(!i)return i;t||(t=i);let e=i,s;do if(s=!1,!e.steiner&&($c(e,e.next)||li(e.prev,e,e.next)===0)){if(od(e),e=t=e.prev,e===e.next)break;s=!0}else e=e.next;while(s||e!==t);return t}function rd(i,t,e,s,r,c,f){if(!i)return;!f&&c&&RE(i,s,r,c);let d=i;for(;i.prev!==i.next;){const _=i.prev,y=i.next;if(c?SE(i,s,r,c):bE(i)){t.push(_.i,i.i,y.i),od(i),i=y.next,d=y.next;continue}if(i=y,i===d){f?f===1?(i=AE(wo(i),t),rd(i,t,e,s,r,c,2)):f===2&&EE(i,t,e,s,r,c):rd(wo(i),t,e,s,r,c,1);break}}}function bE(i){const t=i.prev,e=i,s=i.next;if(li(t,e,s)>=0)return!1;const r=t.x,c=e.x,f=s.x,d=t.y,_=e.y,y=s.y,v=Math.min(r,c,f),E=Math.min(d,_,y),M=Math.max(r,c,f),w=Math.max(d,_,y);let z=s.next;for(;z!==t;){if(z.x>=v&&z.x<=M&&z.y>=E&&z.y<=w&&If(r,d,c,_,f,y,z.x,z.y)&&li(z.prev,z,z.next)>=0)return!1;z=z.next}return!0}function SE(i,t,e,s){const r=i.prev,c=i,f=i.next;if(li(r,c,f)>=0)return!1;const d=r.x,_=c.x,y=f.x,v=r.y,E=c.y,M=f.y,w=Math.min(d,_,y),z=Math.min(v,E,M),H=Math.max(d,_,y),R=Math.max(v,E,M),D=cg(w,z,t,e,s),N=cg(H,R,t,e,s);let Y=i.prevZ,L=i.nextZ;for(;Y&&Y.z>=D&&L&&L.z<=N;){if(Y.x>=w&&Y.x<=H&&Y.y>=z&&Y.y<=R&&Y!==r&&Y!==f&&If(d,v,_,E,y,M,Y.x,Y.y)&&li(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,L.x>=w&&L.x<=H&&L.y>=z&&L.y<=R&&L!==r&&L!==f&&If(d,v,_,E,y,M,L.x,L.y)&&li(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;Y&&Y.z>=D;){if(Y.x>=w&&Y.x<=H&&Y.y>=z&&Y.y<=R&&Y!==r&&Y!==f&&If(d,v,_,E,y,M,Y.x,Y.y)&&li(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;L&&L.z<=N;){if(L.x>=w&&L.x<=H&&L.y>=z&&L.y<=R&&L!==r&&L!==f&&If(d,v,_,E,y,M,L.x,L.y)&&li(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function AE(i,t){let e=i;do{const s=e.prev,r=e.next.next;!$c(s,r)&&lb(s,e,e.next,r)&&ud(s,r)&&ud(r,s)&&(t.push(s.i,e.i,r.i),od(e),od(e.next),e=i=r),e=e.next}while(e!==i);return wo(e)}function EE(i,t,e,s,r,c){let f=i;do{let d=f.next.next;for(;d!==f.prev;){if(f.i!==d.i&&UE(f,d)){let _=rb(f,d);f=wo(f,f.next),_=wo(_,_.next),rd(f,t,e,s,r,c,0),rd(_,t,e,s,r,c,0);return}d=d.next}f=f.next}while(f!==i)}function wE(i,t,e,s){const r=[];for(let c=0,f=t.length;c<f;c++){const d=t[c]*s,_=c<f-1?t[c+1]*s:i.length,y=ab(i,d,_,s,!1);y===y.next&&(y.steiner=!0),r.push(OE(y))}r.sort(TE);for(let c=0;c<r.length;c++)e=ME(r[c],e);return e}function TE(i,t){let e=i.x-t.x;if(e===0&&(e=i.y-t.y,e===0)){const s=(i.next.y-i.y)/(i.next.x-i.x),r=(t.next.y-t.y)/(t.next.x-t.x);e=s-r}return e}function ME(i,t){const e=CE(i,t);if(!e)return t;const s=rb(e,i);return wo(s,s.next),wo(e,e.next)}function CE(i,t){let e=t;const s=i.x,r=i.y;let c=-1/0,f;if($c(i,e))return e;do{if($c(i,e.next))return e.next;if(r<=e.y&&r>=e.next.y&&e.next.y!==e.y){const E=e.x+(r-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(E<=s&&E>c&&(c=E,f=e.x<e.next.x?e:e.next,E===s))return f}e=e.next}while(e!==t);if(!f)return null;const d=f,_=f.x,y=f.y;let v=1/0;e=f;do{if(s>=e.x&&e.x>=_&&s!==e.x&&sb(r<y?s:c,r,_,y,r<y?c:s,r,e.x,e.y)){const E=Math.abs(r-e.y)/(s-e.x);ud(e,i)&&(E<v||E===v&&(e.x>f.x||e.x===f.x&&zE(f,e)))&&(f=e,v=E)}e=e.next}while(e!==d);return f}function zE(i,t){return li(i.prev,i,t.prev)<0&&li(t.next,i,i.next)<0}function RE(i,t,e,s){let r=i;do r.z===0&&(r.z=cg(r.x,r.y,t,e,s)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,BE(r)}function BE(i){let t,e=1;do{let s=i,r;i=null;let c=null;for(t=0;s;){t++;let f=s,d=0;for(let y=0;y<e&&(d++,f=f.nextZ,!!f);y++);let _=e;for(;d>0||_>0&&f;)d!==0&&(_===0||!f||s.z<=f.z)?(r=s,s=s.nextZ,d--):(r=f,f=f.nextZ,_--),c?c.nextZ=r:i=r,r.prevZ=c,c=r;s=f}c.nextZ=null,e*=2}while(t>1);return i}function cg(i,t,e,s,r){return i=(i-e)*r|0,t=(t-s)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,i|t<<1}function OE(i){let t=i,e=i;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==i);return e}function sb(i,t,e,s,r,c,f,d){return(r-f)*(t-d)>=(i-f)*(c-d)&&(i-f)*(s-d)>=(e-f)*(t-d)&&(e-f)*(c-d)>=(r-f)*(s-d)}function If(i,t,e,s,r,c,f,d){return!(i===f&&t===d)&&sb(i,t,e,s,r,c,f,d)}function UE(i,t){return i.next.i!==t.i&&i.prev.i!==t.i&&!DE(i,t)&&(ud(i,t)&&ud(t,i)&&HE(i,t)&&(li(i.prev,i,t.prev)||li(i,t.prev,t))||$c(i,t)&&li(i.prev,i,i.next)>0&&li(t.prev,t,t.next)>0)}function li(i,t,e){return(t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y)}function $c(i,t){return i.x===t.x&&i.y===t.y}function lb(i,t,e,s){const r=ym(li(i,t,e)),c=ym(li(i,t,s)),f=ym(li(e,s,i)),d=ym(li(e,s,t));return!!(r!==c&&f!==d||r===0&&mm(i,e,t)||c===0&&mm(i,s,t)||f===0&&mm(e,i,s)||d===0&&mm(e,t,s))}function mm(i,t,e){return t.x<=Math.max(i.x,e.x)&&t.x>=Math.min(i.x,e.x)&&t.y<=Math.max(i.y,e.y)&&t.y>=Math.min(i.y,e.y)}function ym(i){return i>0?1:i<0?-1:0}function DE(i,t){let e=i;do{if(e.i!==i.i&&e.next.i!==i.i&&e.i!==t.i&&e.next.i!==t.i&&lb(e,e.next,i,t))return!0;e=e.next}while(e!==i);return!1}function ud(i,t){return li(i.prev,i,i.next)<0?li(i,t,i.next)>=0&&li(i,i.prev,t)>=0:li(i,t,i.prev)<0||li(i,i.next,t)<0}function HE(i,t){let e=i,s=!1;const r=(i.x+t.x)/2,c=(i.y+t.y)/2;do e.y>c!=e.next.y>c&&e.next.y!==e.y&&r<(e.next.x-e.x)*(c-e.y)/(e.next.y-e.y)+e.x&&(s=!s),e=e.next;while(e!==i);return s}function rb(i,t){const e=hg(i.i,i.x,i.y),s=hg(t.i,t.x,t.y),r=i.next,c=t.prev;return i.next=t,t.prev=i,e.next=r,r.prev=e,s.next=e,e.prev=s,c.next=s,s.prev=c,s}function S1(i,t,e,s){const r=hg(i,t,e);return s?(r.next=s.next,r.prev=s,s.next.prev=r,s.next=r):(r.prev=r,r.next=r),r}function od(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function hg(i,t,e){return{i,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function NE(i,t,e,s){let r=0;for(let c=t,f=e-s;c<e;c+=s)r+=(i[f]-i[c])*(i[c+1]+i[f+1]),f=c;return r}const GE=b1.default||b1;var ub=(i=>(i[i.NONE=0]="NONE",i[i.COLOR=16384]="COLOR",i[i.STENCIL=1024]="STENCIL",i[i.DEPTH=256]="DEPTH",i[i.COLOR_DEPTH=16640]="COLOR_DEPTH",i[i.COLOR_STENCIL=17408]="COLOR_STENCIL",i[i.DEPTH_STENCIL=1280]="DEPTH_STENCIL",i[i.ALL=17664]="ALL",i))(ub||{});class YE{constructor(t){this.items=[],this._name=t}emit(t,e,s,r,c,f,d,_){const{name:y,items:v}=this;for(let E=0,M=v.length;E<M;E++)v[E][y](t,e,s,r,c,f,d,_);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&this.items.splice(e,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const LE=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],ob=class cb extends Es{constructor(t){super(),this.uid=xi("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const e=[...LE,...this.config.runners??[]];this._addRunners(...e),this._unsafeEvalCheck()}async init(t={}){const e=t.skipExtensionImports===!0?!0:t.manageImports===!1;await vE(e),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)t={...this._systemsHash[s].constructor.defaultOptions,...t};t={...cb.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(t);this._initOptions=t}render(t,e){let s=t;if(s instanceof rn&&(s={container:s},e&&(le(Be,"passing a second argument is deprecated, please use render options instead"),s.target=e.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor??(s.clearColor=this.background.colorRgba),s.clear??(s.clear=this.background.clearBeforeRender)),s.clearColor){const r=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=r?s.clearColor:Bi.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),s.container.enableRenderGroup(),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s)}resize(t,e,s){const r=this.view.resolution;this.view.resize(t,e,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==r&&this.runners.resolutionChange.emit(s)}clear(t={}){const e=this;t.target||(t.target=e.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=ub.ALL);const{clear:s,clearColor:r,target:c}=t;Bi.shared.setValue(r??this.background.colorRgba),e.renderTarget.clear(c,s,Bi.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(e=>{this.runners[e]=new YE(e)})}_addSystems(t){let e;for(e in t){const s=t[e];this._addSystem(s.value,s.name)}}_addSystem(t,e){const s=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=s,this._systemsHash[e]=s;for(const r in this.runners)this.runners[r].add(s);return this}_addPipes(t,e){const s=e.reduce((r,c)=>(r[c.name]=c.value,r),{});t.forEach(r=>{const c=r.value,f=r.name,d=s[f];this.renderPipes[f]=new c(this,d?new d:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!xE())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};ob.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let hb=ob,gm;function XE(i){return gm!==void 0||(gm=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:i??hb.defaultOptions.failIfMajorPerformanceCaveat};try{if(!bi.get().getWebGLRenderingContext())return!1;let s=bi.get().createCanvas().getContext("webgl",t);const r=!!s?.getContextAttributes()?.stencil;if(s){const c=s.getExtension("WEBGL_lose_context");c&&c.loseContext()}return s=null,r}catch{return!1}})()),gm}let _m;async function qE(i={}){return _m!==void 0||(_m=await(async()=>{const t=bi.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(i)).requestDevice(),!0}catch{return!1}})()),_m}const A1=["webgl","webgpu","canvas"];async function jE(i){let t=[];i.preference?(t.push(i.preference),A1.forEach(c=>{c!==i.preference&&t.push(c)})):t=A1.slice();let e,s={};for(let c=0;c<t.length;c++){const f=t[c];if(f==="webgpu"&&await qE()){const{WebGPURenderer:d}=await Nm(async()=>{const{WebGPURenderer:_}=await import("./WebGPURenderer-CqQYhBqZ.js");return{WebGPURenderer:_}},__vite__mapDeps([3,2,4]));e=d,s={...i,...i.webgpu};break}else if(f==="webgl"&&XE(i.failIfMajorPerformanceCaveat??hb.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:d}=await Nm(async()=>{const{WebGLRenderer:_}=await import("./WebGLRenderer-CLkIYfmV.js");return{WebGLRenderer:_}},__vite__mapDeps([5,2,4]));e=d,s={...i,...i.webgl};break}else if(f==="canvas")throw s={...i},new Error("CanvasRenderer is not yet implemented")}if(delete s.webgpu,delete s.webgl,!e)throw new Error("No available renderer for the current environment");const r=new e;return await r.init(s),r}const fb="8.11.0";class db{static init(){globalThis.__PIXI_APP_INIT__?.(this,fb)}static destroy(){}}db.extension=Mt.Application;class VE{constructor(t){this._renderer=t}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,fb)}destroy(){this._renderer=null}}VE.extension={type:[Mt.WebGLSystem,Mt.WebGPUSystem],name:"initHook",priority:-10};const pb=class fg{constructor(...t){this.stage=new rn,t[0]!==void 0&&le(Be,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await jE(t),fg._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return le(Be,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,e=!1){const s=fg._plugins.slice(0);s.reverse(),s.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};pb._plugins=[];let Lg=pb;di.handleByList(Mt.Application,Lg._plugins);di.add(db);class mb extends Es{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return le(Be,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return le(Be,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return le(Be,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return le(Be,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return le(Be,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners();for(const e in this.chars)this.chars[e].texture?.destroy();this.chars=null,t&&(this.pages.forEach(e=>e.texture.destroy(!0)),this.pages=null)}}const ZE=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function dg(i){const t=typeof i.fontSize=="number"?`${i.fontSize}px`:i.fontSize;let e=i.fontFamily;Array.isArray(i.fontFamily)||(e=i.fontFamily.split(","));for(let s=e.length-1;s>=0;s--){let r=e[s].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!ZE.includes(r)&&(r=`"${r}"`),e[s]=r}return`${i.fontStyle} ${i.fontVariant} ${i.fontWeight} ${t} ${e.join(",")}`}const _y={willReadFrequently:!0},_l=class Bt{static get experimentalLetterSpacingSupported(){let t=Bt._experimentalLetterSpacingSupported;if(t===void 0){const e=bi.get().getCanvasRenderingContext2D().prototype;t=Bt._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,s,r,c,f,d,_,y){this.text=t,this.style=e,this.width=s,this.height=r,this.lines=c,this.lineWidths=f,this.lineHeight=d,this.maxLineWidth=_,this.fontProperties=y}static measureText(t=" ",e,s=Bt._canvas,r=e.wordWrap){const c=dg(e),f=Bt.measureFont(c);f.fontSize===0&&(f.fontSize=e.fontSize,f.ascent=e.fontSize);const d=Bt.__context;d.font=c;const y=(r?Bt._wordWrap(t,e,s):t).split(/(?:\r\n|\r|\n)/),v=new Array(y.length);let E=0;for(let D=0;D<y.length;D++){const N=Bt._measureText(y[D],e.letterSpacing,d);v[D]=N,E=Math.max(E,N)}const M=e._stroke?.width||0;let w=E+M;e.dropShadow&&(w+=e.dropShadow.distance);const z=e.lineHeight||f.fontSize;let H=Math.max(z,f.fontSize+M)+(y.length-1)*(z+e.leading);return e.dropShadow&&(H+=e.dropShadow.distance),new Bt(t,e,w,H,y,v,z+e.leading,E,f)}static _measureText(t,e,s){let r=!1;Bt.experimentalLetterSpacingSupported&&(Bt.experimentalLetterSpacing?(s.letterSpacing=`${e}px`,s.textLetterSpacing=`${e}px`,r=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));const c=s.measureText(t);let f=c.width;const d=-c.actualBoundingBoxLeft;let y=c.actualBoundingBoxRight-d;if(f>0)if(r)f-=e,y-=e;else{const v=(Bt.graphemeSegmenter(t).length-1)*e;f+=v,y+=v}return Math.max(f,y)}static _wordWrap(t,e,s=Bt._canvas){const r=s.getContext("2d",_y);let c=0,f="",d="";const _=Object.create(null),{letterSpacing:y,whiteSpace:v}=e,E=Bt._collapseSpaces(v),M=Bt._collapseNewlines(v);let w=!E;const z=e.wordWrapWidth+y,H=Bt._tokenize(t);for(let R=0;R<H.length;R++){let D=H[R];if(Bt._isNewline(D)){if(!M){d+=Bt._addLine(f),w=!E,f="",c=0;continue}D=" "}if(E){const Y=Bt.isBreakingSpace(D),L=Bt.isBreakingSpace(f[f.length-1]);if(Y&&L)continue}const N=Bt._getFromCache(D,y,_,r);if(N>z)if(f!==""&&(d+=Bt._addLine(f),f="",c=0),Bt.canBreakWords(D,e.breakWords)){const Y=Bt.wordWrapSplit(D);for(let L=0;L<Y.length;L++){let F=Y[L],tt=F,K=1;for(;Y[L+K];){const pt=Y[L+K];if(!Bt.canBreakChars(tt,pt,D,L,e.breakWords))F+=pt;else break;tt=pt,K++}L+=K-1;const gt=Bt._getFromCache(F,y,_,r);gt+c>z&&(d+=Bt._addLine(f),w=!1,f="",c=0),f+=F,c+=gt}}else{f.length>0&&(d+=Bt._addLine(f),f="",c=0);const Y=R===H.length-1;d+=Bt._addLine(D,!Y),w=!1,f="",c=0}else N+c>z&&(w=!1,d+=Bt._addLine(f),f="",c=0),(f.length>0||!Bt.isBreakingSpace(D)||w)&&(f+=D,c+=N)}return d+=Bt._addLine(f,!1),d}static _addLine(t,e=!0){return t=Bt._trimRight(t),t=e?`${t}
`:t,t}static _getFromCache(t,e,s,r){let c=s[t];return typeof c!="number"&&(c=Bt._measureText(t,e,r)+e,s[t]=c),c}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const s=t[e];if(!Bt.isBreakingSpace(s))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:Bt._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:Bt._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const e=[];let s="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const c=t[r],f=t[r+1];if(Bt.isBreakingSpace(c,f)||Bt._isNewline(c)){s!==""&&(e.push(s),s=""),c==="\r"&&f===`
`?(e.push(`\r
`),r++):e.push(c);continue}s+=c}return s!==""&&e.push(s),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,s,r,c){return!0}static wordWrapSplit(t){return Bt.graphemeSegmenter(t)}static measureFont(t){if(Bt._fonts[t])return Bt._fonts[t];const e=Bt._context;e.font=t;const s=e.measureText(Bt.METRICS_STRING+Bt.BASELINE_SYMBOL),r={ascent:s.actualBoundingBoxAscent,descent:s.actualBoundingBoxDescent,fontSize:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent};return Bt._fonts[t]=r,r}static clearMetrics(t=""){t?delete Bt._fonts[t]:Bt._fonts={}}static get _canvas(){if(!Bt.__canvas){let t;try{const e=new OffscreenCanvas(0,0);if(e.getContext("2d",_y)?.measureText)return Bt.__canvas=e,e;t=bi.get().createCanvas()}catch{t=bi.get().createCanvas()}t.width=t.height=10,Bt.__canvas=t}return Bt.__canvas}static get _context(){return Bt.__context||(Bt.__context=Bt._canvas.getContext("2d",_y)),Bt.__context}};_l.METRICS_STRING="|q";_l.BASELINE_SYMBOL="M";_l.BASELINE_MULTIPLIER=1.4;_l.HEIGHT_MULTIPLIER=2;_l.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const i=new Intl.Segmenter;return t=>{const e=i.segment(t),s=[];let r=0;for(const c of e)s[r++]=c.segment;return s}}return i=>[...i]})();_l.experimentalLetterSpacing=!1;_l._fonts={};_l._newlines=[10,13];_l._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Om=_l;const E1=[{offset:0,color:"white"},{offset:1,color:"black"}],Xg=class pg{constructor(...t){this.uid=xi("fillGradient"),this.type="linear",this.colorStops=[];let e=kE(t);e={...e.type==="radial"?pg.defaultRadialOptions:pg.defaultLinearOptions,...bx(e)},this._textureSize=e.textureSize,this._wrapMode=e.wrapMode,e.type==="radial"?(this.center=e.center,this.outerCenter=e.outerCenter??this.center,this.innerRadius=e.innerRadius,this.outerRadius=e.outerRadius,this.scale=e.scale,this.rotation=e.rotation):(this.start=e.start,this.end=e.end),this.textureSpace=e.textureSpace,this.type=e.type,e.colorStops.forEach(r=>{this.addColorStop(r.offset,r.color)})}addColorStop(t,e){return this.colorStops.push({offset:t,color:Bi.shared.setValue(e).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:e}=this.start,{x:s,y:r}=this.end,c=s-t,f=r-e;const d=c<0||f<0;if(this._wrapMode==="clamp-to-edge"){if(c<0){const R=t;t=s,s=R,c*=-1}if(f<0){const R=e;e=r,r=R,f*=-1}}const _=this.colorStops.length?this.colorStops:E1,y=this._textureSize,{canvas:v,context:E}=T1(y,1),M=d?E.createLinearGradient(this._textureSize,0,0,0):E.createLinearGradient(0,0,this._textureSize,0);w1(M,_),E.fillStyle=M,E.fillRect(0,0,y,1),this.texture=new Zt({source:new Eo({resource:v,addressMode:this._wrapMode})});const w=Math.sqrt(c*c+f*f),z=Math.atan2(f,c),H=new re;H.scale(w/y,1),H.rotate(z),H.translate(t,e),this.textureSpace==="local"&&H.scale(y,y),this.transform=H}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:E1,e=this._textureSize,{canvas:s,context:r}=T1(e,e),{x:c,y:f}=this.center,{x:d,y:_}=this.outerCenter,y=this.innerRadius,v=this.outerRadius,E=d-v,M=_-v,w=e/(v*2),z=(c-E)*w,H=(f-M)*w,R=r.createRadialGradient(z,H,y*w,(d-E)*w,(_-M)*w,v*w);w1(R,t),r.fillStyle=t[t.length-1].color,r.fillRect(0,0,e,e),r.fillStyle=R,r.translate(z,H),r.rotate(this.rotation),r.scale(1,this.scale),r.translate(-z,-H),r.fillRect(0,0,e,e),this.texture=new Zt({source:new Eo({resource:s,addressMode:this._wrapMode})});const D=new re;D.scale(1/w,1/w),D.translate(E,M),this.textureSpace==="local"&&D.scale(e,e),this.transform=D}get styleKey(){return this.uid}destroy(){this.texture?.destroy(!0),this.texture=null}};Xg.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};Xg.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let lr=Xg;function w1(i,t){for(let e=0;e<t.length;e++){const s=t[e];i.addColorStop(s.offset,s.color)}}function T1(i,t){const e=bi.get().createCanvas(i,t),s=e.getContext("2d");return{canvas:e,context:s}}function kE(i){let t=i[0]??{};return(typeof t=="number"||i[1])&&(le("8.5.2","use options object instead"),t={type:"linear",start:{x:i[0],y:i[1]},end:{x:i[2],y:i[3]},textureSpace:i[4],textureSize:i[5]??lr.defaultLinearOptions.textureSize}),t}const M1={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class t0{constructor(t,e){this.uid=xi("fillPattern"),this.transform=new re,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),e&&(t.source.style.addressModeU=M1[e].addressModeU,t.source.style.addressModeV=M1[e].addressModeV)}setTransform(t){const e=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/e.frame.width,1/e.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var vy,C1;function QE(){if(C1)return vy;C1=1,vy=e;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function e(c){var f=[];return c.replace(t,function(d,_,y){var v=_.toLowerCase();for(y=r(y),v=="m"&&y.length>2&&(f.push([_].concat(y.splice(0,2))),v="l",_=_=="m"?"l":"L");;){if(y.length==i[v])return y.unshift(_),f.push(y);if(y.length<i[v])throw new Error("malformed path data");f.push([_].concat(y.splice(0,i[v])))}}),f}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function r(c){var f=c.match(s);return f?f.map(Number):[]}return vy}var FE=QE();const KE=Pm(FE);function PE(i,t){const e=KE(i),s=[];let r=null,c=0,f=0;for(let d=0;d<e.length;d++){const _=e[d],y=_[0],v=_;switch(y){case"M":c=v[1],f=v[2],t.moveTo(c,f);break;case"m":c+=v[1],f+=v[2],t.moveTo(c,f);break;case"H":c=v[1],t.lineTo(c,f);break;case"h":c+=v[1],t.lineTo(c,f);break;case"V":f=v[1],t.lineTo(c,f);break;case"v":f+=v[1],t.lineTo(c,f);break;case"L":c=v[1],f=v[2],t.lineTo(c,f);break;case"l":c+=v[1],f+=v[2],t.lineTo(c,f);break;case"C":c=v[5],f=v[6],t.bezierCurveTo(v[1],v[2],v[3],v[4],c,f);break;case"c":t.bezierCurveTo(c+v[1],f+v[2],c+v[3],f+v[4],c+v[5],f+v[6]),c+=v[5],f+=v[6];break;case"S":c=v[3],f=v[4],t.bezierCurveToShort(v[1],v[2],c,f);break;case"s":t.bezierCurveToShort(c+v[1],f+v[2],c+v[3],f+v[4]),c+=v[3],f+=v[4];break;case"Q":c=v[3],f=v[4],t.quadraticCurveTo(v[1],v[2],c,f);break;case"q":t.quadraticCurveTo(c+v[1],f+v[2],c+v[3],f+v[4]),c+=v[3],f+=v[4];break;case"T":c=v[1],f=v[2],t.quadraticCurveToShort(c,f);break;case"t":c+=v[1],f+=v[2],t.quadraticCurveToShort(c,f);break;case"A":c=v[6],f=v[7],t.arcToSvg(v[1],v[2],v[3],v[4],v[5],c,f);break;case"a":c+=v[6],f+=v[7],t.arcToSvg(v[1],v[2],v[3],v[4],v[5],c,f);break;case"Z":case"z":t.closePath(),s.length>0&&(r=s.pop(),r?(c=r.startX,f=r.startY):(c=0,f=0)),r=null;break;default:je(`Unknown SVG path command: ${y}`)}y!=="Z"&&y!=="z"&&r===null&&(r={startX:c,startY:f},s.push(r))}return t}class qg{constructor(t=0,e=0,s=0){this.type="circle",this.x=t,this.y=e,this.radius=s}clone(){return new qg(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const s=this.radius*this.radius;let r=this.x-t,c=this.y-e;return r*=r,c*=c,r+c<=s}strokeContains(t,e,s,r=.5){if(this.radius===0)return!1;const c=this.x-t,f=this.y-e,d=this.radius,_=(1-r)*s,y=Math.sqrt(c*c+f*f);return y<=d+_&&y>d-(s-_)}getBounds(t){return t||(t=new Qe),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class jg{constructor(t=0,e=0,s=0,r=0){this.type="ellipse",this.x=t,this.y=e,this.halfWidth=s,this.halfHeight=r}clone(){return new jg(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,e){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(t-this.x)/this.halfWidth,r=(e-this.y)/this.halfHeight;return s*=s,r*=r,s+r<=1}strokeContains(t,e,s,r=.5){const{halfWidth:c,halfHeight:f}=this;if(c<=0||f<=0)return!1;const d=s*(1-r),_=s-d,y=c-_,v=f-_,E=c+d,M=f+d,w=t-this.x,z=e-this.y,H=w*w/(y*y)+z*z/(v*v),R=w*w/(E*E)+z*z/(M*M);return H>1&&R<=1}getBounds(t){return t||(t=new Qe),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function WE(i,t,e,s,r,c){const f=i-e,d=t-s,_=r-e,y=c-s,v=f*_+d*y,E=_*_+y*y;let M=-1;E!==0&&(M=v/E);let w,z;M<0?(w=e,z=s):M>1?(w=r,z=c):(w=e+M*_,z=s+M*y);const H=i-w,R=t-z;return H*H+R*R}let IE,JE;class id{constructor(...t){this.type="polygon";let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const s=[];for(let r=0,c=e.length;r<c;r++)s.push(e[r].x,e[r].y);e=s}this.points=e,this.closePath=!0}isClockwise(){let t=0;const e=this.points,s=e.length;for(let r=0;r<s;r+=2){const c=e[r],f=e[r+1],d=e[(r+2)%s],_=e[(r+3)%s];t+=(d-c)*(_+f)}return t<0}containsPolygon(t){const e=this.getBounds(IE),s=t.getBounds(JE);if(!e.containsRect(s))return!1;const r=t.points;for(let c=0;c<r.length;c+=2){const f=r[c],d=r[c+1];if(!this.contains(f,d))return!1}return!0}clone(){const t=this.points.slice(),e=new id(t);return e.closePath=this.closePath,e}contains(t,e){let s=!1;const r=this.points.length/2;for(let c=0,f=r-1;c<r;f=c++){const d=this.points[c*2],_=this.points[c*2+1],y=this.points[f*2],v=this.points[f*2+1];_>e!=v>e&&t<(y-d)*((e-_)/(v-_))+d&&(s=!s)}return s}strokeContains(t,e,s,r=.5){const c=s*s,f=c*(1-r),d=c-f,{points:_}=this,y=_.length-(this.closePath?0:2);for(let v=0;v<y;v+=2){const E=_[v],M=_[v+1],w=_[(v+2)%_.length],z=_[(v+3)%_.length],H=WE(t,e,E,M,w,z),R=Math.sign((w-E)*(e-M)-(z-M)*(t-E));if(H<=(R<0?d:f))return!0}return!1}getBounds(t){t||(t=new Qe);const e=this.points;let s=1/0,r=-1/0,c=1/0,f=-1/0;for(let d=0,_=e.length;d<_;d+=2){const y=e[d],v=e[d+1];s=y<s?y:s,r=y>r?y:r,c=v<c?v:c,f=v>f?v:f}return t.x=s,t.width=r-s,t.y=c,t.height=f-c,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return le("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return le("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const vm=(i,t,e,s,r,c,f)=>{const d=i-e,_=t-s,y=Math.sqrt(d*d+_*_);return y>=r-c&&y<=r+f};class Vg{constructor(t=0,e=0,s=0,r=0,c=20){this.type="roundedRectangle",this.x=t,this.y=e,this.width=s,this.height=r,this.radius=c}getBounds(t){return t||(t=new Qe),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new Vg(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+s&&e<=this.y+this.height-s||t>=this.x+s&&t<=this.x+this.width-s)return!0;let r=t-(this.x+s),c=e-(this.y+s);const f=s*s;if(r*r+c*c<=f||(r=t-(this.x+this.width-s),r*r+c*c<=f)||(c=e-(this.y+this.height-s),r*r+c*c<=f)||(r=t-(this.x+s),r*r+c*c<=f))return!0}return!1}strokeContains(t,e,s,r=.5){const{x:c,y:f,width:d,height:_,radius:y}=this,v=s*(1-r),E=s-v,M=c+y,w=f+y,z=d-y*2,H=_-y*2,R=c+d,D=f+_;return(t>=c-v&&t<=c+E||t>=R-E&&t<=R+v)&&e>=w&&e<=w+H||(e>=f-v&&e<=f+E||e>=D-E&&e<=D+v)&&t>=M&&t<=M+z?!0:t<M&&e<w&&vm(t,e,M,w,y,E,v)||t>R-y&&e<w&&vm(t,e,R-y,w,y,E,v)||t>R-y&&e>D-y&&vm(t,e,R-y,D-y,y,E,v)||t<M&&e>D-y&&vm(t,e,M,D-y,y,E,v)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const yb={};function $E(i,t,e){let s=2166136261;for(let r=0;r<t;r++)s^=i[r].uid,s=Math.imul(s,16777619),s>>>=0;return yb[s]||tw(i,t,s,e)}function tw(i,t,e,s){const r={};let c=0;for(let d=0;d<s;d++){const _=d<t?i[d]:Zt.EMPTY.source;r[c++]=_.source,r[c++]=_.style}const f=new Qc(r);return yb[e]=f,f}class z1{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function R1(i,t){const e=i.byteLength/8|0,s=new Float64Array(i,0,e);new Float64Array(t,0,e).set(s);const c=i.byteLength-e*8;if(c>0){const f=new Uint8Array(i,e*8,c);new Uint8Array(t,e*8,c).set(f)}}const ew={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var iw=(i=>(i[i.DISABLED=0]="DISABLED",i[i.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",i[i.MASK_ACTIVE=2]="MASK_ACTIVE",i[i.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",i[i.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",i[i.NONE=5]="NONE",i))(iw||{});function B1(i,t){return t.alphaMode==="no-premultiply-alpha"&&ew[i]||i}const nw=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function aw(i){let t="";for(let e=0;e<i;++e)e>0&&(t+=`
else `),e<i-1&&(t+=`if(test == ${e}.0){}`);return t}function sw(i,t){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const s=nw.replace(/%forloop%/gi,aw(i));if(t.shaderSource(e,s),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))i=i/2|0;else break}}finally{t.deleteShader(e)}return i}let qc=null;function lw(){if(qc)return qc;const i=Wx();return qc=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),qc=sw(qc,i),i.getExtension("WEBGL_lose_context")?.loseContext(),qc}class rw{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const e=this.textures[t];this.textures[t]=null,this.ids[e.uid]=null}this.count=0}}class uw{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new rw,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const gb=[];let mg=0;function O1(){return mg>0?gb[--mg]:new uw}function U1(i){gb[mg++]=i}let jf=0;const _b=class vb{constructor(t){this.uid=xi("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...vb.defaultOptions,...t},t.maxTextures||(le("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=lw());const{maxTextures:e,attributesInitialSize:s,indicesInitialSize:r}=t;this.attributeBuffer=new z1(s*4),this.indexBuffer=new Uint16Array(r),this.maxTextures=e}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)U1(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,e){const s=t._batch.textures.ids[e._source.uid];return!s&&s!==0?!1:(t._textureId=s,t.texture=e,!0)}updateElement(t){this.dirty=!0;const e=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId)}break(t){const e=this._elements;if(!e[this.elementStart])return;let s=O1(),r=s.textures;r.clear();const c=e[this.elementStart];let f=B1(c.blendMode,c.texture._source),d=c.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const _=this.attributeBuffer.float32View,y=this.attributeBuffer.uint32View,v=this.indexBuffer;let E=this._batchIndexSize,M=this._batchIndexStart,w="startBatch";const z=this.maxTextures;for(let H=this.elementStart;H<this.elementSize;++H){const R=e[H];e[H]=null;const N=R.texture._source,Y=B1(R.blendMode,N),L=f!==Y||d!==R.topology;if(N._batchTick===jf&&!L){R._textureId=N._textureBindLocation,E+=R.indexSize,R.packAsQuad?(this.packQuadAttributes(R,_,y,R._attributeStart,R._textureId),this.packQuadIndex(v,R._indexStart,R._attributeStart/this.vertexSize)):(this.packAttributes(R,_,y,R._attributeStart,R._textureId),this.packIndex(R,v,R._indexStart,R._attributeStart/this.vertexSize)),R._batch=s;continue}N._batchTick=jf,(r.count>=z||L)&&(this._finishBatch(s,M,E-M,r,f,d,t,w),w="renderBatch",M=E,f=Y,d=R.topology,s=O1(),r=s.textures,r.clear(),++jf),R._textureId=N._textureBindLocation=r.count,r.ids[N.uid]=r.count,r.textures[r.count++]=N,R._batch=s,E+=R.indexSize,R.packAsQuad?(this.packQuadAttributes(R,_,y,R._attributeStart,R._textureId),this.packQuadIndex(v,R._indexStart,R._attributeStart/this.vertexSize)):(this.packAttributes(R,_,y,R._attributeStart,R._textureId),this.packIndex(R,v,R._indexStart,R._attributeStart/this.vertexSize))}r.count>0&&(this._finishBatch(s,M,E-M,r,f,d,t,w),M=E,++jf),this.elementStart=this.elementSize,this._batchIndexStart=M,this._batchIndexSize=E}_finishBatch(t,e,s,r,c,f,d,_){t.gpuBindGroup=null,t.bindGroup=null,t.action=_,t.batcher=this,t.textures=r,t.blendMode=c,t.topology=f,t.start=e,t.size=s,++jf,this.batches[this.batchIndex++]=t,d.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const e=Math.max(t,this.attributeBuffer.size*2),s=new z1(e);R1(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(t){const e=this.indexBuffer;let s=Math.max(t,e.length*1.5);s+=s%2;const r=s>65535?new Uint32Array(s):new Uint16Array(s);if(r.BYTES_PER_ELEMENT!==e.BYTES_PER_ELEMENT)for(let c=0;c<e.length;c++)r[c]=e[c];else R1(e.buffer,r.buffer);this.indexBuffer=r}packQuadIndex(t,e,s){t[e]=s+0,t[e+1]=s+1,t[e+2]=s+2,t[e+3]=s+0,t[e+4]=s+2,t[e+5]=s+3}packIndex(t,e,s,r){const c=t.indices,f=t.indexSize,d=t.indexOffset,_=t.attributeOffset;for(let y=0;y<f;y++)e[s++]=r+c[y+d]-_}destroy(){for(let t=0;t<this.batches.length;t++)U1(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};_b.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let ow=_b;var Ri=(i=>(i[i.MAP_READ=1]="MAP_READ",i[i.MAP_WRITE=2]="MAP_WRITE",i[i.COPY_SRC=4]="COPY_SRC",i[i.COPY_DST=8]="COPY_DST",i[i.INDEX=16]="INDEX",i[i.VERTEX=32]="VERTEX",i[i.UNIFORM=64]="UNIFORM",i[i.STORAGE=128]="STORAGE",i[i.INDIRECT=256]="INDIRECT",i[i.QUERY_RESOLVE=512]="QUERY_RESOLVE",i[i.STATIC=1024]="STATIC",i))(Ri||{});class du extends Es{constructor(t){let{data:e,size:s}=t;const{usage:r,label:c,shrinkToFit:f}=t;super(),this.uid=xi("buffer"),this._resourceType="buffer",this._resourceId=xi("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,e instanceof Array&&(e=new Float32Array(e)),this._data=e,s??(s=e?.byteLength);const d=!!e;this.descriptor={size:s,usage:r,mappedAtCreation:d,label:c},this.shrinkToFit=f??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Ri.STATIC)}set static(t){t?this.descriptor.usage|=Ri.STATIC:this.descriptor.usage&=~Ri.STATIC}setDataWithSize(t,e,s){if(this._updateID++,this._updateSize=e*t.BYTES_PER_ELEMENT,this._data===t){s&&this.emit("update",this);return}const r=this._data;if(this._data=t,this._dataInt32=null,!r||r.length!==t.length){!this.shrinkToFit&&r&&t.byteLength<r.byteLength?s&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=xi("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function xb(i,t){if(!(i instanceof du)){let e=t?Ri.INDEX:Ri.VERTEX;i instanceof Array&&(t?(i=new Uint32Array(i),e=Ri.INDEX|Ri.COPY_DST):(i=new Float32Array(i),e=Ri.VERTEX|Ri.COPY_DST)),i=new du({data:i,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:e})}return i}function cw(i,t,e){const s=i.getAttribute(t);if(!s)return e.minX=0,e.minY=0,e.maxX=0,e.maxY=0,e;const r=s.buffer.data;let c=1/0,f=1/0,d=-1/0,_=-1/0;const y=r.BYTES_PER_ELEMENT,v=(s.offset||0)/y,E=(s.stride||8)/y;for(let M=v;M<r.length;M+=E){const w=r[M],z=r[M+1];w>d&&(d=w),z>_&&(_=z),w<c&&(c=w),z<f&&(f=z)}return e.minX=c,e.minY=f,e.maxX=d,e.maxY=_,e}function hw(i){return(i instanceof du||Array.isArray(i)||i.BYTES_PER_ELEMENT)&&(i={buffer:i}),i.buffer=xb(i.buffer,!1),i}class bb extends Es{constructor(t={}){super(),this.uid=xi("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Qa,this._boundsDirty=!0;const{attributes:e,indexBuffer:s,topology:r}=t;if(this.buffers=[],this.attributes={},e)for(const c in e)this.addAttribute(c,e[c]);this.instanceCount=t.instanceCount??1,s&&this.addIndex(s),this.topology=r||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const e=this.attributes[t];return e.buffer.data.length/(e.stride/4||e.size)}return 0}addAttribute(t,e){const s=hw(e);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=s}addIndex(t){this.indexBuffer=xb(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,cw(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(e=>e.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const fw=new Float32Array(1),dw=new Uint32Array(1);class pw extends bb{constructor(){const e=new du({data:fw,label:"attribute-batch-buffer",usage:Ri.VERTEX|Ri.COPY_DST,shrinkToFit:!1}),s=new du({data:dw,label:"index-batch-buffer",usage:Ri.INDEX|Ri.COPY_DST,shrinkToFit:!1}),r=24;super({attributes:{aPosition:{buffer:e,format:"float32x2",stride:r,offset:0},aUV:{buffer:e,format:"float32x2",stride:r,offset:8},aColor:{buffer:e,format:"unorm8x4",stride:r,offset:16},aTextureIdAndRound:{buffer:e,format:"uint16x2",stride:r,offset:20}},indexBuffer:s})}}function D1(i,t,e){if(i)for(const s in i){const r=s.toLocaleLowerCase(),c=t[r];if(c){let f=i[s];s==="header"&&(f=f.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),e&&c.push(`//----${e}----//`),c.push(f)}else je(`${s} placement hook does not exist in shader`)}}const mw=/\{\{(.*?)\}\}/g;function H1(i){const t={};return(i.match(mw)?.map(s=>s.replace(/[{()}]/g,""))??[]).forEach(s=>{t[s]=[]}),t}function N1(i,t){let e;const s=/@in\s+([^;]+);/g;for(;(e=s.exec(i))!==null;)t.push(e[1])}function G1(i,t,e=!1){const s=[];N1(t,s),i.forEach(d=>{d.header&&N1(d.header,s)});const r=s;e&&r.sort();const c=r.map((d,_)=>`       @location(${_}) ${d},`).join(`
`);let f=t.replace(/@in\s+[^;]+;\s*/g,"");return f=f.replace("{{in}}",`
${c}
`),f}function Y1(i,t){let e;const s=/@out\s+([^;]+);/g;for(;(e=s.exec(i))!==null;)t.push(e[1])}function yw(i){const e=/\b(\w+)\s*:/g.exec(i);return e?e[1]:""}function gw(i){const t=/@.*?\s+/g;return i.replace(t,"")}function _w(i,t){const e=[];Y1(t,e),i.forEach(_=>{_.header&&Y1(_.header,e)});let s=0;const r=e.sort().map(_=>_.indexOf("builtin")>-1?_:`@location(${s++}) ${_}`).join(`,
`),c=e.sort().map(_=>`       var ${gw(_)};`).join(`
`),f=`return VSOutput(
            ${e.sort().map(_=>` ${yw(_)}`).join(`,
`)});`;let d=t.replace(/@out\s+[^;]+;\s*/g,"");return d=d.replace("{{struct}}",`
${r}
`),d=d.replace("{{start}}",`
${c}
`),d=d.replace("{{return}}",`
${f}
`),d}function L1(i,t){let e=i;for(const s in t){const r=t[s];r.join(`
`).length?e=e.replace(`{{${s}}}`,`//-----${s} START-----//
${r.join(`
`)}
//----${s} FINISH----//`):e=e.replace(`{{${s}}}`,"")}return e}const uu=Object.create(null),xy=new Map;let vw=0;function xw({template:i,bits:t}){const e=Sb(i,t);if(uu[e])return uu[e];const{vertex:s,fragment:r}=Sw(i,t);return uu[e]=Ab(s,r,t),uu[e]}function bw({template:i,bits:t}){const e=Sb(i,t);return uu[e]||(uu[e]=Ab(i.vertex,i.fragment,t)),uu[e]}function Sw(i,t){const e=t.map(f=>f.vertex).filter(f=>!!f),s=t.map(f=>f.fragment).filter(f=>!!f);let r=G1(e,i.vertex,!0);r=_w(e,r);const c=G1(s,i.fragment,!0);return{vertex:r,fragment:c}}function Sb(i,t){return t.map(e=>(xy.has(e)||xy.set(e,vw++),xy.get(e))).sort((e,s)=>e-s).join("-")+i.vertex+i.fragment}function Ab(i,t,e){const s=H1(i),r=H1(t);return e.forEach(c=>{D1(c.vertex,s,c.name),D1(c.fragment,r,c.name)}),{vertex:L1(i,s),fragment:L1(t,r)}}const Aw=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Ew=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,ww=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Tw=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,Mw={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},Cw={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function zw({bits:i,name:t}){const e=xw({template:{fragment:Ew,vertex:Aw},bits:[Mw,...i]});return sh.from({name:t,vertex:{source:e.vertex,entryPoint:"main"},fragment:{source:e.fragment,entryPoint:"main"}})}function Rw({bits:i,name:t}){return new $m({name:t,...bw({template:{vertex:ww,fragment:Tw},bits:[Cw,...i]})})}const Bw={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},Ow={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},by={};function Uw(i){const t=[];if(i===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let e=0;for(let s=0;s<i;s++)t.push(`@group(1) @binding(${e++}) var textureSource${s+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${e++}) var textureSampler${s+1}: sampler;`)}return t.join(`
`)}function Dw(i){const t=[];if(i===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let e=0;e<i;e++)e===i-1?t.push("  default:{"):t.push(`  case ${e}:{`),t.push(`      outColor = textureSampleGrad(textureSource${e+1}, textureSampler${e+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function Hw(i){return by[i]||(by[i]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Uw(i)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Dw(i)}
            `}}),by[i]}const Sy={};function Nw(i){const t=[];for(let e=0;e<i;e++)e>0&&t.push("else"),e<i-1&&t.push(`if(vTextureId < ${e}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${e}], vUV);`),t.push("}");return t.join(`
`)}function Gw(i){return Sy[i]||(Sy[i]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${i}];

            `,main:`

                ${Nw(i)}
            `}}),Sy[i]}const Yw={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Lw={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},X1={};function Xw(i){let t=X1[i];if(t)return t;const e=new Int32Array(i);for(let s=0;s<i;s++)e[s]=s;return t=X1[i]=new Ad({uTextures:{value:e,type:"i32",size:i}},{isStatic:!0}),t}class qw extends lh{constructor(t){const e=Rw({name:"batch",bits:[Ow,Gw(t),Lw]}),s=zw({name:"batch",bits:[Bw,Hw(t),Yw]});super({glProgram:e,gpuProgram:s,resources:{batchSamplers:Xw(t)}})}}let Ay=null;const Eb=class wb extends ow{constructor(t){super(t),this.geometry=new pw,this.name=wb.extension.name,this.vertexSize=6,Ay??(Ay=new qw(t.maxTextures)),this.shader=Ay}packAttributes(t,e,s,r,c){const f=c<<16|t.roundPixels&65535,d=t.transform,_=d.a,y=d.b,v=d.c,E=d.d,M=d.tx,w=d.ty,{positions:z,uvs:H}=t,R=t.color,D=t.attributeOffset,N=D+t.attributeSize;for(let Y=D;Y<N;Y++){const L=Y*2,F=z[L],tt=z[L+1];e[r++]=_*F+v*tt+M,e[r++]=E*tt+y*F+w,e[r++]=H[L],e[r++]=H[L+1],s[r++]=R,s[r++]=f}}packQuadAttributes(t,e,s,r,c){const f=t.texture,d=t.transform,_=d.a,y=d.b,v=d.c,E=d.d,M=d.tx,w=d.ty,z=t.bounds,H=z.maxX,R=z.minX,D=z.maxY,N=z.minY,Y=f.uvs,L=t.color,F=c<<16|t.roundPixels&65535;e[r+0]=_*R+v*N+M,e[r+1]=E*N+y*R+w,e[r+2]=Y.x0,e[r+3]=Y.y0,s[r+4]=L,s[r+5]=F,e[r+6]=_*H+v*N+M,e[r+7]=E*N+y*H+w,e[r+8]=Y.x1,e[r+9]=Y.y1,s[r+10]=L,s[r+11]=F,e[r+12]=_*H+v*D+M,e[r+13]=E*D+y*H+w,e[r+14]=Y.x2,e[r+15]=Y.y2,s[r+16]=L,s[r+17]=F,e[r+18]=_*R+v*D+M,e[r+19]=E*D+y*R+w,e[r+20]=Y.x3,e[r+21]=Y.y3,s[r+22]=L,s[r+23]=F}};Eb.extension={type:[Mt.Batcher],name:"default"};let jw=Eb;function Vw(i,t,e,s,r,c,f,d=null){let _=0;e*=t,r*=c;const y=d.a,v=d.b,E=d.c,M=d.d,w=d.tx,z=d.ty;for(;_<f;){const H=i[e],R=i[e+1];s[r]=y*H+E*R+w,s[r+1]=v*H+M*R+z,r+=c,e+=t,_++}}function Zw(i,t,e,s){let r=0;for(t*=e;r<s;)i[t]=0,i[t+1]=0,t+=e,r++}function Tb(i,t,e,s,r){const c=t.a,f=t.b,d=t.c,_=t.d,y=t.tx,v=t.ty;e||(e=0),s||(s=2),r||(r=i.length/s-e);let E=e*s;for(let M=0;M<r;M++){const w=i[E],z=i[E+1];i[E]=c*w+d*z+y,i[E+1]=f*w+_*z+v,E+=s}}const kw=new re;class Mb{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,e=t>>16|t&65280|(t&255)<<16,s=this.renderable;return s?Bx(e,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):e+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||kw}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const cd={extension:{type:Mt.ShapeBuilder,name:"circle"},build(i,t){let e,s,r,c,f,d;if(i.type==="circle"){const L=i;if(f=d=L.radius,f<=0)return!1;e=L.x,s=L.y,r=c=0}else if(i.type==="ellipse"){const L=i;if(f=L.halfWidth,d=L.halfHeight,f<=0||d<=0)return!1;e=L.x,s=L.y,r=c=0}else{const L=i,F=L.width/2,tt=L.height/2;e=L.x+F,s=L.y+tt,f=d=Math.max(0,Math.min(L.radius,Math.min(F,tt))),r=F-f,c=tt-d}if(r<0||c<0)return!1;const _=Math.ceil(2.3*Math.sqrt(f+d)),y=_*8+(r?4:0)+(c?4:0);if(y===0)return!1;if(_===0)return t[0]=t[6]=e+r,t[1]=t[3]=s+c,t[2]=t[4]=e-r,t[5]=t[7]=s-c,!0;let v=0,E=_*4+(r?2:0)+2,M=E,w=y,z=r+f,H=c,R=e+z,D=e-z,N=s+H;if(t[v++]=R,t[v++]=N,t[--E]=N,t[--E]=D,c){const L=s-H;t[M++]=D,t[M++]=L,t[--w]=L,t[--w]=R}for(let L=1;L<_;L++){const F=Math.PI/2*(L/_),tt=r+Math.cos(F)*f,K=c+Math.sin(F)*d,gt=e+tt,pt=e-tt,rt=s+K,ot=s-K;t[v++]=gt,t[v++]=rt,t[--E]=rt,t[--E]=pt,t[M++]=pt,t[M++]=ot,t[--w]=ot,t[--w]=gt}z=r,H=c+d,R=e+z,D=e-z,N=s+H;const Y=s-H;return t[v++]=R,t[v++]=N,t[--w]=Y,t[--w]=R,r&&(t[v++]=D,t[v++]=N,t[--w]=Y,t[--w]=D),!0},triangulate(i,t,e,s,r,c){if(i.length===0)return;let f=0,d=0;for(let v=0;v<i.length;v+=2)f+=i[v],d+=i[v+1];f/=i.length/2,d/=i.length/2;let _=s;t[_*e]=f,t[_*e+1]=d;const y=_++;for(let v=0;v<i.length;v+=2)t[_*e]=i[v],t[_*e+1]=i[v+1],v>0&&(r[c++]=_,r[c++]=y,r[c++]=_-1),_++;r[c++]=y+1,r[c++]=y,r[c++]=_-1}},Qw={...cd,extension:{...cd.extension,name:"ellipse"}},Fw={...cd,extension:{...cd.extension,name:"roundedRectangle"}},Cb=1e-4,q1=1e-4;function Kw(i){const t=i.length;if(t<6)return 1;let e=0;for(let s=0,r=i[t-2],c=i[t-1];s<t;s+=2){const f=i[s],d=i[s+1];e+=(f-r)*(d+c),r=f,c=d}return e<0?-1:1}function j1(i,t,e,s,r,c,f,d){const _=i-e*r,y=t-s*r,v=i+e*c,E=t+s*c;let M,w;f?(M=s,w=-e):(M=-s,w=e);const z=_+M,H=y+w,R=v+M,D=E+w;return d.push(z,H),d.push(R,D),2}function po(i,t,e,s,r,c,f,d){const _=e-i,y=s-t;let v=Math.atan2(_,y),E=Math.atan2(r-i,c-t);d&&v<E?v+=Math.PI*2:!d&&v>E&&(E+=Math.PI*2);let M=v;const w=E-v,z=Math.abs(w),H=Math.sqrt(_*_+y*y),R=(15*z*Math.sqrt(H)/Math.PI>>0)+1,D=w/R;if(M+=D,d){f.push(i,t),f.push(e,s);for(let N=1,Y=M;N<R;N++,Y+=D)f.push(i,t),f.push(i+Math.sin(Y)*H,t+Math.cos(Y)*H);f.push(i,t),f.push(r,c)}else{f.push(e,s),f.push(i,t);for(let N=1,Y=M;N<R;N++,Y+=D)f.push(i+Math.sin(Y)*H,t+Math.cos(Y)*H),f.push(i,t);f.push(r,c),f.push(i,t)}return R*2}function Pw(i,t,e,s,r,c){const f=Cb;if(i.length===0)return;const d=t;let _=d.alignment;if(t.alignment!==.5){let _t=Kw(i);_=(_-.5)*_t+.5}const y=new _e(i[0],i[1]),v=new _e(i[i.length-2],i[i.length-1]),E=s,M=Math.abs(y.x-v.x)<f&&Math.abs(y.y-v.y)<f;if(E){i=i.slice(),M&&(i.pop(),i.pop(),v.set(i[i.length-2],i[i.length-1]));const _t=(y.x+v.x)*.5,X=(v.y+y.y)*.5;i.unshift(_t,X),i.push(_t,X)}const w=r,z=i.length/2;let H=i.length;const R=w.length/2,D=d.width/2,N=D*D,Y=d.miterLimit*d.miterLimit;let L=i[0],F=i[1],tt=i[2],K=i[3],gt=0,pt=0,rt=-(F-K),ot=L-tt,Tt=0,jt=0,Pt=Math.sqrt(rt*rt+ot*ot);rt/=Pt,ot/=Pt,rt*=D,ot*=D;const $t=_,q=(1-$t)*2,I=$t*2;E||(d.cap==="round"?H+=po(L-rt*(q-I)*.5,F-ot*(q-I)*.5,L-rt*q,F-ot*q,L+rt*I,F+ot*I,w,!0)+2:d.cap==="square"&&(H+=j1(L,F,rt,ot,q,I,!0,w))),w.push(L-rt*q,F-ot*q),w.push(L+rt*I,F+ot*I);for(let _t=1;_t<z-1;++_t){L=i[(_t-1)*2],F=i[(_t-1)*2+1],tt=i[_t*2],K=i[_t*2+1],gt=i[(_t+1)*2],pt=i[(_t+1)*2+1],rt=-(F-K),ot=L-tt,Pt=Math.sqrt(rt*rt+ot*ot),rt/=Pt,ot/=Pt,rt*=D,ot*=D,Tt=-(K-pt),jt=tt-gt,Pt=Math.sqrt(Tt*Tt+jt*jt),Tt/=Pt,jt/=Pt,Tt*=D,jt*=D;const X=tt-L,lt=F-K,mt=tt-gt,vt=pt-K,At=X*mt+lt*vt,Dt=lt*mt-vt*X,zt=Dt<0;if(Math.abs(Dt)<.001*Math.abs(At)){w.push(tt-rt*q,K-ot*q),w.push(tt+rt*I,K+ot*I),At>=0&&(d.join==="round"?H+=po(tt,K,tt-rt*q,K-ot*q,tt-Tt*q,K-jt*q,w,!1)+4:H+=2,w.push(tt-Tt*I,K-jt*I),w.push(tt+Tt*q,K+jt*q));continue}const Fe=(-rt+L)*(-ot+K)-(-rt+tt)*(-ot+F),It=(-Tt+gt)*(-jt+K)-(-Tt+tt)*(-jt+pt),Si=(X*It-mt*Fe)/Dt,Xn=(vt*Fe-lt*It)/Dt,un=(Si-tt)*(Si-tt)+(Xn-K)*(Xn-K),Ai=tt+(Si-tt)*q,Ke=K+(Xn-K)*q,ri=tt-(Si-tt)*I,on=K-(Xn-K)*I,vl=Math.min(X*X+lt*lt,mt*mt+vt*vt),Xe=zt?q:I,rr=vl+Xe*Xe*N;un<=rr?d.join==="bevel"||un/N>Y?(zt?(w.push(Ai,Ke),w.push(tt+rt*I,K+ot*I),w.push(Ai,Ke),w.push(tt+Tt*I,K+jt*I)):(w.push(tt-rt*q,K-ot*q),w.push(ri,on),w.push(tt-Tt*q,K-jt*q),w.push(ri,on)),H+=2):d.join==="round"?zt?(w.push(Ai,Ke),w.push(tt+rt*I,K+ot*I),H+=po(tt,K,tt+rt*I,K+ot*I,tt+Tt*I,K+jt*I,w,!0)+4,w.push(Ai,Ke),w.push(tt+Tt*I,K+jt*I)):(w.push(tt-rt*q,K-ot*q),w.push(ri,on),H+=po(tt,K,tt-rt*q,K-ot*q,tt-Tt*q,K-jt*q,w,!1)+4,w.push(tt-Tt*q,K-jt*q),w.push(ri,on)):(w.push(Ai,Ke),w.push(ri,on)):(w.push(tt-rt*q,K-ot*q),w.push(tt+rt*I,K+ot*I),d.join==="round"?zt?H+=po(tt,K,tt+rt*I,K+ot*I,tt+Tt*I,K+jt*I,w,!0)+2:H+=po(tt,K,tt-rt*q,K-ot*q,tt-Tt*q,K-jt*q,w,!1)+2:d.join==="miter"&&un/N<=Y&&(zt?(w.push(ri,on),w.push(ri,on)):(w.push(Ai,Ke),w.push(Ai,Ke)),H+=2),w.push(tt-Tt*q,K-jt*q),w.push(tt+Tt*I,K+jt*I),H+=2)}L=i[(z-2)*2],F=i[(z-2)*2+1],tt=i[(z-1)*2],K=i[(z-1)*2+1],rt=-(F-K),ot=L-tt,Pt=Math.sqrt(rt*rt+ot*ot),rt/=Pt,ot/=Pt,rt*=D,ot*=D,w.push(tt-rt*q,K-ot*q),w.push(tt+rt*I,K+ot*I),E||(d.cap==="round"?H+=po(tt-rt*(q-I)*.5,K-ot*(q-I)*.5,tt-rt*q,K-ot*q,tt+rt*I,K+ot*I,w,!1)+2:d.cap==="square"&&(H+=j1(tt,K,rt,ot,q,I,!1,w)));const yt=q1*q1;for(let _t=R;_t<H+R-2;++_t)L=w[_t*2],F=w[_t*2+1],tt=w[(_t+1)*2],K=w[(_t+1)*2+1],gt=w[(_t+2)*2],pt=w[(_t+2)*2+1],!(Math.abs(L*(K-pt)+tt*(pt-F)+gt*(F-K))<yt)&&c.push(_t,_t+1,_t+2)}function Ww(i,t,e,s){const r=Cb;if(i.length===0)return;const c=i[0],f=i[1],d=i[i.length-2],_=i[i.length-1],y=t||Math.abs(c-d)<r&&Math.abs(f-_)<r,v=e,E=i.length/2,M=v.length/2;for(let w=0;w<E;w++)v.push(i[w*2]),v.push(i[w*2+1]);for(let w=0;w<E-1;w++)s.push(M+w,M+w+1);y&&s.push(M+E-1,M)}function zb(i,t,e,s,r,c,f){const d=GE(i,t,2);if(!d)return;for(let y=0;y<d.length;y+=3)c[f++]=d[y]+r,c[f++]=d[y+1]+r,c[f++]=d[y+2]+r;let _=r*s;for(let y=0;y<i.length;y+=2)e[_]=i[y],e[_+1]=i[y+1],_+=s}const Iw=[],Jw={extension:{type:Mt.ShapeBuilder,name:"polygon"},build(i,t){for(let e=0;e<i.points.length;e++)t[e]=i.points[e];return!0},triangulate(i,t,e,s,r,c){zb(i,Iw,t,e,s,r,c)}},$w={extension:{type:Mt.ShapeBuilder,name:"rectangle"},build(i,t){const e=i,s=e.x,r=e.y,c=e.width,f=e.height;return c>0&&f>0?(t[0]=s,t[1]=r,t[2]=s+c,t[3]=r,t[4]=s+c,t[5]=r+f,t[6]=s,t[7]=r+f,!0):!1},triangulate(i,t,e,s,r,c){let f=0;s*=e,t[s+f]=i[0],t[s+f+1]=i[1],f+=e,t[s+f]=i[2],t[s+f+1]=i[3],f+=e,t[s+f]=i[6],t[s+f+1]=i[7],f+=e,t[s+f]=i[4],t[s+f+1]=i[5],f+=e;const d=s/e;r[c++]=d,r[c++]=d+1,r[c++]=d+2,r[c++]=d+1,r[c++]=d+3,r[c++]=d+2}},tT={extension:{type:Mt.ShapeBuilder,name:"triangle"},build(i,t){return t[0]=i.x,t[1]=i.y,t[2]=i.x2,t[3]=i.y2,t[4]=i.x3,t[5]=i.y3,!0},triangulate(i,t,e,s,r,c){let f=0;s*=e,t[s+f]=i[0],t[s+f+1]=i[1],f+=e,t[s+f]=i[2],t[s+f+1]=i[3],f+=e,t[s+f]=i[4],t[s+f+1]=i[5];const d=s/e;r[c++]=d,r[c++]=d+1,r[c++]=d+2}},eT=new re,iT=new Qe;function nT(i,t,e,s){const r=t.matrix?i.copyFrom(t.matrix).invert():i.identity();if(t.textureSpace==="local"){const f=e.getBounds(iT);t.width&&f.pad(t.width);const{x:d,y:_}=f,y=1/f.width,v=1/f.height,E=-d*y,M=-_*v,w=r.a,z=r.b,H=r.c,R=r.d;r.a*=y,r.b*=y,r.c*=v,r.d*=v,r.tx=E*w+M*H+r.tx,r.ty=E*z+M*R+r.ty}else r.translate(t.texture.frame.x,t.texture.frame.y),r.scale(1/t.texture.source.width,1/t.texture.source.height);const c=t.texture.source.style;return!(t.fill instanceof lr)&&c.addressMode==="clamp-to-edge"&&(c.addressMode="repeat",c.update()),s&&r.append(eT.copyFrom(s).invert()),r}const e0={};di.handleByMap(Mt.ShapeBuilder,e0);di.add($w,Jw,tT,cd,Qw,Fw);const aT=new Qe,sT=new re;function lT(i,t){const{geometryData:e,batches:s}=t;s.length=0,e.indices.length=0,e.vertices.length=0,e.uvs.length=0;for(let r=0;r<i.instructions.length;r++){const c=i.instructions[r];if(c.action==="texture")rT(c.data,s,e);else if(c.action==="fill"||c.action==="stroke"){const f=c.action==="stroke",d=c.data.path.shapePath,_=c.data.style,y=c.data.hole;f&&y&&V1(y.shapePath,_,!0,s,e),y&&(d.shapePrimitives[d.shapePrimitives.length-1].holes=y.shapePath.shapePrimitives),V1(d,_,f,s,e)}}}function rT(i,t,e){const s=[],r=e0.rectangle,c=aT;c.x=i.dx,c.y=i.dy,c.width=i.dw,c.height=i.dh;const f=i.transform;if(!r.build(c,s))return;const{vertices:d,uvs:_,indices:y}=e,v=y.length,E=d.length/2;f&&Tb(s,f),r.triangulate(s,d,2,E,y,v);const M=i.image,w=M.uvs;_.push(w.x0,w.y0,w.x1,w.y1,w.x3,w.y3,w.x2,w.y2);const z=nr.get(Mb);z.indexOffset=v,z.indexSize=y.length-v,z.attributeOffset=E,z.attributeSize=d.length/2-E,z.baseColor=i.style,z.alpha=i.alpha,z.texture=M,z.geometryData=e,t.push(z)}function V1(i,t,e,s,r){const{vertices:c,uvs:f,indices:d}=r;i.shapePrimitives.forEach(({shape:_,transform:y,holes:v})=>{const E=[],M=e0[_.type];if(!M.build(_,E))return;const w=d.length,z=c.length/2;let H="triangle-list";if(y&&Tb(E,y),e){const Y=_.closePath??!0,L=t;L.pixelLine?(Ww(E,Y,c,d),H="line-list"):Pw(E,L,!1,Y,c,d)}else if(v){const Y=[],L=E.slice();uT(v).forEach(tt=>{Y.push(L.length/2),L.push(...tt)}),zb(L,Y,c,2,z,d,w)}else M.triangulate(E,c,2,z,d,w);const R=f.length/2,D=t.texture;if(D!==Zt.WHITE){const Y=nT(sT,t,_,y);Vw(c,2,z,f,R,2,c.length/2-z,Y)}else Zw(f,R,2,c.length/2-z);const N=nr.get(Mb);N.indexOffset=w,N.indexSize=d.length-w,N.attributeOffset=z,N.attributeSize=c.length/2-z,N.baseColor=t.color,N.alpha=t.alpha,N.texture=D,N.geometryData=r,N.topology=H,s.push(N)})}function uT(i){const t=[];for(let e=0;e<i.length;e++){const s=i[e].shape,r=[];e0[s.type].build(s,r)&&t.push(r)}return t}class oT{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class cT{constructor(){this.instructions=new Hx}init(t){this.batcher=new jw({maxTextures:t}),this.instructions.reset()}get geometry(){return le(rA,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const Zg=class yg{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){yg.defaultOptions.bezierSmoothness=t?.bezierSmoothness??yg.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let e=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){e?this._cleanGraphicsContextData(t):e=this._initContext(t),lT(t,e);const s=t.batchMode;t.customShader||s==="no-batch"?e.isBatchable=!1:s==="auto"?e.isBatchable=e.geometryData.vertices.length<400:e.isBatchable=!0,t.dirty=!1}return e}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const e=nr.get(cT,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:s,geometryData:r}=this._gpuContextHash[t.uid],c=r.vertices.length,f=r.indices.length;for(let v=0;v<s.length;v++)s[v].applyTransform=!1;const d=e.batcher;d.ensureAttributeBuffer(c),d.ensureIndexBuffer(f),d.begin();for(let v=0;v<s.length;v++){const E=s[v];d.add(E)}d.finish(e.instructions);const _=d.geometry;_.indexBuffer.setDataWithSize(d.indexBuffer,d.indexSize,!0),_.buffers[0].setDataWithSize(d.attributeBuffer.float32View,d.attributeSize,!0);const y=d.batches;for(let v=0;v<y.length;v++){const E=y[v];E.bindGroup=$E(E.textures.textures,E.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[t.uid]=e,e}_initContext(t){const e=new oT;return e.context=t,this._gpuContextHash[t.uid]=e,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const e=this._gpuContextHash[t.uid];e.isBatchable||this._graphicsDataContextHash[t.uid]&&(nr.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),e.batches&&e.batches.forEach(s=>{nr.return(s)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};Zg.extension={type:[Mt.WebGLSystem,Mt.WebGPUSystem,Mt.CanvasSystem],name:"graphicsContext"};Zg.defaultOptions={bezierSmoothness:.5};let Rb=Zg;const hT=8,xm=11920929e-14,fT=1;function Bb(i,t,e,s,r,c,f,d,_,y){const E=Math.min(.99,Math.max(0,y??Rb.defaultOptions.bezierSmoothness));let M=(fT-E)/1;return M*=M,dT(t,e,s,r,c,f,d,_,i,M),i}function dT(i,t,e,s,r,c,f,d,_,y){gg(i,t,e,s,r,c,f,d,_,y,0),_.push(f,d)}function gg(i,t,e,s,r,c,f,d,_,y,v){if(v>hT)return;const E=(i+e)/2,M=(t+s)/2,w=(e+r)/2,z=(s+c)/2,H=(r+f)/2,R=(c+d)/2,D=(E+w)/2,N=(M+z)/2,Y=(w+H)/2,L=(z+R)/2,F=(D+Y)/2,tt=(N+L)/2;if(v>0){let K=f-i,gt=d-t;const pt=Math.abs((e-f)*gt-(s-d)*K),rt=Math.abs((r-f)*gt-(c-d)*K);if(pt>xm&&rt>xm){if((pt+rt)*(pt+rt)<=y*(K*K+gt*gt)){_.push(F,tt);return}}else if(pt>xm){if(pt*pt<=y*(K*K+gt*gt)){_.push(F,tt);return}}else if(rt>xm){if(rt*rt<=y*(K*K+gt*gt)){_.push(F,tt);return}}else if(K=F-(i+f)/2,gt=tt-(t+d)/2,K*K+gt*gt<=y){_.push(F,tt);return}}gg(i,t,E,M,D,N,F,tt,_,y,v+1),gg(F,tt,Y,L,H,R,f,d,_,y,v+1)}const pT=8,mT=11920929e-14,yT=1;function gT(i,t,e,s,r,c,f,d){const y=Math.min(.99,Math.max(0,d??Rb.defaultOptions.bezierSmoothness));let v=(yT-y)/1;return v*=v,_T(t,e,s,r,c,f,i,v),i}function _T(i,t,e,s,r,c,f,d){_g(f,i,t,e,s,r,c,d,0),f.push(r,c)}function _g(i,t,e,s,r,c,f,d,_){if(_>pT)return;const y=(t+s)/2,v=(e+r)/2,E=(s+c)/2,M=(r+f)/2,w=(y+E)/2,z=(v+M)/2;let H=c-t,R=f-e;const D=Math.abs((s-c)*R-(r-f)*H);if(D>mT){if(D*D<=d*(H*H+R*R)){i.push(w,z);return}}else if(H=w-(t+c)/2,R=z-(e+f)/2,H*H+R*R<=d){i.push(w,z);return}_g(i,t,e,y,v,w,z,d,_+1),_g(i,w,z,E,M,c,f,d,_+1)}function Ob(i,t,e,s,r,c,f,d){let _=Math.abs(r-c);(!f&&r>c||f&&c>r)&&(_=2*Math.PI-_),d||(d=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(_/Math.PI)))),d=Math.max(d,3);let y=_/d,v=r;y*=f?-1:1;for(let E=0;E<d+1;E++){const M=Math.cos(v),w=Math.sin(v),z=t+M*s,H=e+w*s;i.push(z,H),v+=y}}function vT(i,t,e,s,r,c){const f=i[i.length-2],_=i[i.length-1]-e,y=f-t,v=r-e,E=s-t,M=Math.abs(_*E-y*v);if(M<1e-8||c===0){(i[i.length-2]!==t||i[i.length-1]!==e)&&i.push(t,e);return}const w=_*_+y*y,z=v*v+E*E,H=_*v+y*E,R=c*Math.sqrt(w)/M,D=c*Math.sqrt(z)/M,N=R*H/w,Y=D*H/z,L=R*E+D*y,F=R*v+D*_,tt=y*(D+N),K=_*(D+N),gt=E*(R+Y),pt=v*(R+Y),rt=Math.atan2(K-F,tt-L),ot=Math.atan2(pt-F,gt-L);Ob(i,L+t,F+e,c,rt,ot,y*v>E*_)}const nd=Math.PI*2,Ey={centerX:0,centerY:0,ang1:0,ang2:0},wy=({x:i,y:t},e,s,r,c,f,d,_)=>{i*=e,t*=s;const y=r*i-c*t,v=c*i+r*t;return _.x=y+f,_.y=v+d,_};function xT(i,t){const e=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),s=t===1.5707963267948966?.551915024494:e,r=Math.cos(i),c=Math.sin(i),f=Math.cos(i+t),d=Math.sin(i+t);return[{x:r-c*s,y:c+r*s},{x:f+d*s,y:d-f*s},{x:f,y:d}]}const Z1=(i,t,e,s)=>{const r=i*s-t*e<0?-1:1;let c=i*e+t*s;return c>1&&(c=1),c<-1&&(c=-1),r*Math.acos(c)},bT=(i,t,e,s,r,c,f,d,_,y,v,E,M)=>{const w=Math.pow(r,2),z=Math.pow(c,2),H=Math.pow(v,2),R=Math.pow(E,2);let D=w*z-w*R-z*H;D<0&&(D=0),D/=w*R+z*H,D=Math.sqrt(D)*(f===d?-1:1);const N=D*r/c*E,Y=D*-c/r*v,L=y*N-_*Y+(i+e)/2,F=_*N+y*Y+(t+s)/2,tt=(v-N)/r,K=(E-Y)/c,gt=(-v-N)/r,pt=(-E-Y)/c,rt=Z1(1,0,tt,K);let ot=Z1(tt,K,gt,pt);d===0&&ot>0&&(ot-=nd),d===1&&ot<0&&(ot+=nd),M.centerX=L,M.centerY=F,M.ang1=rt,M.ang2=ot};function ST(i,t,e,s,r,c,f,d=0,_=0,y=0){if(c===0||f===0)return;const v=Math.sin(d*nd/360),E=Math.cos(d*nd/360),M=E*(t-s)/2+v*(e-r)/2,w=-v*(t-s)/2+E*(e-r)/2;if(M===0&&w===0)return;c=Math.abs(c),f=Math.abs(f);const z=Math.pow(M,2)/Math.pow(c,2)+Math.pow(w,2)/Math.pow(f,2);z>1&&(c*=Math.sqrt(z),f*=Math.sqrt(z)),bT(t,e,s,r,c,f,_,y,v,E,M,w,Ey);let{ang1:H,ang2:R}=Ey;const{centerX:D,centerY:N}=Ey;let Y=Math.abs(R)/(nd/4);Math.abs(1-Y)<1e-7&&(Y=1);const L=Math.max(Math.ceil(Y),1);R/=L;let F=i[i.length-2],tt=i[i.length-1];const K={x:0,y:0};for(let gt=0;gt<L;gt++){const pt=xT(H,R),{x:rt,y:ot}=wy(pt[0],c,f,E,v,D,N,K),{x:Tt,y:jt}=wy(pt[1],c,f,E,v,D,N,K),{x:Pt,y:$t}=wy(pt[2],c,f,E,v,D,N,K);Bb(i,F,tt,rt,ot,Tt,jt,Pt,$t),F=Pt,tt=$t,H+=R}}function AT(i,t,e){const s=(f,d)=>{const _=d.x-f.x,y=d.y-f.y,v=Math.sqrt(_*_+y*y),E=_/v,M=y/v;return{len:v,nx:E,ny:M}},r=(f,d)=>{f===0?i.moveTo(d.x,d.y):i.lineTo(d.x,d.y)};let c=t[t.length-1];for(let f=0;f<t.length;f++){const d=t[f%t.length],_=d.radius??e;if(_<=0){r(f,d),c=d;continue}const y=t[(f+1)%t.length],v=s(d,c),E=s(d,y);if(v.len<1e-4||E.len<1e-4){r(f,d),c=d;continue}let M=Math.asin(v.nx*E.ny-v.ny*E.nx),w=1,z=!1;v.nx*E.nx-v.ny*-E.ny<0?M<0?M=Math.PI+M:(M=Math.PI-M,w=-1,z=!0):M>0&&(w=-1,z=!0);const H=M/2;let R,D=Math.abs(Math.cos(H)*_/Math.sin(H));D>Math.min(v.len/2,E.len/2)?(D=Math.min(v.len/2,E.len/2),R=Math.abs(D*Math.sin(H)/Math.cos(H))):R=_;const N=d.x+E.nx*D+-E.ny*R*w,Y=d.y+E.ny*D+E.nx*R*w,L=Math.atan2(v.ny,v.nx)+Math.PI/2*w,F=Math.atan2(E.ny,E.nx)-Math.PI/2*w;f===0&&i.moveTo(N+Math.cos(L)*R,Y+Math.sin(L)*R),i.arc(N,Y,R,L,F,z),c=d}}function ET(i,t,e,s){const r=(d,_)=>Math.sqrt((d.x-_.x)**2+(d.y-_.y)**2),c=(d,_,y)=>({x:d.x+(_.x-d.x)*y,y:d.y+(_.y-d.y)*y}),f=t.length;for(let d=0;d<f;d++){const _=t[(d+1)%f],y=_.radius??e;if(y<=0){d===0?i.moveTo(_.x,_.y):i.lineTo(_.x,_.y);continue}const v=t[d],E=t[(d+2)%f],M=r(v,_);let w;if(M<1e-4)w=_;else{const R=Math.min(M/2,y);w=c(_,v,R/M)}const z=r(E,_);let H;if(z<1e-4)H=_;else{const R=Math.min(z/2,y);H=c(_,E,R/z)}d===0?i.moveTo(w.x,w.y):i.lineTo(w.x,w.y),i.quadraticCurveTo(_.x,_.y,H.x,H.y,s)}}const wT=new Qe;class TT{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Qa,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,e){return this.startPoly(t,e),this}lineTo(t,e){this._ensurePoly();const s=this._currentPoly.points,r=s[s.length-2],c=s[s.length-1];return(r!==t||c!==e)&&s.push(t,e),this}arc(t,e,s,r,c,f){this._ensurePoly(!1);const d=this._currentPoly.points;return Ob(d,t,e,s,r,c,f),this}arcTo(t,e,s,r,c){this._ensurePoly();const f=this._currentPoly.points;return vT(f,t,e,s,r,c),this}arcToSvg(t,e,s,r,c,f,d){const _=this._currentPoly.points;return ST(_,this._currentPoly.lastX,this._currentPoly.lastY,f,d,t,e,s,r,c),this}bezierCurveTo(t,e,s,r,c,f,d){this._ensurePoly();const _=this._currentPoly;return Bb(this._currentPoly.points,_.lastX,_.lastY,t,e,s,r,c,f,d),this}quadraticCurveTo(t,e,s,r,c){this._ensurePoly();const f=this._currentPoly;return gT(this._currentPoly.points,f.lastX,f.lastY,t,e,s,r,c),this}closePath(){return this.endPoly(!0),this}addPath(t,e){this.endPoly(),e&&!e.isIdentity()&&(t=t.clone(!0),t.transform(e));const s=this.shapePrimitives,r=s.length;for(let c=0;c<t.instructions.length;c++){const f=t.instructions[c];this[f.action](...f.data)}if(t.checkForHoles&&s.length-r>1){let c=null;for(let f=r;f<s.length;f++){const d=s[f];if(d.shape.type==="polygon"){const _=d.shape,y=c?.shape;y&&y.containsPolygon(_)?(c.holes||(c.holes=[]),c.holes.push(d),s.copyWithin(f,f+1),s.length--,f--):c=d}}}return this}finish(t=!1){this.endPoly(t)}rect(t,e,s,r,c){return this.drawShape(new Qe(t,e,s,r),c),this}circle(t,e,s,r){return this.drawShape(new qg(t,e,s),r),this}poly(t,e,s){const r=new id(t);return r.closePath=e,this.drawShape(r,s),this}regularPoly(t,e,s,r,c=0,f){r=Math.max(r|0,3);const d=-1*Math.PI/2+c,_=Math.PI*2/r,y=[];for(let v=0;v<r;v++){const E=d-v*_;y.push(t+s*Math.cos(E),e+s*Math.sin(E))}return this.poly(y,!0,f),this}roundPoly(t,e,s,r,c,f=0,d){if(r=Math.max(r|0,3),c<=0)return this.regularPoly(t,e,s,r,f);const _=s*Math.sin(Math.PI/r)-.001;c=Math.min(c,_);const y=-1*Math.PI/2+f,v=Math.PI*2/r,E=(r-2)*Math.PI/r/2;for(let M=0;M<r;M++){const w=M*v+y,z=t+s*Math.cos(w),H=e+s*Math.sin(w),R=w+Math.PI+E,D=w-Math.PI-E,N=z+c*Math.cos(R),Y=H+c*Math.sin(R),L=z+c*Math.cos(D),F=H+c*Math.sin(D);M===0?this.moveTo(N,Y):this.lineTo(N,Y),this.quadraticCurveTo(z,H,L,F,d)}return this.closePath()}roundShape(t,e,s=!1,r){return t.length<3?this:(s?ET(this,t,e,r):AT(this,t,e),this.closePath())}filletRect(t,e,s,r,c){if(c===0)return this.rect(t,e,s,r);const f=Math.min(s,r)/2,d=Math.min(f,Math.max(-f,c)),_=t+s,y=e+r,v=d<0?-d:0,E=Math.abs(d);return this.moveTo(t,e+E).arcTo(t+v,e+v,t+E,e,E).lineTo(_-E,e).arcTo(_-v,e+v,_,e+E,E).lineTo(_,y-E).arcTo(_-v,y-v,t+s-E,y,E).lineTo(t+E,y).arcTo(t+v,y-v,t,y-E,E).closePath()}chamferRect(t,e,s,r,c,f){if(c<=0)return this.rect(t,e,s,r);const d=Math.min(c,Math.min(s,r)/2),_=t+s,y=e+r,v=[t+d,e,_-d,e,_,e+d,_,y-d,_-d,y,t+d,y,t,y-d,t,e+d];for(let E=v.length-1;E>=2;E-=2)v[E]===v[E-2]&&v[E-1]===v[E-3]&&v.splice(E-1,2);return this.poly(v,!0,f)}ellipse(t,e,s,r,c){return this.drawShape(new jg(t,e,s,r),c),this}roundRect(t,e,s,r,c,f){return this.drawShape(new Vg(t,e,s,r,c),f),this}drawShape(t,e){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:e}),this}startPoly(t,e){let s=this._currentPoly;return s&&this.endPoly(),s=new id,s.points.push(t,e),this._currentPoly=s,this}endPoly(t=!1){const e=this._currentPoly;return e&&e.points.length>2&&(e.closePath=t,this.shapePrimitives.push({shape:e})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new id,t)){const e=this.shapePrimitives[this.shapePrimitives.length-1];if(e){let s=e.shape.x,r=e.shape.y;if(e.transform&&!e.transform.isIdentity()){const c=e.transform,f=s;s=c.a*s+c.c*r+c.tx,r=c.b*f+c.d*r+c.ty}this._currentPoly.points.push(s,r)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let e=0;e<t.instructions.length;e++){const s=t.instructions[e];this[s.action](...s.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const e=this.shapePrimitives;for(let s=0;s<e.length;s++){const r=e[s],c=r.shape.getBounds(wT);r.transform?t.addRect(c,r.transform):t.addRect(c)}return t}}class th{constructor(t,e=!1){this.instructions=[],this.uid=xi("graphicsPath"),this._dirty=!0,this.checkForHoles=e,typeof t=="string"?PE(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new TT(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,e){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,e]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,e,s,r,c){const f=this.instructions[this.instructions.length-1],d=this.getLastPoint(_e.shared);let _=0,y=0;if(!f||f.action!=="bezierCurveTo")_=d.x,y=d.y;else{_=f.data[2],y=f.data[3];const v=d.x,E=d.y;_=v+(v-_),y=E+(E-y)}return this.instructions.push({action:"bezierCurveTo",data:[_,y,t,e,s,r,c]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,e,s){const r=this.instructions[this.instructions.length-1],c=this.getLastPoint(_e.shared);let f=0,d=0;if(!r||r.action!=="quadraticCurveTo")f=c.x,d=c.y;else{f=r.data[0],d=r.data[1];const _=c.x,y=c.y;f=_+(_-f),d=y+(y-d)}return this.instructions.push({action:"quadraticCurveTo",data:[f,d,t,e,s]}),this._dirty=!0,this}rect(t,e,s,r,c){return this.instructions.push({action:"rect",data:[t,e,s,r,c]}),this._dirty=!0,this}circle(t,e,s,r){return this.instructions.push({action:"circle",data:[t,e,s,r]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,e,s,r,c,f,d){c||(c=r/2);const _=-1*Math.PI/2+f,y=s*2,v=Math.PI*2/y,E=[];for(let M=0;M<y;M++){const w=M%2?c:r,z=M*v+_;E.push(t+w*Math.cos(z),e+w*Math.sin(z))}return this.poly(E,!0,d),this}clone(t=!1){const e=new th;if(e.checkForHoles=this.checkForHoles,!t)e.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const r=this.instructions[s];e.instructions.push({action:r.action,data:r.data.slice()})}return e}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const e=t.a,s=t.b,r=t.c,c=t.d,f=t.tx,d=t.ty;let _=0,y=0,v=0,E=0,M=0,w=0,z=0,H=0;for(let R=0;R<this.instructions.length;R++){const D=this.instructions[R],N=D.data;switch(D.action){case"moveTo":case"lineTo":_=N[0],y=N[1],N[0]=e*_+r*y+f,N[1]=s*_+c*y+d;break;case"bezierCurveTo":v=N[0],E=N[1],M=N[2],w=N[3],_=N[4],y=N[5],N[0]=e*v+r*E+f,N[1]=s*v+c*E+d,N[2]=e*M+r*w+f,N[3]=s*M+c*w+d,N[4]=e*_+r*y+f,N[5]=s*_+c*y+d;break;case"quadraticCurveTo":v=N[0],E=N[1],_=N[2],y=N[3],N[0]=e*v+r*E+f,N[1]=s*v+c*E+d,N[2]=e*_+r*y+f,N[3]=s*_+c*y+d;break;case"arcToSvg":_=N[5],y=N[6],z=N[0],H=N[1],N[0]=e*z+r*H,N[1]=s*z+c*H,N[5]=e*_+r*y+f,N[6]=s*_+c*y+d;break;case"circle":N[4]=Vf(N[3],t);break;case"rect":N[4]=Vf(N[4],t);break;case"ellipse":N[8]=Vf(N[8],t);break;case"roundRect":N[5]=Vf(N[5],t);break;case"addPath":N[0].transform(t);break;case"poly":N[2]=Vf(N[2],t);break;default:je("unknown transform action",D.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let e=this.instructions.length-1,s=this.instructions[e];if(!s)return t.x=0,t.y=0,t;for(;s.action==="closePath";){if(e--,e<0)return t.x=0,t.y=0,t;s=this.instructions[e]}switch(s.action){case"moveTo":case"lineTo":t.x=s.data[0],t.y=s.data[1];break;case"quadraticCurveTo":t.x=s.data[2],t.y=s.data[3];break;case"bezierCurveTo":t.x=s.data[4],t.y=s.data[5];break;case"arc":case"arcToSvg":t.x=s.data[5],t.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(t);break}return t}}function Vf(i,t){return i?i.prepend(t):t.clone()}function fi(i,t,e){const s=i.getAttribute(t);return s?Number(s):e}function MT(i,t){const e=i.querySelectorAll("defs");for(let s=0;s<e.length;s++){const r=e[s];for(let c=0;c<r.children.length;c++){const f=r.children[c];switch(f.nodeName.toLowerCase()){case"lineargradient":t.defs[f.id]=CT(f);break;case"radialgradient":t.defs[f.id]=zT();break}}}}function CT(i){const t=fi(i,"x1",0),e=fi(i,"y1",0),s=fi(i,"x2",1),r=fi(i,"y2",0),c=i.getAttribute("gradientUnits")||"objectBoundingBox",f=new lr(t,e,s,r,c==="objectBoundingBox"?"local":"global");for(let d=0;d<i.children.length;d++){const _=i.children[d],y=fi(_,"offset",0),v=Bi.shared.setValue(_.getAttribute("stop-color")).toNumber();f.addColorStop(y,v)}return f}function zT(i){return je("[SVG Parser] Radial gradients are not yet supported"),new lr(0,0,1,0)}function k1(i){const t=i.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const Q1={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function Ub(i,t){const e=i.getAttribute("style"),s={},r={},c={strokeStyle:s,fillStyle:r,useFill:!1,useStroke:!1};for(const f in Q1){const d=i.getAttribute(f);d&&F1(t,c,f,d.trim())}if(e){const f=e.split(";");for(let d=0;d<f.length;d++){const _=f[d].trim(),[y,v]=_.split(":");Q1[y]&&F1(t,c,y,v.trim())}}return{strokeStyle:c.useStroke?s:null,fillStyle:c.useFill?r:null,useFill:c.useFill,useStroke:c.useStroke}}function F1(i,t,e,s){switch(e){case"stroke":if(s!=="none"){if(s.startsWith("url(")){const r=k1(s);t.strokeStyle.fill=i.defs[r]}else t.strokeStyle.color=Bi.shared.setValue(s).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(s);break;case"fill":if(s!=="none"){if(s.startsWith("url(")){const r=k1(s);t.fillStyle.fill=i.defs[r]}else t.fillStyle.color=Bi.shared.setValue(s).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(s);break;case"stroke-opacity":t.strokeStyle.alpha=Number(s);break;case"opacity":t.fillStyle.alpha=Number(s),t.strokeStyle.alpha=Number(s);break}}function RT(i,t){if(typeof i=="string"){const f=document.createElement("div");f.innerHTML=i.trim(),i=f.querySelector("svg")}const e={context:t,defs:{},path:new th};MT(i,e);const s=i.children,{fillStyle:r,strokeStyle:c}=Ub(i,e);for(let f=0;f<s.length;f++){const d=s[f];d.nodeName.toLowerCase()!=="defs"&&Db(d,e,r,c)}return t}function Db(i,t,e,s){const r=i.children,{fillStyle:c,strokeStyle:f}=Ub(i,t);c&&e?e={...e,...c}:c&&(e=c),f&&s?s={...s,...f}:f&&(s=f);const d=!e&&!s;d&&(e={color:0});let _,y,v,E,M,w,z,H,R,D,N,Y,L,F,tt,K,gt;switch(i.nodeName.toLowerCase()){case"path":F=i.getAttribute("d"),i.getAttribute("fill-rule")==="evenodd"&&je("SVG Evenodd fill rule not supported, your svg may render incorrectly"),tt=new th(F,!0),t.context.path(tt),e&&t.context.fill(e),s&&t.context.stroke(s);break;case"circle":z=fi(i,"cx",0),H=fi(i,"cy",0),R=fi(i,"r",0),t.context.ellipse(z,H,R,R),e&&t.context.fill(e),s&&t.context.stroke(s);break;case"rect":_=fi(i,"x",0),y=fi(i,"y",0),K=fi(i,"width",0),gt=fi(i,"height",0),D=fi(i,"rx",0),N=fi(i,"ry",0),D||N?t.context.roundRect(_,y,K,gt,D||N):t.context.rect(_,y,K,gt),e&&t.context.fill(e),s&&t.context.stroke(s);break;case"ellipse":z=fi(i,"cx",0),H=fi(i,"cy",0),D=fi(i,"rx",0),N=fi(i,"ry",0),t.context.beginPath(),t.context.ellipse(z,H,D,N),e&&t.context.fill(e),s&&t.context.stroke(s);break;case"line":v=fi(i,"x1",0),E=fi(i,"y1",0),M=fi(i,"x2",0),w=fi(i,"y2",0),t.context.beginPath(),t.context.moveTo(v,E),t.context.lineTo(M,w),s&&t.context.stroke(s);break;case"polygon":L=i.getAttribute("points"),Y=L.match(/\d+/g).map(pt=>parseInt(pt,10)),t.context.poly(Y,!0),e&&t.context.fill(e),s&&t.context.stroke(s);break;case"polyline":L=i.getAttribute("points"),Y=L.match(/\d+/g).map(pt=>parseInt(pt,10)),t.context.poly(Y,!1),s&&t.context.stroke(s);break;case"g":case"svg":break;default:{je(`[SVG parser] <${i.nodeName}> elements unsupported`);break}}d&&(e=null);for(let pt=0;pt<r.length;pt++)Db(r[pt],t,e,s)}function BT(i){return Bi.isColorLike(i)}function K1(i){return i instanceof t0}function P1(i){return i instanceof lr}function OT(i){return i instanceof Zt}function UT(i,t,e){const s=Bi.shared.setValue(t??0);return i.color=s.toNumber(),i.alpha=s.alpha===1?e.alpha:s.alpha,i.texture=Zt.WHITE,{...e,...i}}function DT(i,t,e){return i.texture=t,{...e,...i}}function W1(i,t,e){return i.fill=t,i.color=16777215,i.texture=t.texture,i.matrix=t.transform,{...e,...i}}function I1(i,t,e){return t.buildGradient(),i.fill=t,i.color=16777215,i.texture=t.texture,i.matrix=t.transform,i.textureSpace=t.textureSpace,{...e,...i}}function HT(i,t){const e={...t,...i},s=Bi.shared.setValue(e.color);return e.alpha*=s.alpha,e.color=s.toNumber(),e}function vo(i,t){if(i==null)return null;const e={},s=i;return BT(i)?UT(e,i,t):OT(i)?DT(e,i,t):K1(i)?W1(e,i,t):P1(i)?I1(e,i,t):s.fill&&K1(s.fill)?W1(s,s.fill,t):s.fill&&P1(s.fill)?I1(s,s.fill,t):HT(s,t)}function qm(i,t){const{width:e,alignment:s,miterLimit:r,cap:c,join:f,pixelLine:d,..._}=t,y=vo(i,_);return y?{width:e,alignment:s,miterLimit:r,cap:c,join:f,pixelLine:d,...y}:null}const NT=new _e,J1=new re,kg=class pl extends Es{constructor(){super(...arguments),this.uid=xi("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new th,this._transform=new re,this._fillStyle={...pl.defaultFillStyle},this._strokeStyle={...pl.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Qa,this._boundsDirty=!0}clone(){const t=new pl;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=vo(t,pl.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=qm(t,pl.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=vo(t,pl.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=vo(t,pl.defaultStrokeStyle),this}texture(t,e,s,r,c,f){return this.instructions.push({action:"texture",data:{image:t,dx:s||0,dy:r||0,dw:c||t.frame.width,dh:f||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:e?Bi.shared.setValue(e).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new th,this}fill(t,e){let s;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="stroke"?s=r.data.path:s=this._activePath.clone(),s?(t!=null&&(e!==void 0&&typeof t=="number"&&(le(Be,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:e}),this._fillStyle=vo(t,pl.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:e}=this._activePath.getLastPoint(_e.shared);this._activePath.clear(),this._activePath.moveTo(t,e)}stroke(t){let e;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s&&s.action==="fill"?e=s.data.path:e=this._activePath.clone(),e?(t!=null&&(this._strokeStyle=qm(t,pl.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:e}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const e=this.instructions[this.instructions.length-1-t],s=this._activePath.clone();if(e&&(e.action==="stroke"||e.action==="fill"))if(e.data.hole)e.data.hole.addPath(s);else{e.data.hole=s;break}}return this._initNextPathLocation(),this}arc(t,e,s,r,c,f){this._tick++;const d=this._transform;return this._activePath.arc(d.a*t+d.c*e+d.tx,d.b*t+d.d*e+d.ty,s,r,c,f),this}arcTo(t,e,s,r,c){this._tick++;const f=this._transform;return this._activePath.arcTo(f.a*t+f.c*e+f.tx,f.b*t+f.d*e+f.ty,f.a*s+f.c*r+f.tx,f.b*s+f.d*r+f.ty,c),this}arcToSvg(t,e,s,r,c,f,d){this._tick++;const _=this._transform;return this._activePath.arcToSvg(t,e,s,r,c,_.a*f+_.c*d+_.tx,_.b*f+_.d*d+_.ty),this}bezierCurveTo(t,e,s,r,c,f,d){this._tick++;const _=this._transform;return this._activePath.bezierCurveTo(_.a*t+_.c*e+_.tx,_.b*t+_.d*e+_.ty,_.a*s+_.c*r+_.tx,_.b*s+_.d*r+_.ty,_.a*c+_.c*f+_.tx,_.b*c+_.d*f+_.ty,d),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,e,s,r){return this._tick++,this._activePath.ellipse(t,e,s,r,this._transform.clone()),this}circle(t,e,s){return this._tick++,this._activePath.circle(t,e,s,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,e){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*t+s.c*e+s.tx,s.b*t+s.d*e+s.ty),this}moveTo(t,e){this._tick++;const s=this._transform,r=this._activePath.instructions,c=s.a*t+s.c*e+s.tx,f=s.b*t+s.d*e+s.ty;return r.length===1&&r[0].action==="moveTo"?(r[0].data[0]=c,r[0].data[1]=f,this):(this._activePath.moveTo(c,f),this)}quadraticCurveTo(t,e,s,r,c){this._tick++;const f=this._transform;return this._activePath.quadraticCurveTo(f.a*t+f.c*e+f.tx,f.b*t+f.d*e+f.ty,f.a*s+f.c*r+f.tx,f.b*s+f.d*r+f.ty,c),this}rect(t,e,s,r){return this._tick++,this._activePath.rect(t,e,s,r,this._transform.clone()),this}roundRect(t,e,s,r,c){return this._tick++,this._activePath.roundRect(t,e,s,r,c,this._transform.clone()),this}poly(t,e){return this._tick++,this._activePath.poly(t,e,this._transform.clone()),this}regularPoly(t,e,s,r,c=0,f){return this._tick++,this._activePath.regularPoly(t,e,s,r,c,f),this}roundPoly(t,e,s,r,c,f){return this._tick++,this._activePath.roundPoly(t,e,s,r,c,f),this}roundShape(t,e,s,r){return this._tick++,this._activePath.roundShape(t,e,s,r),this}filletRect(t,e,s,r,c){return this._tick++,this._activePath.filletRect(t,e,s,r,c),this}chamferRect(t,e,s,r,c,f){return this._tick++,this._activePath.chamferRect(t,e,s,r,c,f),this}star(t,e,s,r,c=0,f=0){return this._tick++,this._activePath.star(t,e,s,r,c,f,this._transform.clone()),this}svg(t){return this._tick++,RT(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,e=t){return this._transform.scale(t,e),this}setTransform(t,e,s,r,c,f){return t instanceof re?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,e,s,r,c,f),this)}transform(t,e,s,r,c,f){return t instanceof re?(this._transform.append(t),this):(J1.set(t,e,s,r,c,f),this._transform.append(J1),this)}translate(t,e=t){return this._transform.translate(t,e),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let e=0;e<this.instructions.length;e++){const s=this.instructions[e],r=s.action;if(r==="fill"){const c=s.data;t.addBounds(c.path.bounds)}else if(r==="texture"){const c=s.data;t.addFrame(c.dx,c.dy,c.dx+c.dw,c.dy+c.dh,c.transform)}if(r==="stroke"){const c=s.data,f=c.style.alignment,d=c.style.width*(1-f),_=c.path.bounds;t.addFrame(_.minX-d,_.minY-d,_.maxX+d,_.maxY+d)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const e=this.instructions;let s=!1;for(let r=0;r<e.length;r++){const c=e[r],f=c.data,d=f.path;if(!c.action||!d)continue;const _=f.style,y=d.shapePath.shapePrimitives;for(let v=0;v<y.length;v++){const E=y[v].shape;if(!_||!E)continue;const M=y[v].transform,w=M?M.applyInverse(t,NT):t;if(c.action==="fill")s=E.contains(w.x,w.y);else{const H=_;s=E.strokeContains(w.x,w.y,H.width,H.alignment)}const z=f.hole;if(z){const H=z.shapePath?.shapePrimitives;if(H)for(let R=0;R<H.length;R++)H[R].shape.contains(w.x,w.y)&&(s=!1)}if(s)return!0}}return s}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(s),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(s)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};kg.defaultFillStyle={color:16777215,alpha:1,texture:Zt.WHITE,matrix:null,fill:null,textureSpace:"local"};kg.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Zt.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Va=kg;const $1=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function GT(i){const t=[];let e=0;for(let s=0;s<$1.length;s++){const r=`_${$1[s]}`;t[e++]=i[r]}return e=Hb(i._fill,t,e),e=LT(i._stroke,t,e),e=XT(i.dropShadow,t,e),e=YT(i.filters,t,e),t.join("-")}function YT(i,t,e){if(!i)return e;for(const s of i)t[e++]=s.uid;return e}function Hb(i,t,e){return i&&(t[e++]=i.color,t[e++]=i.alpha,t[e++]=i.fill?.styleKey),e}function LT(i,t,e){return i&&(e=Hb(i,t,e),t[e++]=i.width,t[e++]=i.alignment,t[e++]=i.cap,t[e++]=i.join,t[e++]=i.miterLimit),e}function XT(i,t,e){return i&&(t[e++]=i.alpha,t[e++]=i.angle,t[e++]=i.blur,t[e++]=i.distance,t[e++]=Bi.shared.setValue(i.color).toNumber()),e}const Qg=class Zc extends Es{constructor(t={}){super(),qT(t);const e={...Zc.defaultTextStyle,...t};for(const s in e){const r=s;this[r]=e[s]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...Zc.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...Zc.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get filters(){return this._filters}set filters(t){this._filters=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...Va.defaultFillStyle,...t},()=>{this._fill=vo({...this._originalFill},Va.defaultFillStyle)})),this._fill=vo(t===0?"black":t,Va.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...Va.defaultStrokeStyle,...t},()=>{this._stroke=qm({...this._originalStroke},Va.defaultStrokeStyle)})),this._stroke=qm(t,Va.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=GT(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=Zc.defaultTextStyle;for(const e in t)this[e]=t[e]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new Zc({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let e=0;e<this._filters.length;e++)t+=this._filters[e].padding;return Math.max(this._padding,t)}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(s),this._originalFill?.texture&&this._originalFill.texture.destroy(s),this._stroke?.texture&&this._stroke.texture.destroy(s),this._originalStroke?.texture&&this._originalStroke.texture.destroy(s)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,e){return new Proxy(t,{set:(s,r,c)=>(s[r]=c,e?.(r,c),this.update(),!0)})}_isFillStyle(t){return(t??null)!==null&&!(Bi.isColorLike(t)||t instanceof lr||t instanceof t0)}};Qg.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Qg.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let pu=Qg;function qT(i){const t=i;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const e=pu.defaultDropShadow;i.dropShadow={alpha:t.dropShadowAlpha??e.alpha,angle:t.dropShadowAngle??e.angle,blur:t.dropShadowBlur??e.blur,color:t.dropShadowColor??e.color,distance:t.dropShadowDistance??e.distance}}if(t.strokeThickness!==void 0){le(Be,"strokeThickness is now a part of stroke");const e=t.stroke;let s={};if(Bi.isColorLike(e))s.color=e;else if(e instanceof lr||e instanceof t0)s.fill=e;else if(Object.hasOwnProperty.call(e,"color")||Object.hasOwnProperty.call(e,"fill"))s=e;else throw new Error("Invalid stroke value.");i.stroke={...s,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){le(Be,"gradient fill is now a fill pattern: `new FillGradient(...)`");let e;i.fontSize==null?i.fontSize=pu.defaultTextStyle.fontSize:typeof i.fontSize=="string"?e=parseInt(i.fontSize,10):e=i.fontSize;const s=new lr({start:{x:0,y:0},end:{x:0,y:(e||0)*1.7}}),r=t.fillGradientStops.map(c=>Bi.shared.setValue(c).toNumber());r.forEach((c,f)=>{const d=f/(r.length-1);s.addColorStop(d,c)}),i.fill={fill:s}}}class jT{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,e){const s=bi.get().createCanvas();s.width=t,s.height=e;const r=s.getContext("2d");return{canvas:s,context:r}}getOptimalCanvasAndContext(t,e,s=1){t=Math.ceil(t*s-1e-6),e=Math.ceil(e*s-1e-6),t=Gm(t),e=Gm(e);const r=(t<<17)+(e<<1);this._canvasPool[r]||(this._canvasPool[r]=[]);let c=this._canvasPool[r].pop();return c||(c=this._createCanvasAndContext(t,e)),c}returnCanvasAndContext(t){const e=t.canvas,{width:s,height:r}=e,c=(s<<17)+(r<<1);t.context.resetTransform(),t.context.clearRect(0,0,s,r),this._canvasPool[c].push(t)}clear(){this._canvasPool={}}}const tv=new jT,ev=1e5;function iv(i,t,e,s=0){if(i.texture===Zt.WHITE&&!i.fill)return Bi.shared.setValue(i.color).setAlpha(i.alpha??1).toHexa();if(i.fill){if(i.fill instanceof t0){const r=i.fill,c=t.createPattern(r.texture.source.resource,"repeat"),f=r.transform.copyTo(re.shared);return f.scale(r.texture.frame.width,r.texture.frame.height),c.setTransform(f),c}else if(i.fill instanceof lr){const r=i.fill,c=r.type==="linear",f=r.textureSpace==="local";let d=1,_=1;f&&e&&(d=e.width+s,_=e.height+s);let y,v=!1;if(c){const{start:E,end:M}=r;y=t.createLinearGradient(E.x*d,E.y*_,M.x*d,M.y*_),v=Math.abs(M.x-E.x)<Math.abs((M.y-E.y)*.1)}else{const{center:E,innerRadius:M,outerCenter:w,outerRadius:z}=r;y=t.createRadialGradient(E.x*d,E.y*_,M*d,w.x*d,w.y*_,z*d)}if(v&&f&&e){const E=e.lineHeight/_;for(let M=0;M<e.lines.length;M++){const w=(M*e.lineHeight+s/2)/_;r.colorStops.forEach(z=>{const H=w+z.offset*E;y.addColorStop(Math.floor(H*ev)/ev,Bi.shared.setValue(z.color).toHex())})}}else r.colorStops.forEach(E=>{y.addColorStop(E.offset,Bi.shared.setValue(E.color).toHex())});return y}}else{const r=t.createPattern(i.texture.source.resource,"repeat"),c=i.matrix.copyTo(re.shared);return c.scale(i.texture.frame.width,i.texture.frame.height),r.setTransform(c),r}return je("FillStyle not recognised",i),"red"}const Nb=class Gb extends mb{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const e={...Gb.defaultOptions,...t};this._textureSize=e.textureSize,this._mipmap=e.mipmap;const s=e.style.clone();e.overrideFill&&(s._fill.color=16777215,s._fill.alpha=1,s._fill.texture=Zt.WHITE,s._fill.fill=null),this.applyFillAsTint=e.overrideFill;const r=s.fontSize;s.fontSize=this.baseMeasurementFontSize;const c=dg(s);e.overrideSize?s._stroke&&(s._stroke.width*=this.baseRenderedFontSize/r):s.fontSize=this.baseRenderedFontSize=r,this._style=s,this._skipKerning=e.skipKerning??!1,this.resolution=e.resolution??1,this._padding=e.padding??4,e.textureStyle&&(this._textureStyle=e.textureStyle instanceof Ym?e.textureStyle:new Ym(e.textureStyle)),this.fontMetrics=Om.measureFont(c),this.lineHeight=s.lineHeight||this.fontMetrics.fontSize||s.fontSize}ensureCharacters(t){const e=Om.graphemeSegmenter(t).filter(R=>!this._currentChars.includes(R)).filter((R,D,N)=>N.indexOf(R)===D);if(!e.length)return;this._currentChars=[...this._currentChars,...e];let s;this._currentPageIndex===-1?s=this._nextPage():s=this.pages[this._currentPageIndex];let{canvas:r,context:c}=s.canvasAndContext,f=s.texture.source;const d=this._style;let _=this._currentX,y=this._currentY,v=this._currentMaxCharHeight;const E=this.baseRenderedFontSize/this.baseMeasurementFontSize,M=this._padding*E;let w=!1;const z=r.width/this.resolution,H=r.height/this.resolution;for(let R=0;R<e.length;R++){const D=e[R],N=Om.measureText(D,d,r,!1);N.lineHeight=N.height;const Y=N.width*E,L=Math.ceil((d.fontStyle==="italic"?2:1)*Y),F=N.height*E,tt=L+M*2,K=F+M*2;if(w=!1,D!==`
`&&D!=="\r"&&D!=="	"&&D!==" "&&(w=!0,v=Math.ceil(Math.max(K,v))),_+tt>z&&(y+=v,v=K,_=0,y+v>H)){f.update();const pt=this._nextPage();r=pt.canvasAndContext.canvas,c=pt.canvasAndContext.context,f=pt.texture.source,_=0,y=0,v=0}const gt=Y/E-(d.dropShadow?.distance??0)-(d._stroke?.width??0);if(this.chars[D]={id:D.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:gt,kerning:{}},w){this._drawGlyph(c,N,_+M,y+M,E,d);const pt=f.width*E,rt=f.height*E,ot=new Qe(_/pt*f.width,y/rt*f.height,tt/pt*f.width,K/rt*f.height);this.chars[D].texture=new Zt({source:f,frame:ot}),_+=Math.ceil(tt)}}f.update(),this._currentX=_,this._currentY=y,this._currentMaxCharHeight=v,this._skipKerning&&this._applyKerning(e,c)}get pageTextures(){return le(Be,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,e){const s=this._measureCache;for(let r=0;r<t.length;r++){const c=t[r];for(let f=0;f<this._currentChars.length;f++){const d=this._currentChars[f];let _=s[c];_||(_=s[c]=e.measureText(c).width);let y=s[d];y||(y=s[d]=e.measureText(d).width);let v=e.measureText(c+d).width,E=v-(_+y);E&&(this.chars[c].kerning[d]=E),v=e.measureText(c+d).width,E=v-(_+y),E&&(this.chars[d].kerning[c]=E)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,e=tv.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(e.context,this._style,t);const s=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),r=new Zt({source:new Eo({resource:e.canvas,resolution:s,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(r.source.style=this._textureStyle);const c={canvasAndContext:e,texture:r};return this.pages[this._currentPageIndex]=c,c}_setupContext(t,e,s){e.fontSize=this.baseRenderedFontSize,t.scale(s,s),t.font=dg(e),e.fontSize=this.baseMeasurementFontSize,t.textBaseline=e.textBaseline;const r=e._stroke,c=r?.width??0;if(r&&(t.lineWidth=c,t.lineJoin=r.join,t.miterLimit=r.miterLimit,t.strokeStyle=iv(r,t)),e._fill&&(t.fillStyle=iv(e._fill,t)),e.dropShadow){const f=e.dropShadow,d=Bi.shared.setValue(f.color).toArray(),_=f.blur*s,y=f.distance*s;t.shadowColor=`rgba(${d[0]*255},${d[1]*255},${d[2]*255},${f.alpha})`,t.shadowBlur=_,t.shadowOffsetX=Math.cos(f.angle)*y,t.shadowOffsetY=Math.sin(f.angle)*y}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,e,s,r,c,f){const d=e.text,_=e.fontProperties,v=(f._stroke?.width??0)*c,E=s+v/2,M=r-v/2,w=_.descent*c,z=e.lineHeight*c;let H=!1;f.stroke&&v&&(H=!0,t.strokeText(d,E,M+z-w));const{shadowBlur:R,shadowOffsetX:D,shadowOffsetY:N}=t;f._fill&&(H&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),t.fillText(d,E,M+z-w)),H&&(t.shadowBlur=R,t.shadowOffsetX=D,t.shadowOffsetY=N)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:e,texture:s}=this.pages[t];tv.returnCanvasAndContext(e),s.destroy(!0)}this.pages=null}};Nb.defaultOptions={textureSize:512,style:new pu,mipmap:!0};let nv=Nb;function VT(i,t,e,s){const r={width:0,height:0,offsetY:0,scale:t.fontSize/e.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};r.offsetY=e.baseLineOffset;let c=r.lines[0],f=null,d=!0;const _={width:0,start:0,index:0,positions:[],chars:[]},y=R=>{const D=c.width;for(let N=0;N<_.index;N++){const Y=R.positions[N];c.chars.push(R.chars[N]),c.charPositions.push(Y+D)}c.width+=R.width,d=!1,_.width=0,_.index=0,_.chars.length=0},v=()=>{let R=c.chars.length-1;if(s){let D=c.chars[R];for(;D===" ";)c.width-=e.chars[D].xAdvance,D=c.chars[--R]}r.width=Math.max(r.width,c.width),c={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},d=!0,r.lines.push(c),r.height+=e.lineHeight},E=e.baseMeasurementFontSize/t.fontSize,M=t.letterSpacing*E,w=t.wordWrapWidth*E,z=t.wordWrap&&t.breakWords,H=R=>R-M>w;for(let R=0;R<i.length+1;R++){let D;const N=R===i.length;N||(D=i[R]);const Y=e.chars[D]||e.chars[" "];if(/(?:\s)/.test(D)||D==="\r"||D===`
`||N){if(!d&&t.wordWrap&&H(c.width+_.width)?(v(),y(_),N||c.charPositions.push(0)):(_.start=c.width,y(_),N||c.charPositions.push(0)),D==="\r"||D===`
`)c.width!==0&&v();else if(!N){const K=Y.xAdvance+(Y.kerning[f]||0)+M;c.width+=K,c.spaceWidth=K,c.spacesIndex.push(c.charPositions.length),c.chars.push(D)}}else{const tt=Y.kerning[f]||0,K=Y.xAdvance+tt+M;z&&H(c.width+_.width+K)&&(y(_),v()),_.positions[_.index++]=_.width+tt,_.chars.push(D),_.width+=K}f=D}return v(),t.align==="center"?ZT(r):t.align==="right"?kT(r):t.align==="justify"&&QT(r),r}function ZT(i){for(let t=0;t<i.lines.length;t++){const e=i.lines[t],s=i.width/2-e.width/2;for(let r=0;r<e.charPositions.length;r++)e.charPositions[r]+=s}}function kT(i){for(let t=0;t<i.lines.length;t++){const e=i.lines[t],s=i.width-e.width;for(let r=0;r<e.charPositions.length;r++)e.charPositions[r]+=s}}function QT(i){const t=i.width;for(let e=0;e<i.lines.length;e++){const s=i.lines[e];let r=0,c=s.spacesIndex[r++],f=0;const d=s.spacesIndex.length,y=(t-s.width)/d;for(let v=0;v<s.charPositions.length;v++)v===c&&(c=s.spacesIndex[r++],f+=y),s.charPositions[v]+=f}}function FT(i){if(i==="")return[];typeof i=="string"&&(i=[i]);const t=[];for(let e=0,s=i.length;e<s;e++){const r=i[e];if(Array.isArray(r)){if(r.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${r.length}.`);if(r[0].length===0||r[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const c=r[0].charCodeAt(0),f=r[1].charCodeAt(0);if(f<c)throw new Error("[BitmapFont]: Invalid character range.");for(let d=c,_=f;d<=_;d++)t.push(String.fromCharCode(d))}else t.push(...Array.from(r))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}let bm=0;class KT{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null}}getFont(t,e){let s=`${e.fontFamily}-bitmap`,r=!0;if(e._fill.fill&&!e._stroke)s+=e._fill.fill.styleKey,r=!1;else if(e._stroke||e.dropShadow){let f=e.styleKey;f=f.substring(0,f.lastIndexOf("-")),s=`${f}-bitmap`,r=!1}if(!si.has(s)){const f=new nv({style:e,overrideFill:r,overrideSize:!0,...this.defaultOptions});bm++,bm>50&&je("BitmapText",`You have dynamically created ${bm} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),f.once("destroy",()=>{bm--,si.remove(s)}),si.set(s,f)}const c=si.get(s);return c.ensureCharacters?.(t),c}getLayout(t,e,s=!0){const r=this.getFont(t,e),c=Om.graphemeSegmenter(t);return VT(c,e,r,s)}measureText(t,e,s=!0){return this.getLayout(t,e,s)}install(...t){let e=t[0];typeof e=="string"&&(e={name:e,style:t[1],chars:t[2]?.chars,resolution:t[2]?.resolution,padding:t[2]?.padding,skipKerning:t[2]?.skipKerning},le(Be,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const s=e?.name;if(!s)throw new Error("[BitmapFontManager] Property `name` is required.");e={...this.defaultOptions,...e};const r=e.style,c=r instanceof pu?r:new pu(r),f=c._fill.fill!==null&&c._fill.fill!==void 0,d=new nv({style:c,overrideFill:f,skipKerning:e.skipKerning,padding:e.padding,resolution:e.resolution,overrideSize:!1,textureStyle:e.textureStyle}),_=FT(e.chars);return d.ensureCharacters(_.join("")),si.set(`${s}-bitmap`,d),d.once("destroy",()=>si.remove(`${s}-bitmap`)),d}uninstall(t){const e=`${t}-bitmap`,s=si.get(e);s&&s.destroy()}}const av=new KT;class Yb extends mb{constructor(t,e){super();const{textures:s,data:r}=t;Object.keys(r.pages).forEach(c=>{const f=r.pages[parseInt(c,10)],d=s[f.id];this.pages.push({texture:d})}),Object.keys(r.chars).forEach(c=>{const f=r.chars[c],{frame:d,source:_}=s[f.page],y=new Qe(f.x+d.x,f.y+d.y,f.width,f.height),v=new Zt({source:_,frame:y});this.chars[c]={id:c.codePointAt(0),xOffset:f.xOffset,yOffset:f.yOffset,xAdvance:f.xAdvance,kerning:f.kerning??{},texture:v}}),this.baseRenderedFontSize=r.fontSize,this.baseMeasurementFontSize=r.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:r.fontSize},this.baseLineOffset=r.baseLineOffset,this.lineHeight=r.lineHeight,this.fontFamily=r.fontFamily,this.distanceField=r.distanceField??{type:"none",range:0},this.url=e}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:e}=this.pages[t];e.destroy(!0)}this.pages=null}static install(t){av.install(t)}static uninstall(t){av.uninstall(t)}}const Ty={test(i){return typeof i=="string"&&i.startsWith("info face=")},parse(i){const t=i.match(/^[a-z]+\s+.+$/gm),e={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const E in t){const M=t[E].match(/^[a-z]+/gm)[0],w=t[E].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),z={};for(const H in w){const R=w[H].split("="),D=R[0],N=R[1].replace(/"/gm,""),Y=parseFloat(N),L=isNaN(Y)?N:Y;z[D]=L}e[M].push(z)}const s={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[r]=e.info,[c]=e.common,[f]=e.distanceField??[];f&&(s.distanceField={range:parseInt(f.distanceRange,10),type:f.fieldType}),s.fontSize=parseInt(r.size,10),s.fontFamily=r.face,s.lineHeight=parseInt(c.lineHeight,10);const d=e.page;for(let E=0;E<d.length;E++)s.pages.push({id:parseInt(d[E].id,10)||0,file:d[E].file});const _={};s.baseLineOffset=s.lineHeight-parseInt(c.base,10);const y=e.char;for(let E=0;E<y.length;E++){const M=y[E],w=parseInt(M.id,10);let z=M.letter??M.char??String.fromCharCode(w);z==="space"&&(z=" "),_[w]=z,s.chars[z]={id:w,page:parseInt(M.page,10)||0,x:parseInt(M.x,10),y:parseInt(M.y,10),width:parseInt(M.width,10),height:parseInt(M.height,10),xOffset:parseInt(M.xoffset,10),yOffset:parseInt(M.yoffset,10),xAdvance:parseInt(M.xadvance,10),kerning:{}}}const v=e.kerning||[];for(let E=0;E<v.length;E++){const M=parseInt(v[E].first,10),w=parseInt(v[E].second,10),z=parseInt(v[E].amount,10);s.chars[_[w]].kerning[_[M]]=z}return s}},sv={test(i){const t=i;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(i){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},e=i.getElementsByTagName("info")[0],s=i.getElementsByTagName("common")[0],r=i.getElementsByTagName("distanceField")[0];r&&(t.distanceField={type:r.getAttribute("fieldType"),range:parseInt(r.getAttribute("distanceRange"),10)});const c=i.getElementsByTagName("page"),f=i.getElementsByTagName("char"),d=i.getElementsByTagName("kerning");t.fontSize=parseInt(e.getAttribute("size"),10),t.fontFamily=e.getAttribute("face"),t.lineHeight=parseInt(s.getAttribute("lineHeight"),10);for(let y=0;y<c.length;y++)t.pages.push({id:parseInt(c[y].getAttribute("id"),10)||0,file:c[y].getAttribute("file")});const _={};t.baseLineOffset=t.lineHeight-parseInt(s.getAttribute("base"),10);for(let y=0;y<f.length;y++){const v=f[y],E=parseInt(v.getAttribute("id"),10);let M=v.getAttribute("letter")??v.getAttribute("char")??String.fromCharCode(E);M==="space"&&(M=" "),_[E]=M,t.chars[M]={id:E,page:parseInt(v.getAttribute("page"),10)||0,x:parseInt(v.getAttribute("x"),10),y:parseInt(v.getAttribute("y"),10),width:parseInt(v.getAttribute("width"),10),height:parseInt(v.getAttribute("height"),10),xOffset:parseInt(v.getAttribute("xoffset"),10),yOffset:parseInt(v.getAttribute("yoffset"),10),xAdvance:parseInt(v.getAttribute("xadvance"),10),kerning:{}}}for(let y=0;y<d.length;y++){const v=parseInt(d[y].getAttribute("first"),10),E=parseInt(d[y].getAttribute("second"),10),M=parseInt(d[y].getAttribute("amount"),10);t.chars[_[E]].kerning[_[v]]=M}return t}},lv={test(i){return typeof i=="string"&&i.includes("<font>")?sv.test(bi.get().parseXML(i)):!1},parse(i){return sv.parse(bi.get().parseXML(i))}},PT=[".xml",".fnt"],WT={extension:{type:Mt.CacheParser,name:"cacheBitmapFont"},test:i=>i instanceof Yb,getCacheableAssets(i,t){const e={};return i.forEach(s=>{e[s]=t,e[`${s}-bitmap`]=t}),e[`${t.fontFamily}-bitmap`]=t,e}},IT={extension:{type:Mt.LoadParser,priority:yu.Normal},name:"loadBitmapFont",test(i){return PT.includes(ba.extname(i).toLowerCase())},async testParse(i){return Ty.test(i)||lv.test(i)},async parse(i,t,e){const s=Ty.test(i)?Ty.parse(i):lv.parse(i),{src:r}=t,{pages:c}=s,f=[],d=s.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let E=0;E<c.length;++E){const M=c[E].file;let w=ba.join(ba.dirname(r),M);w=ag(w,r),f.push({src:w,data:d})}const _=await e.load(f),y=f.map(E=>_[E.src]);return new Yb({data:s,textures:y},r)},async load(i,t){return await(await bi.get().fetch(i)).text()},async unload(i,t,e){await Promise.all(i.pages.map(s=>e.unload(s.texture.source._sourceOrigin))),i.destroy()}};class JT{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let s=0;s<e;s++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const $T={extension:{type:Mt.CacheParser,name:"cacheTextureArray"},test:i=>Array.isArray(i)&&i.every(t=>t instanceof Zt),getCacheableAssets:(i,t)=>{const e={};return i.forEach(s=>{t.forEach((r,c)=>{e[s+(c===0?"":c+1)]=r})}),e}};async function Lb(i){if("Image"in globalThis)return new Promise(t=>{const e=new Image;e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},e.src=i});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(i)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const tM={extension:{type:Mt.DetectionParser,priority:1},test:async()=>Lb("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async i=>[...i,"avif"],remove:async i=>i.filter(t=>t!=="avif")},rv=["png","jpg","jpeg"],eM={extension:{type:Mt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async i=>[...i,...rv],remove:async i=>i.filter(t=>!rv.includes(t))},iM="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Fg(i){return iM?!1:document.createElement("video").canPlayType(i)!==""}const nM={extension:{type:Mt.DetectionParser,priority:0},test:async()=>Fg("video/mp4"),add:async i=>[...i,"mp4","m4v"],remove:async i=>i.filter(t=>t!=="mp4"&&t!=="m4v")},aM={extension:{type:Mt.DetectionParser,priority:0},test:async()=>Fg("video/ogg"),add:async i=>[...i,"ogv"],remove:async i=>i.filter(t=>t!=="ogv")},sM={extension:{type:Mt.DetectionParser,priority:0},test:async()=>Fg("video/webm"),add:async i=>[...i,"webm"],remove:async i=>i.filter(t=>t!=="webm")},lM={extension:{type:Mt.DetectionParser,priority:0},test:async()=>Lb("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async i=>[...i,"webp"],remove:async i=>i.filter(t=>t!=="webp")};class rM{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,s)=>(this._parsersValidated=!1,t[e]=s,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const s={promise:null,parser:null};return s.promise=(async()=>{let r=null,c=null;if(e.loadParser&&(c=this._parserHash[e.loadParser],c||je(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!c){for(let f=0;f<this.parsers.length;f++){const d=this.parsers[f];if(d.load&&d.test?.(t,e,this)){c=d;break}}if(!c)return je(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}r=await c.load(t,e,this),s.parser=c;for(let f=0;f<this.parsers.length;f++){const d=this.parsers[f];d.parse&&d.parse&&await d.testParse?.(r,e,this)&&(r=await d.parse(r,e,this)||r,s.parser=d)}return r})(),s}async load(t,e){this._parsersValidated||this._validateParsers();let s=0;const r={},c=Xm(t),f=As(t,y=>({alias:[y],src:y,data:{}})),d=f.length,_=f.map(async y=>{const v=ba.toAbsolute(y.src);if(!r[y.src])try{this.promiseCache[v]||(this.promiseCache[v]=this._getLoadPromiseAndParser(v,y)),r[y.src]=await this.promiseCache[v].promise,e&&e(++s/d)}catch(E){throw delete this.promiseCache[v],delete r[y.src],new Error(`[Loader.load] Failed to load ${v}.
${E}`)}});return await Promise.all(_),c?r[f[0].src]:r}async unload(t){const s=As(t,r=>({alias:[r],src:r})).map(async r=>{const c=ba.toAbsolute(r.src),f=this.promiseCache[c];if(f){const d=await f.promise;delete this.promiseCache[c],await f.parser?.unload?.(d,r,this)}});await Promise.all(s)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,e)=>(e.name?t[e.name]&&je(`[Assets] loadParser name conflict "${e.name}"`):je("[Assets] loadParser should have a name"),{...t,[e.name]:e}),{})}}function rh(i,t){if(Array.isArray(t)){for(const e of t)if(i.startsWith(`data:${e}`))return!0;return!1}return i.startsWith(`data:${t}`)}function uh(i,t){const e=i.split("?")[0],s=ba.extname(e).toLowerCase();return Array.isArray(t)?t.includes(s):s===t}const uM=".json",oM="application/json",cM={extension:{type:Mt.LoadParser,priority:yu.Low},name:"loadJson",test(i){return rh(i,oM)||uh(i,uM)},async load(i){return await(await bi.get().fetch(i)).json()}},hM=".txt",fM="text/plain",dM={name:"loadTxt",extension:{type:Mt.LoadParser,priority:yu.Low,name:"loadTxt"},test(i){return rh(i,fM)||uh(i,hM)},async load(i){return await(await bi.get().fetch(i)).text()}},pM=["normal","bold","100","200","300","400","500","600","700","800","900"],mM=[".ttf",".otf",".woff",".woff2"],yM=["font/ttf","font/otf","font/woff","font/woff2"],gM=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function _M(i){const t=ba.extname(i),r=ba.basename(i,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1));let c=r.length>0;for(const d of r)if(!d.match(gM)){c=!1;break}let f=r.join(" ");return c||(f=`"${f.replace(/[\\"]/g,"\\$&")}"`),f}const vM=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function xM(i){return vM.test(i)?i:encodeURI(i)}const bM={extension:{type:Mt.LoadParser,priority:yu.Low},name:"loadWebFont",test(i){return rh(i,yM)||uh(i,mM)},async load(i,t){const e=bi.get().getFontFaceSet();if(e){const s=[],r=t.data?.family??_M(i),c=t.data?.weights?.filter(d=>pM.includes(d))??["normal"],f=t.data??{};for(let d=0;d<c.length;d++){const _=c[d],y=new FontFace(r,`url(${xM(i)})`,{...f,weight:_});await y.load(),e.add(y),s.push(y)}return si.set(`${r}-and-url`,{url:i,fontFaces:s}),s.length===1?s[0]:s}return je("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(i){(Array.isArray(i)?i:[i]).forEach(t=>{si.remove(`${t.family}-and-url`),bi.get().getFontFaceSet().delete(t)})}};function Kg(i,t=1){const e=ah.RETINA_PREFIX?.exec(i);return e?parseFloat(e[1]):t}function Pg(i,t,e){i.label=e,i._sourceOrigin=e;const s=new Zt({source:i,label:e}),r=()=>{delete t.promiseCache[e],si.has(e)&&si.remove(e)};return s.source.once("destroy",()=>{t.promiseCache[e]&&(je("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),r())}),s.once("destroy",()=>{i.destroyed||(je("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),r())}),s}const SM=".svg",AM="image/svg+xml",EM={extension:{type:Mt.LoadParser,priority:yu.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(i){return rh(i,AM)||uh(i,SM)},async load(i,t,e){return t.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext?TM(i):wM(i,t,e,this.config.crossOrigin)},unload(i){i.destroy(!0)}};async function wM(i,t,e,s){const c=await(await bi.get().fetch(i)).blob(),f=URL.createObjectURL(c),d=new Image;d.src=f,d.crossOrigin=s,await d.decode(),URL.revokeObjectURL(f);const _=document.createElement("canvas"),y=_.getContext("2d"),v=t.data?.resolution||Kg(i),E=t.data?.width??d.width,M=t.data?.height??d.height;_.width=E*v,_.height=M*v,y.drawImage(d,0,0,E*v,M*v);const{parseAsGraphicsContext:w,...z}=t.data??{},H=new Eo({resource:_,alphaMode:"premultiply-alpha-on-upload",resolution:v,...z});return Pg(H,e,i)}async function TM(i){const e=await(await bi.get().fetch(i)).text(),s=new Va;return s.svg(e),s}const MM=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Fc=null,vg=class{constructor(){Fc||(Fc=URL.createObjectURL(new Blob([MM],{type:"application/javascript"}))),this.worker=new Worker(Fc)}};vg.revokeObjectURL=function(){Fc&&(URL.revokeObjectURL(Fc),Fc=null)};const CM=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Kc=null;class Xb{constructor(){Kc||(Kc=URL.createObjectURL(new Blob([CM],{type:"application/javascript"}))),this.worker=new Worker(Kc)}}Xb.revokeObjectURL=function(){Kc&&(URL.revokeObjectURL(Kc),Kc=null)};let uv=0,My;class zM{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:e}=new vg;e.addEventListener("message",s=>{e.terminate(),vg.revokeObjectURL(),t(s.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,e){return this._run("loadImageBitmap",[t,e?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){My===void 0&&(My=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<My&&(this._createdWorkers++,t=new Xb().worker,t.addEventListener("message",e=>{this._complete(e.data),this._returnWorker(e.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const s=new Promise((r,c)=>{this._queue.push({id:t,arguments:e,resolve:r,reject:c})});return this._next(),s}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const e=this._queue.pop(),s=e.id;this._resolveHash[uv]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:uv++,id:s})}}const ov=new zM,RM=[".jpeg",".jpg",".png",".webp",".avif"],BM=["image/jpeg","image/png","image/webp","image/avif"];async function OM(i,t){const e=await bi.get().fetch(i);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${i}: ${e.status} ${e.statusText}`);const s=await e.blob();return t?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(s,{premultiplyAlpha:"none"}):createImageBitmap(s)}const qb={name:"loadTextures",extension:{type:Mt.LoadParser,priority:yu.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(i){return rh(i,BM)||uh(i,RM)},async load(i,t,e){let s=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await ov.isImageBitmapSupported()?s=await ov.loadImageBitmap(i,t):s=await OM(i,t):s=await new Promise((c,f)=>{s=new Image,s.crossOrigin=this.config.crossOrigin,s.src=i,s.complete?c(s):(s.onload=()=>{c(s)},s.onerror=f)});const r=new Eo({resource:s,alphaMode:"premultiply-alpha-on-upload",resolution:t.data?.resolution||Kg(i),...t.data});return Pg(r,e,i)},unload(i){i.destroy(!0)}},jb=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],UM=jb.map(i=>`video/${i.substring(1)}`);function DM(i,t,e){e===void 0&&!t.startsWith("data:")?i.crossOrigin=NM(t):e!==!1&&(i.crossOrigin=typeof e=="string"?e:"anonymous")}function HM(i){return new Promise((t,e)=>{i.addEventListener("canplaythrough",s),i.addEventListener("error",r),i.load();function s(){c(),t()}function r(f){c(),e(f)}function c(){i.removeEventListener("canplaythrough",s),i.removeEventListener("error",r)}})}function NM(i,t=globalThis.location){if(i.startsWith("data:"))return"";t||(t=globalThis.location);const e=new URL(i,document.baseURI);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}const GM={name:"loadVideo",extension:{type:Mt.LoadParser,name:"loadVideo"},test(i){const t=rh(i,UM),e=uh(i,jb);return t||e},async load(i,t,e){const s={...Bm.defaultOptions,resolution:t.data?.resolution||Kg(i),alphaMode:t.data?.alphaMode||await Zx(),...t.data},r=document.createElement("video"),c={preload:s.autoLoad!==!1?"auto":void 0,"webkit-playsinline":s.playsinline!==!1?"":void 0,playsinline:s.playsinline!==!1?"":void 0,muted:s.muted===!0?"":void 0,loop:s.loop===!0?"":void 0,autoplay:s.autoPlay!==!1?"":void 0};Object.keys(c).forEach(_=>{const y=c[_];y!==void 0&&r.setAttribute(_,y)}),s.muted===!0&&(r.muted=!0),DM(r,i,s.crossorigin);const f=document.createElement("source");let d;if(i.startsWith("data:"))d=i.slice(5,i.indexOf(";"));else if(!i.startsWith("blob:")){const _=i.split("?")[0].slice(i.lastIndexOf(".")+1).toLowerCase();d=Bm.MIME_TYPES[_]||`video/${_}`}return f.src=i,d&&(f.type=d),new Promise(_=>{const y=async()=>{const v=new Bm({...s,resource:r});r.removeEventListener("canplay",y),t.data.preload&&await HM(r),_(Pg(v,e,i))};s.preload&&!s.autoPlay&&r.load(),r.addEventListener("canplay",y),r.appendChild(f)})},unload(i){i.destroy(!0)}},Vb={extension:{type:Mt.ResolveParser,name:"resolveTexture"},test:qb.test,parse:i=>({resolution:parseFloat(ah.RETINA_PREFIX.exec(i)?.[1]??"1"),format:i.split(".").pop(),src:i})},YM={extension:{type:Mt.ResolveParser,priority:-2,name:"resolveJson"},test:i=>ah.RETINA_PREFIX.test(i)&&i.endsWith(".json"),parse:Vb.parse};class LM{constructor(){this._detections=[],this._initialized=!1,this.resolver=new ah,this.loader=new rM,this.cache=si,this._backgroundLoader=new JT(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){je("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let c=t.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const e=t.texturePreference?.resolution??1,s=typeof e=="number"?[e]:e,r=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:r,resolution:s}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,e){this._initialized||await this.init();const s=Xm(t),r=As(t).map(d=>{if(typeof d!="string"){const _=this.resolver.getAlias(d);return _.some(y=>!this.resolver.hasKey(y))&&this.add(d),Array.isArray(_)?_[0]:_}return this.resolver.hasKey(d)||this.add({alias:d,src:d}),d}),c=this.resolver.resolve(r),f=await this._mapLoadToResolve(c,e);return s?f[r[0]]:f}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let s=!1;typeof t=="string"&&(s=!0,t=[t]);const r=this.resolver.resolveBundle(t),c={},f=Object.keys(r);let d=0,_=0;const y=()=>{e?.(++d/_)},v=f.map(E=>{const M=r[E];return _+=Object.keys(M).length,this._mapLoadToResolve(M,y).then(w=>{c[E]=w})});return await Promise.all(v),s?c[t[0]]:c}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach(s=>{this._backgroundLoader.add(Object.values(s))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return si.get(t);const e={};for(let s=0;s<t.length;s++)e[s]=si.get(t[s]);return e}async _mapLoadToResolve(t,e){const s=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const r=await this.loader.load(s,e);this._backgroundLoader.active=!0;const c={};return s.forEach(f=>{const d=r[f.src],_=[f.src];f.alias&&_.push(...f.alias),_.forEach(y=>{c[y]=d}),si.set(_,d)}),c}async unload(t){this._initialized||await this.init();const e=As(t).map(r=>typeof r!="string"?r.src:r),s=this.resolver.resolve(e);await this._unloadFromResolved(s)}async unloadBundle(t){this._initialized||await this.init(),t=As(t);const e=this.resolver.resolveBundle(t),s=Object.keys(e).map(r=>this._unloadFromResolved(e[r]));await Promise.all(s)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach(s=>{si.remove(s.src)}),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const s of t.detections)t.skipDetections||await s.test()?e=await s.add(e):t.skipDetections||(e=await s.remove(e));return e=e.filter((s,r)=>e.indexOf(s)===r),e}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(s=>s in t).forEach(s=>{e.config[s]=t[s]})})}}const ir=new LM;di.handleByList(Mt.LoadParser,ir.loader.parsers).handleByList(Mt.ResolveParser,ir.resolver.parsers).handleByList(Mt.CacheParser,ir.cache.parsers).handleByList(Mt.DetectionParser,ir.detections);di.add($T,eM,tM,lM,nM,aM,sM,cM,dM,bM,EM,qb,GM,IT,WT,Vb,YM);const cv={loader:Mt.LoadParser,resolver:Mt.ResolveParser,cache:Mt.CacheParser,detection:Mt.DetectionParser};di.handle(Mt.Asset,i=>{const t=i.ref;Object.entries(cv).filter(([e])=>!!t[e]).forEach(([e,s])=>di.add(Object.assign(t[e],{extension:t[e].extension??s})))},i=>{const t=i.ref;Object.keys(cv).filter(e=>!!t[e]).forEach(e=>di.remove(t[e]))});class hd extends Im{constructor(t){t instanceof Va&&(t={context:t});const{context:e,roundPixels:s,...r}=t||{};super({label:"Graphics",...r}),this.renderPipeId="graphics",e?this._context=e:this._context=this._ownedContext=new Va,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=s??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||t?.context===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,e){return this.context[t](...e),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new hd(this._context.clone()):(this._ownedContext=null,new hd(this._context))}lineStyle(t,e,s){le(Be,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const r={};return t&&(r.width=t),e&&(r.color=e),s&&(r.alpha=s),this.context.strokeStyle=r,this}beginFill(t,e){le(Be,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const s={};return t!==void 0&&(s.color=t),e!==void 0&&(s.alpha=e),this.context.fillStyle=s,this}endFill(){le(Be,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Va.defaultStrokeStyle.width||t.color!==Va.defaultStrokeStyle.color||t.alpha!==Va.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return le(Be,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return le(Be,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return le(Be,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return le(Be,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return le(Be,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return le(Be,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}class jm extends Jc{constructor(...t){let e=t[0];Array.isArray(t[0])&&(e={textures:t[0],autoUpdate:t[1]});const{animationSpeed:s=1,autoPlay:r=!1,autoUpdate:c=!0,loop:f=!0,onComplete:d=null,onFrameChange:_=null,onLoop:y=null,textures:v,updateAnchor:E=!1,...M}=e,[w]=v;super({...M,texture:w instanceof Zt?w:w.texture}),this._textures=null,this._durations=null,this._autoUpdate=c,this._isConnectedToTicker=!1,this.animationSpeed=s,this.loop=f,this.updateAnchor=E,this.onComplete=d,this.onFrameChange=_,this.onLoop=y,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=v,r&&this.play()}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(er.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(er.shared.add(this.update,this,Lm.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const e=t.deltaTime,s=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let c=this._currentTime%1*this._durations[this.currentFrame];for(c+=s/60*1e3;c<0;)this._currentTime--,c+=this._durations[this.currentFrame];const f=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);c>=this._durations[this.currentFrame];)c-=this._durations[this.currentFrame]*f,this._currentTime+=f;this._currentTime+=c/this._durations[this.currentFrame]}else this._currentTime+=s;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this._updateTexture())}_updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this.texture=this._textures[t],this.updateAnchor&&this.texture.defaultAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){this.stop(),super.destroy(),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const e=[];for(let s=0;s<t.length;++s)e.push(Zt.from(t[s]));return new jm(e)}static fromImages(t){const e=[];for(let s=0;s<t.length;++s)e.push(Zt.from(t[s]));return new jm(e)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof Zt)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(er.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(er.shared.add(this.update,this),this._isConnectedToTicker=!0))}}class XM{constructor({matrix:t,observer:e}={}){this.dirty=!0,this._matrix=t??new re,this.observer=e,this.position=new vi(this,0,0),this.scale=new vi(this,1,1),this.pivot=new vi(this,0,0),this.skew=new vi(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const t=this._matrix;return this.dirty&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this.dirty=!1),t}_onUpdate(t){this.dirty=!0,t===this.skew&&this.updateSkew(),this.observer?._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return`[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}setFromMatrix(t){t.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this.skew))}}const Zb=class Um extends Im{constructor(...t){let e=t[0]||{};e instanceof Zt&&(e={texture:e}),t.length>1&&(le(Be,"use new TilingSprite({ texture, width:100, height:100 }) instead"),e.width=t[1],e.height=t[2]),e={...Um.defaultOptions,...e};const{texture:s,anchor:r,tilePosition:c,tileScale:f,tileRotation:d,width:_,height:y,applyAnchorToTexture:v,roundPixels:E,...M}=e??{};super({label:"TilingSprite",...M}),this.renderPipeId="tilingSprite",this.batched=!0,this.allowChildren=!1,this._anchor=new vi({_onUpdate:()=>{this.onViewUpdate()}}),this.applyAnchorToTexture=v,this.texture=s,this._width=_??s.width,this._height=y??s.height,this._tileTransform=new XM({observer:{_onUpdate:()=>this.onViewUpdate()}}),r&&(this.anchor=r),this.tilePosition=c,this.tileScale=f,this.tileRotation=d,this.roundPixels=E??!1}static from(t,e={}){return typeof t=="string"?new Um({texture:si.get(t),...e}):new Um({texture:t,...e})}get uvRespectAnchor(){return je("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture}set uvRespectAnchor(t){je("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture=t}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(t){this._texture.textureMatrix.clampMargin=t}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get tilePosition(){return this._tileTransform.position}set tilePosition(t){this._tileTransform.position.copyFrom(t)}get tileScale(){return this._tileTransform.scale}set tileScale(t){typeof t=="number"?this._tileTransform.scale.set(t):this._tileTransform.scale.copyFrom(t)}set tileRotation(t){this._tileTransform.rotation=t}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}set texture(t){t||(t=Zt.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this.onViewUpdate())}get texture(){return this._texture}set width(t){this._width=t,this.onViewUpdate()}get width(){return this._width}set height(t){this._height=t,this.onViewUpdate()}get height(){return this._height}setSize(t,e){typeof t=="object"&&(e=t.height??t.width,t=t.width),this._width=t,this._height=e??t,this.onViewUpdate()}getSize(t){return t||(t={}),t.width=this._width,t.height=this._height,t}updateBounds(){const t=this._bounds,e=this._anchor,s=this._width,r=this._height;t.minX=-e._x*s,t.maxX=t.minX+s,t.minY=-e._y*r,t.maxY=t.minY+r}containsPoint(t){const e=this._width,s=this._height,r=-e*this._anchor._x;let c=0;return t.x>=r&&t.x<=r+e&&(c=-s*this._anchor._y,t.y>=c&&t.y<=c+s)}destroy(t=!1){if(super.destroy(t),this._anchor=null,this._tileTransform=null,this._bounds=null,typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(s)}this._texture=null}};Zb.defaultOptions={texture:Zt.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1};let qM=Zb;di.add(IS,JS);var Cy={exports:{}},Il={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function jM(){return hv||(hv=1,Il.ConcurrentRoot=1,Il.ContinuousEventPriority=8,Il.DefaultEventPriority=32,Il.DiscreteEventPriority=2,Il.IdleEventPriority=268435456,Il.LegacyRoot=0,Il.NoEventPriority=0),Il}var fv;function VM(){return fv||(fv=1,Cy.exports=jM()),Cy.exports}var kc=VM();const Wg=Vt.createContext({}),ZM=Wg.Provider;Wg.Consumer;function kb(i,t){const e=Object.getPrototypeOf(i),s=Object.getOwnPropertyDescriptor(e,t);return!(typeof s>"u"||s.writable||s.set)}const mu={currentUpdatePriority:kc.DefaultEventPriority,unmountQueue:new Set};function dv(i,...t){}function Qb(i,t={}){const e=i;return e.__pixireact=Object.assign({filters:[],parent:null,root:null,type:""},t),e}var kM="0.0.0-development",QM={version:kM};function FM(){}function Fb(i,t,e){t instanceof zo&&(t.__pixireact.parent=i,typeof e=="number"?i.__pixireact.filters.splice(e,0,t):i.__pixireact.filters.push(t),i.filters=i.__pixireact.filters)}function zy(i,t){t&&(t instanceof rn?i.addChild(t):t instanceof zo&&Fb(i,t))}function KM(){}function PM(){return!1}const xg=Object.freeze({onclick:"onClick",onglobalmousemove:"onGlobalMouseMove",onglobalpointermove:"onGlobalPointerMove",onglobaltouchmove:"onGlobalTouchMove",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onmouseupoutside:"onMouseUpOutside",onpointercancel:"onPointerCancel",onpointerdown:"onPointerDown",onpointerenter:"onPointerEnter",onpointerleave:"onPointerLeave",onpointermove:"onPointerMove",onpointerout:"onPointerOut",onpointerover:"onPointerOver",onpointertap:"onPointerTap",onpointerup:"onPointerUp",onpointerupoutside:"onPointerUpOutside",onrightclick:"onRightClick",onrightdown:"onRightDown",onrightup:"onRightUp",onrightupoutside:"onRightUpOutside",ontap:"onTap",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchendoutside:"onTouchEndOutside",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"}),Vm=Object.freeze({onClick:"onclick",onGlobalMouseMove:"onglobalmousemove",onGlobalPointerMove:"onglobalpointermove",onGlobalTouchMove:"onglobaltouchmove",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseUpOutside:"onmouseupoutside",onPointerCancel:"onpointercancel",onPointerDown:"onpointerdown",onPointerEnter:"onpointerenter",onPointerLeave:"onpointerleave",onPointerMove:"onpointermove",onPointerOut:"onpointerout",onPointerOver:"onpointerover",onPointerTap:"onpointertap",onPointerUp:"onpointerup",onPointerUpOutside:"onpointerupoutside",onRightClick:"onrightclick",onRightDown:"onrightdown",onRightUp:"onrightup",onRightUpOutside:"onrightupoutside",onTap:"ontap",onTouchCancel:"ontouchcancel",onTouchEnd:"ontouchend",onTouchEndOutside:"ontouchendoutside",onTouchMove:"ontouchmove",onTouchStart:"ontouchstart",onWheel:"onwheel"});function Kb(i){return Array.isArray(i)}function Pb(i,t,e={arrays:"reference",objects:"reference",strict:!0}){const{arrays:s,objects:r,strict:c}=e;if(typeof i!=typeof t||!!i!=!!t)return!1;if($M(i)||IM(i))return i===t;const f=JM(i);if(f&&r==="reference")return i===t;const d=Kb(i);if(d&&s==="reference")return i===t;if((d||f)&&i===t)return!0;let _;for(_ in i)if(!(_ in t))return!1;let y=i;if(c&&(y=t),f&&s==="shallow"&&r==="shallow"){for(_ in y)if(!Pb(i[_],t[_],{strict:c,objects:"reference"}))return!1}else for(_ in y)if(i[_]!==t[_])return!1;if(Wb(_)){if(d&&i.length===0&&t.length===0||f&&Object.keys(i).length===0&&Object.keys(t).length===0)return!0;if(i!==t)return!1}return!0}function WM(i){return i===null}function IM(i){return typeof i=="number"}function JM(i){return!(i!==Object(i)||Kb(i)||typeof i=="function")}function $M(i){return typeof i=="string"}function Wb(i){return i===void 0}const t3=Object.freeze(["children","key","ref"]);function e3(i,t=[]){const e={};return Object.entries(i).reduce((s,[r,c])=>(t.includes(r)||(s[r]=c),s),e)}function bg(i,t=[]){return e3(i,t3.concat(t))}const i3="__default";function Ib(i,t={},e=!1){const s=bg(i),r=bg(t),c=Object.entries(s),f=[];if(e){const d=Object.keys(r);let _=0;for(;_<d.length;){const y=d[_];!(y in s)&&c.unshift([y,`${i3}remove`]),_+=1}}return c.forEach(([d,_])=>{if(Pb(_,r[d]))return;if(d in Vm){f.push([d,_,!0,[]]);return}let y=[];d.includes("-")&&(y=d.split("-")),f.push([d,_,!1,y]);for(const v in s){const E=s[v];v.startsWith(`${d}-`)&&f.push([v,E,!1,v.split("-")])}}),{changes:f}}function n3(i){const t=i;return!(!t||!t.changes)}const a3="__default",pv=new Map,mv={};function yv(i,t){if(i){const e=i[t];if(!Wb(e)&&!WM(e))return e}return i}function Jb(i,t){const{__pixireact:e={},...s}=i;let r;n3(t)?r=t:r=Ib(t,s);const{changes:c}=r;let f=0;for(;f<c.length;){const d=c[f];let _=!1,y=d[0],v=d[1];const E=d[2],M=d[3];let w=i,z=w[y];if(y==="draw"&&typeof v=="function"&&(i instanceof hd?v(i):(_=!0,dv("warn",`The \`draw\` prop was used on a \`${e.type}\` component, but it's only valid on \`graphics\` components.`))),y in xg){const H=y;_=!0,mv[y]||(mv[y]=!0,dv("warn",`Event names must be pascal case; instead of \`${y}\`, you probably want \`${xg[H]}\`.`))}if(!_){if(M.length&&(z=M.reduce(yv,w),!(z&&z.set))){const[H,...R]=M.reverse();w=R.reverse().reduce(yv,w),y=H}if(v===`${a3}remove`)if(w instanceof rn){let H=pv.get(w.constructor);H||(H=w.constructor,H=new H,pv.set(w.constructor,H)),v=H[y]}else v=0;if(E&&e){const R=Vm[y];v?w[R]=v:delete w[R]}else kb(w,y)||(w[y]=v)}f+=1}return i}function s3(i,t,e,s){const{children:r,...c}=s,{children:f,...d}=e,_=Ib(c,d,!0);return _.changes.length?_:null}function l3(i,t,e,s){const r=s3(i,t,e,s);r&&Jb(i,r)}const r3=Object.freeze([...Object.keys(xg),"draw"]),Sg={};function u3(i){const t=i.charAt(0),e=i.substring(1);return`${t.toUpperCase()}${e}`}function o3(i,t){return t.toLowerCase()}function c3(i){let t=i;return i.startsWith("pixi")&&(t=i.replace(/^pixi([A-Z])/,o3)),t}function h3(i,t,e){const s=c3(i),r=u3(s);if(!(r in Sg))throw new Error(`${r} is not part of the PIXI namespace! Did you forget to extend?`);const c=Sg[r],f=bg(t,r3);Object.entries(t).forEach(([_,y])=>{if(_ in Vm){const v=Vm[_];f[v]=y}});const d=Qb(new c(f),{root:e,type:s});return Jb(d,t),d}var Ry={exports:{}},By={exports:{}},Oy={exports:{}},Uy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function f3(){return gv||(gv=1,function(i){function t(q,I){var yt=q.length;q.push(I);t:for(;0<yt;){var _t=yt-1>>>1,X=q[_t];if(0<r(X,I))q[_t]=I,q[yt]=X,yt=_t;else break t}}function e(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var I=q[0],yt=q.pop();if(yt!==I){q[0]=yt;t:for(var _t=0,X=q.length,lt=X>>>1;_t<lt;){var mt=2*(_t+1)-1,vt=q[mt],At=mt+1,Dt=q[At];if(0>r(vt,yt))At<X&&0>r(Dt,vt)?(q[_t]=Dt,q[At]=yt,_t=At):(q[_t]=vt,q[mt]=yt,_t=mt);else if(At<X&&0>r(Dt,yt))q[_t]=Dt,q[At]=yt,_t=At;else break t}}return I}function r(q,I){var yt=q.sortIndex-I.sortIndex;return yt!==0?yt:q.id-I.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var _=[],y=[],v=1,E=null,M=3,w=!1,z=!1,H=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function Y(q){for(var I=e(y);I!==null;){if(I.callback===null)s(y);else if(I.startTime<=q)s(y),I.sortIndex=I.expirationTime,t(_,I);else break;I=e(y)}}function L(q){if(H=!1,Y(q),!z)if(e(_)!==null)z=!0,Pt();else{var I=e(y);I!==null&&$t(L,I.startTime-q)}}var F=!1,tt=-1,K=5,gt=-1;function pt(){return!(i.unstable_now()-gt<K)}function rt(){if(F){var q=i.unstable_now();gt=q;var I=!0;try{t:{z=!1,H&&(H=!1,D(tt),tt=-1),w=!0;var yt=M;try{e:{for(Y(q),E=e(_);E!==null&&!(E.expirationTime>q&&pt());){var _t=E.callback;if(typeof _t=="function"){E.callback=null,M=E.priorityLevel;var X=_t(E.expirationTime<=q);if(q=i.unstable_now(),typeof X=="function"){E.callback=X,Y(q),I=!0;break e}E===e(_)&&s(_),Y(q)}else s(_);E=e(_)}if(E!==null)I=!0;else{var lt=e(y);lt!==null&&$t(L,lt.startTime-q),I=!1}}break t}finally{E=null,M=yt,w=!1}I=void 0}}finally{I?ot():F=!1}}}var ot;if(typeof N=="function")ot=function(){N(rt)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,jt=Tt.port2;Tt.port1.onmessage=rt,ot=function(){jt.postMessage(null)}}else ot=function(){R(rt,0)};function Pt(){F||(F=!0,ot())}function $t(q,I){tt=R(function(){q(i.unstable_now())},I)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_continueExecution=function(){z||w||(z=!0,Pt())},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_getFirstCallbackNode=function(){return e(_)},i.unstable_next=function(q){switch(M){case 1:case 2:case 3:var I=3;break;default:I=M}var yt=M;M=I;try{return q()}finally{M=yt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(q,I){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var yt=M;M=q;try{return I()}finally{M=yt}},i.unstable_scheduleCallback=function(q,I,yt){var _t=i.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?_t+yt:_t):yt=_t,q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=yt+X,q={id:v++,callback:I,priorityLevel:q,startTime:yt,expirationTime:X,sortIndex:-1},yt>_t?(q.sortIndex=yt,t(y,q),e(_)===null&&q===e(y)&&(H?(D(tt),tt=-1):H=!0,$t(L,yt-_t))):(q.sortIndex=X,t(_,q),z||w||(z=!0,Pt())),q},i.unstable_shouldYield=pt,i.unstable_wrapCallback=function(q){var I=M;return function(){var yt=M;M=I;try{return q.apply(this,arguments)}finally{M=yt}}}}(Uy)),Uy}var _v;function d3(){return _v||(_v=1,Oy.exports=f3()),Oy.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function p3(){return vv||(vv=1,function(i){i.exports=function(t){function e(l,u,p,g){return new Jh(l,u,p,g)}function s(){}function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(l){return l===null||typeof l!="object"?null:(l=os&&l[os]||l["@@iterator"],typeof l=="function"?l:null)}function f(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===nf?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case Qs:return"Fragment";case Qn:return"Portal";case oc:return"Profiler";case Pu:return"StrictMode";case cc:return"Suspense";case Or:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case ua:return(l.displayName||"Context")+".Provider";case tf:return(l._context.displayName||"Context")+".Consumer";case Iu:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case hc:return u=l.displayName||null,u!==null?u:f(l.type)||"Memo";case Fn:u=l._payload,l=l._init;try{return f(l(u))}catch{}}return null}function d(l){if(za===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);za=u&&u[1]||"",cs=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+za+l+cs}function _(l,u){if(!l||Bl)return"";Bl=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(Qt){var Et=Qt}Reflect.construct(l,[],St)}else{try{St.call()}catch(Qt){Et=Qt}l.call(St.prototype)}}else{try{throw Error()}catch(Qt){Et=Qt}(St=l())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(Qt){if(Qt&&Et&&typeof Qt.stack=="string")return[Qt.stack,Et.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),U=A[0],V=A[1];if(U&&V){var W=U.split(`
`),ct=V.split(`
`);for(b=g=0;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;for(;b<ct.length&&!ct[b].includes("DetermineComponentFrameRoot");)b++;if(g===W.length||b===ct.length)for(g=W.length-1,b=ct.length-1;1<=g&&0<=b&&W[g]!==ct[b];)b--;for(;1<=g&&0<=b;g--,b--)if(W[g]!==ct[b]){if(g!==1||b!==1)do if(g--,b--,0>b||W[g]!==ct[b]){var bt=`
`+W[g].replace(" at new "," at ");return l.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",l.displayName)),bt}while(1<=g&&0<=b);break}}}finally{Bl=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?d(p):""}function y(l){switch(l.tag){case 26:case 27:case 5:return d(l.type);case 16:return d("Lazy");case 13:return d("Suspense");case 19:return d("SuspenseList");case 0:case 15:return l=_(l.type,!1),l;case 11:return l=_(l.type.render,!1),l;case 1:return l=_(l.type,!0),l;default:return""}}function v(l){try{var u="";do u+=y(l),l=l.return;while(l);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function E(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function M(l){if(E(l)!==l)throw Error(r(188))}function w(l){var u=l.alternate;if(!u){if(u=E(l),u===null)throw Error(r(188));return u!==l?null:l}for(var p=l,g=u;;){var b=p.return;if(b===null)break;var A=b.alternate;if(A===null){if(g=b.return,g!==null){p=g;continue}break}if(b.child===A.child){for(A=b.child;A;){if(A===p)return M(b),l;if(A===g)return M(b),u;A=A.sibling}throw Error(r(188))}if(p.return!==g.return)p=b,g=A;else{for(var U=!1,V=b.child;V;){if(V===p){U=!0,p=b,g=A;break}if(V===g){U=!0,g=b,p=A;break}V=V.sibling}if(!U){for(V=A.child;V;){if(V===p){U=!0,p=A,g=b;break}if(V===g){U=!0,g=A,p=b;break}V=V.sibling}if(!U)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:u}function z(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=z(l),u!==null)return u;l=l.sibling}return null}function H(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(l.tag!==4&&(u=H(l),u!==null))return u;l=l.sibling}return null}function R(l){return{current:l}}function D(l){0>ps||(l.current=ii[ps],ii[ps]=null,ps--)}function N(l,u){ps++,ii[ps]=l.current,l.current=u}function Y(l){return l>>>=0,l===0?32:31-(Yp(l)/Lp|0)|0}function L(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function F(l,u){var p=l.pendingLanes;if(p===0)return 0;var g=0,b=l.suspendedLanes,A=l.pingedLanes,U=l.warmLanes;l=l.finishedLanes!==0;var V=p&134217727;return V!==0?(p=V&~b,p!==0?g=L(p):(A&=V,A!==0?g=L(A):l||(U=V&~U,U!==0&&(g=L(U))))):(V=p&~b,V!==0?g=L(V):A!==0?g=L(A):l||(U=p&~U,U!==0&&(g=L(U)))),g===0?0:u!==0&&u!==g&&(u&b)===0&&(b=g&-g,U=u&-u,b>=U||b===32&&(U&4194176)!==0)?u:g}function tt(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function K(l,u){switch(l){case 1:case 2:case 4:case 8:return u+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var l=Ba;return Ba<<=1,(Ba&4194176)===0&&(Ba=128),l}function pt(){var l=Dl;return Dl<<=1,(Dl&62914560)===0&&(Dl=4194304),l}function rt(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function ot(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Tt(l,u,p,g,b,A){var U=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var V=l.entanglements,W=l.expirationTimes,ct=l.hiddenUpdates;for(p=U&~p;0<p;){var bt=31-en(p),St=1<<bt;V[bt]=0,W[bt]=-1;var Et=ct[bt];if(Et!==null)for(ct[bt]=null,bt=0;bt<Et.length;bt++){var Qt=Et[bt];Qt!==null&&(Qt.lane&=-536870913)}p&=~St}g!==0&&jt(l,g,0),A!==0&&b===0&&l.tag!==0&&(l.suspendedLanes|=A&~(U&~u))}function jt(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var g=31-en(u);l.entangledLanes|=u,l.entanglements[g]=l.entanglements[g]|1073741824|p&4194218}function Pt(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var g=31-en(p),b=1<<g;b&u|l[g]&u&&(l[g]|=u),p&=~b}}function $t(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function q(l){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(ni,l,void 0,(l.current.flags&128)===128)}catch{}}function I(l){if(typeof jp=="function"&&Mi(l),vn&&typeof vn.setStrictMode=="function")try{vn.setStrictMode(ni,l)}catch{}}function yt(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}function _t(l,u){if(typeof l=="object"&&l!==null){var p=Sf.get(l);return p!==void 0?p:(u={value:l,source:u,stack:v(u)},Sf.set(l,u),u)}return{value:l,source:u,stack:v(u)}}function X(l,u){Hl[Nl++]=qr,Hl[Nl++]=Gl,Gl=l,qr=u}function lt(l,u,p){Mn[Cn++]=ha,Mn[Cn++]=fa,Mn[Cn++]=$s,$s=l;var g=ha;l=fa;var b=32-en(g)-1;g&=~(1<<b),p+=1;var A=32-en(u)+b;if(30<A){var U=b-b%5;A=(g&(1<<U)-1).toString(32),g>>=U,b-=U,ha=1<<32-en(u)+b|p<<b|g,fa=A+l}else ha=1<<A|p<<b|g,fa=l}function mt(l){l.return!==null&&(X(l,1),lt(l,1,0))}function vt(l){for(;l===Gl;)Gl=Hl[--Nl],Hl[Nl]=null,qr=Hl[--Nl],Hl[Nl]=null;for(;l===$s;)$s=Mn[--Cn],Mn[Cn]=null,fa=Mn[--Cn],Mn[Cn]=null,ha=Mn[--Cn],Mn[Cn]=null}function At(l,u){N(Oa,u),N(jr,l),N(yi,null),l=np(u),D(yi),N(yi,l)}function Dt(){D(yi),D(jr),D(Oa)}function zt(l){l.memoizedState!==null&&N(Yl,l);var u=yi.current,p=Nr(u,l.type);u!==p&&(N(jr,l),N(yi,p))}function Fe(l){jr.current===l&&(D(yi),D(jr)),Yl.current===l&&(D(Yl),$i?oa._currentValue=Ks:oa._currentValue2=Ks)}function It(l){var u=Error(r(418,""));throw Ke(_t(u,l)),lo}function Si(l,u){if(!Yi)throw Error(r(175));Cp(l.stateNode,l.type,l.memoizedProps,u,l)||It(l)}function Xn(l){for(Li=l.return;Li;)switch(Li.tag){case 3:case 27:Ci=!0;return;case 5:case 13:Ci=!1;return;default:Li=Li.return}}function un(l){if(!Yi||l!==Li)return!1;if(!oe)return Xn(l),oe=!0,!1;var u=!1;if(Me?l.tag!==3&&l.tag!==27&&(l.tag!==5||xc(l.type)&&!Kt(l.type,l.memoizedProps))&&(u=!0):l.tag!==3&&(l.tag!==5||xc(l.type)&&!Kt(l.type,l.memoizedProps))&&(u=!0),u&&Xi&&It(l),Xn(l),l.tag===13){if(!Yi)throw Error(r(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Xi=Rp(l)}else Xi=Li?_f(l.stateNode):null;return!0}function Ai(){Yi&&(Xi=Li=null,oe=!1)}function Ke(l){Wn===null?Wn=[l]:Wn.push(l)}function ri(){for(var l=Ll,u=da=Ll=0;u<l;){var p=In[u];In[u++]=null;var g=In[u];In[u++]=null;var b=In[u];In[u++]=null;var A=In[u];if(In[u++]=null,g!==null&&b!==null){var U=g.pending;U===null?b.next=b:(b.next=U.next,U.next=b),g.pending=b}A!==0&&rr(p,b,A)}}function on(l,u,p,g){In[Ll++]=l,In[Ll++]=u,In[Ll++]=p,In[Ll++]=g,da|=g,l.lanes|=g,l=l.alternate,l!==null&&(l.lanes|=g)}function vl(l,u,p,g){return on(l,u,p,g),ws(l)}function Xe(l,u){return on(l,null,null,u),ws(l)}function rr(l,u,p){l.lanes|=p;var g=l.alternate;g!==null&&(g.lanes|=p);for(var b=!1,A=l.return;A!==null;)A.childLanes|=p,g=A.alternate,g!==null&&(g.childLanes|=p),A.tag===22&&(l=A.stateNode,l===null||l._visibility&1||(b=!0)),l=A,A=A.return;b&&u!==null&&l.tag===3&&(A=l.stateNode,b=31-en(p),A=A.hiddenUpdates,l=A[b],l===null?A[b]=[u]:l.push(u),u.lane=p|536870912)}function ws(l){if(50<Ir)throw Ir=0,Hc=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}function cn(l){l!==ms&&l.next===null&&(ms===null?ro=ms=l:ms=ms.next=l),Oe=!0,Xl||(Xl=!0,bl(qn))}function hn(l,u){if(!Af&&Oe){Af=!0;do for(var p=!1,g=ro;g!==null;){if(l!==0){var b=g.pendingLanes;if(b===0)var A=0;else{var U=g.suspendedLanes,V=g.pingedLanes;A=(1<<31-en(42|l)+1)-1,A&=b&~(U&~V),A=A&201326677?A&201326677|1:A?A|2:0}A!==0&&(p=!0,na(g,A))}else A=ne,A=F(g,g===Se?A:0),(A&3)===0||tt(g,A)||(p=!0,na(g,A));g=g.next}while(p);Af=!1}}function qn(){Oe=Xl=!1;var l=0;Vr!==0&&(rp()&&(l=Vr),Vr=0);for(var u=Pn(),p=null,g=ro;g!==null;){var b=g.next,A=xl(g,u);A===0?(g.next=null,p===null?ro=b:p.next=b,b===null&&(ms=p)):(p=g,(l!==0||(A&3)!==0)&&(Oe=!0)),g=b}hn(l)}function xl(l,u){for(var p=l.suspendedLanes,g=l.pingedLanes,b=l.expirationTimes,A=l.pendingLanes&-62914561;0<A;){var U=31-en(A),V=1<<U,W=b[U];W===-1?((V&p)===0||(V&g)!==0)&&(b[U]=K(V,u)):W<=u&&(l.expiredLanes|=V),A&=~V}if(u=Se,p=ne,p=F(l,l===u?p:0),g=l.callbackNode,p===0||l===u&&Te===2||l.cancelPendingCommit!==null)return g!==null&&g!==null&&Ec(g),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||tt(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(g!==null&&Ec(g),$t(p)){case 2:case 8:p=qp;break;case 32:p=Mc;break;case 268435456:p=_0;break;default:p=Mc}return g=Oo.bind(null,l),p=so(p,g),l.callbackPriority=u,l.callbackNode=p,u}return g!==null&&g!==null&&Ec(g),l.callbackPriority=2,l.callbackNode=null,2}function Oo(l,u){var p=l.callbackNode;if(ra()&&l.callbackNode!==p)return null;var g=ne;return g=F(l,l===Se?g:0),g===0?null:(qs(l,g,u),xl(l,Pn()),l.callbackNode!=null&&l.callbackNode===p?Oo.bind(null,l):null)}function na(l,u){if(ra())return null;qs(l,u,!0)}function bl(l){uf?ds(function(){(de&6)!==0?so(Tc,l):l()}):so(Tc,l)}function B(){return Vr===0&&(Vr=gt()),Vr}function S(l,u){if(Zr===null){var p=Zr=[];ql=0,zn=B(),jl={status:"pending",value:void 0,then:function(g){p.push(g)}}}return ql++,u.then(T,T),u}function T(){if(--ql===0&&Zr!==null){jl!==null&&(jl.status="fulfilled");var l=Zr;Zr=null,zn=0,jl=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function G(l,u){var p=[],g={status:"pending",value:null,reason:null,then:function(b){p.push(b)}};return l.then(function(){g.status="fulfilled",g.value=u;for(var b=0;b<p.length;b++)(0,p[b])(u)},function(b){for(g.status="rejected",g.reason=b,b=0;b<p.length;b++)(0,p[b])(void 0)}),g}function Q(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nt(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function ut(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Nt(l,u,p){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(de&2)!==0){var b=g.pending;return b===null?u.next=u:(u.next=b.next,b.next=u),g.pending=u,u=ws(l),rr(l,null,p),u}return on(l,g,u,p),ws(l)}function ue(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194176)!==0)){var g=u.lanes;g&=l.pendingLanes,p|=g,u.lanes=p,Pt(l,p)}}function ve(l,u){var p=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var b=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var U={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};A===null?b=A=U:A=A.next=U,p=p.next}while(p!==null);A===null?b=A=u:A=A.next=u}else b=A=u;p={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function me(){if(Vl){var l=jl;if(l!==null)throw l}}function he(l,u,p,g){Vl=!1;var b=l.updateQueue;ys=!1;var A=b.firstBaseUpdate,U=b.lastBaseUpdate,V=b.shared.pending;if(V!==null){b.shared.pending=null;var W=V,ct=W.next;W.next=null,U===null?A=ct:U.next=ct,U=W;var bt=l.alternate;bt!==null&&(bt=bt.updateQueue,V=bt.lastBaseUpdate,V!==U&&(V===null?bt.firstBaseUpdate=ct:V.next=ct,bt.lastBaseUpdate=W))}if(A!==null){var St=b.baseState;U=0,bt=ct=W=null,V=A;do{var Et=V.lane&-536870913,Qt=Et!==V.lane;if(Qt?(ne&Et)===Et:(g&Et)===Et){Et!==0&&Et===zn&&(Vl=!0),bt!==null&&(bt=bt.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});t:{var Gn=l,ul=V;Et=u;var ol=p;switch(ul.tag){case 1:if(Gn=ul.payload,typeof Gn=="function"){St=Gn.call(ol,St,Et);break t}St=Gn;break t;case 3:Gn.flags=Gn.flags&-65537|128;case 0:if(Gn=ul.payload,Et=typeof Gn=="function"?Gn.call(ol,St,Et):Gn,Et==null)break t;St=uc({},St,Et);break t;case 2:ys=!0}}Et=V.callback,Et!==null&&(l.flags|=64,Qt&&(l.flags|=8192),Qt=b.callbacks,Qt===null?b.callbacks=[Et]:Qt.push(Et))}else Qt={lane:Et,tag:V.tag,payload:V.payload,callback:V.callback,next:null},bt===null?(ct=bt=Qt,W=St):bt=bt.next=Qt,U|=Et;if(V=V.next,V===null){if(V=b.shared.pending,V===null)break;Qt=V,V=Qt.next,Qt.next=null,b.lastBaseUpdate=Qt,b.shared.pending=null}}while(!0);bt===null&&(W=St),b.baseState=W,b.firstBaseUpdate=ct,b.lastBaseUpdate=bt,A===null&&(b.shared.lanes=0),Hn|=U,l.lanes=U,l.memoizedState=St}}function fh(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function dh(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)fh(p[l],u)}function ur(l,u){if(xn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),g=Object.keys(u);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var b=p[g];if(!Ua.call(u,b)||!xn(l[b],u[b]))return!1}return!0}function or(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Uo(){}function ph(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(Uo,Uo),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,l===kr?Error(r(483)):l;default:if(typeof u.status=="string")u.then(Uo,Uo);else{if(l=Se,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(g){if(u.status==="pending"){var b=u;b.status="fulfilled",b.value=g}},function(g){if(u.status==="pending"){var b=u;b.status="rejected",b.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,l===kr?Error(r(483)):l}throw tl=u,kr}}function mh(){if(tl===null)throw Error(r(459));var l=tl;return tl=null,l}function cr(l){var u=il;return il+=1,el===null&&(el=[]),ph(el,l,u)}function Sl(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function gu(l,u){throw u.$$typeof===h0?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function zd(l){var u=l._init;return u(l._payload)}function Pa(l){function u(et,Z){if(l){var st=et.deletions;st===null?(et.deletions=[Z],et.flags|=16):st.push(Z)}}function p(et,Z){if(!l)return null;for(;Z!==null;)u(et,Z),Z=Z.sibling;return null}function g(et){for(var Z=new Map;et!==null;)et.key!==null?Z.set(et.key,et):Z.set(et.index,et),et=et.sibling;return Z}function b(et,Z){return et=kn(et,Z),et.index=0,et.sibling=null,et}function A(et,Z,st){return et.index=st,l?(st=et.alternate,st!==null?(st=st.index,st<Z?(et.flags|=33554434,Z):st):(et.flags|=33554434,Z)):(et.flags|=1048576,Z)}function U(et){return l&&et.alternate===null&&(et.flags|=33554434),et}function V(et,Z,st,xt){return Z===null||Z.tag!==6?(Z=lc(st,et.mode,xt),Z.return=et,Z):(Z=b(Z,st),Z.return=et,Z)}function W(et,Z,st,xt){var Ct=st.type;return Ct===Qs?bt(et,Z,st.props.children,xt,st.key):Z!==null&&(Z.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Fn&&zd(Ct)===Z.type)?(Z=b(Z,st.props),Sl(Z,st),Z.return=et,Z):(Z=Ca(st.type,st.key,st.props,null,et.mode,xt),Sl(Z,st),Z.return=et,Z)}function ct(et,Z,st,xt){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==st.containerInfo||Z.stateNode.implementation!==st.implementation?(Z=$h(st,et.mode,xt),Z.return=et,Z):(Z=b(Z,st.children||[]),Z.return=et,Z)}function bt(et,Z,st,xt,Ct){return Z===null||Z.tag!==7?(Z=Pe(st,et.mode,xt,Ct),Z.return=et,Z):(Z=b(Z,st),Z.return=et,Z)}function St(et,Z,st){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=lc(""+Z,et.mode,st),Z.return=et,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ku:return st=Ca(Z.type,Z.key,Z.props,null,et.mode,st),Sl(st,Z),st.return=et,st;case Qn:return Z=$h(Z,et.mode,st),Z.return=et,Z;case Fn:var xt=Z._init;return Z=xt(Z._payload),St(et,Z,st)}if(Ur(Z)||c(Z))return Z=Pe(Z,et.mode,st,null),Z.return=et,Z;if(typeof Z.then=="function")return St(et,cr(Z),st);if(Z.$$typeof===ua)return St(et,Uu(et,Z),st);gu(et,Z)}return null}function Et(et,Z,st,xt){var Ct=Z!==null?Z.key:null;if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Ct!==null?null:V(et,Z,""+st,xt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case Ku:return st.key===Ct?W(et,Z,st,xt):null;case Qn:return st.key===Ct?ct(et,Z,st,xt):null;case Fn:return Ct=st._init,st=Ct(st._payload),Et(et,Z,st,xt)}if(Ur(st)||c(st))return Ct!==null?null:bt(et,Z,st,xt,null);if(typeof st.then=="function")return Et(et,Z,cr(st),xt);if(st.$$typeof===ua)return Et(et,Z,Uu(et,st),xt);gu(et,st)}return null}function Qt(et,Z,st,xt,Ct){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return et=et.get(st)||null,V(Z,et,""+xt,Ct);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case Ku:return et=et.get(xt.key===null?st:xt.key)||null,W(Z,et,xt,Ct);case Qn:return et=et.get(xt.key===null?st:xt.key)||null,ct(Z,et,xt,Ct);case Fn:var Ye=xt._init;return xt=Ye(xt._payload),Qt(et,Z,st,xt,Ct)}if(Ur(xt)||c(xt))return et=et.get(st)||null,bt(Z,et,xt,Ct,null);if(typeof xt.then=="function")return Qt(et,Z,st,cr(xt),Ct);if(xt.$$typeof===ua)return Qt(et,Z,st,Uu(Z,xt),Ct);gu(Z,xt)}return null}function Gn(et,Z,st,xt){for(var Ct=null,Ye=null,Xt=Z,ge=Z=0,ai=null;Xt!==null&&ge<st.length;ge++){Xt.index>ge?(ai=Xt,Xt=null):ai=Xt.sibling;var ie=Et(et,Xt,st[ge],xt);if(ie===null){Xt===null&&(Xt=ai);break}l&&Xt&&ie.alternate===null&&u(et,Xt),Z=A(ie,Z,ge),Ye===null?Ct=ie:Ye.sibling=ie,Ye=ie,Xt=ai}if(ge===st.length)return p(et,Xt),oe&&X(et,ge),Ct;if(Xt===null){for(;ge<st.length;ge++)Xt=St(et,st[ge],xt),Xt!==null&&(Z=A(Xt,Z,ge),Ye===null?Ct=Xt:Ye.sibling=Xt,Ye=Xt);return oe&&X(et,ge),Ct}for(Xt=g(Xt);ge<st.length;ge++)ai=Qt(Xt,et,ge,st[ge],xt),ai!==null&&(l&&ai.alternate!==null&&Xt.delete(ai.key===null?ge:ai.key),Z=A(ai,Z,ge),Ye===null?Ct=ai:Ye.sibling=ai,Ye=ai);return l&&Xt.forEach(function(qa){return u(et,qa)}),oe&&X(et,ge),Ct}function ul(et,Z,st,xt){if(st==null)throw Error(r(151));for(var Ct=null,Ye=null,Xt=Z,ge=Z=0,ai=null,ie=st.next();Xt!==null&&!ie.done;ge++,ie=st.next()){Xt.index>ge?(ai=Xt,Xt=null):ai=Xt.sibling;var qa=Et(et,Xt,ie.value,xt);if(qa===null){Xt===null&&(Xt=ai);break}l&&Xt&&qa.alternate===null&&u(et,Xt),Z=A(qa,Z,ge),Ye===null?Ct=qa:Ye.sibling=qa,Ye=qa,Xt=ai}if(ie.done)return p(et,Xt),oe&&X(et,ge),Ct;if(Xt===null){for(;!ie.done;ge++,ie=st.next())ie=St(et,ie.value,xt),ie!==null&&(Z=A(ie,Z,ge),Ye===null?Ct=ie:Ye.sibling=ie,Ye=ie);return oe&&X(et,ge),Ct}for(Xt=g(Xt);!ie.done;ge++,ie=st.next())ie=Qt(Xt,et,ge,ie.value,xt),ie!==null&&(l&&ie.alternate!==null&&Xt.delete(ie.key===null?ge:ie.key),Z=A(ie,Z,ge),Ye===null?Ct=ie:Ye.sibling=ie,Ye=ie);return l&&Xt.forEach(function(Nc){return u(et,Nc)}),oe&&X(et,ge),Ct}function ol(et,Z,st,xt){if(typeof st=="object"&&st!==null&&st.type===Qs&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case Ku:t:{for(var Ct=st.key;Z!==null;){if(Z.key===Ct){if(Ct=st.type,Ct===Qs){if(Z.tag===7){p(et,Z.sibling),xt=b(Z,st.props.children),xt.return=et,et=xt;break t}}else if(Z.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Fn&&zd(Ct)===Z.type){p(et,Z.sibling),xt=b(Z,st.props),Sl(xt,st),xt.return=et,et=xt;break t}p(et,Z);break}else u(et,Z);Z=Z.sibling}st.type===Qs?(xt=Pe(st.props.children,et.mode,xt,st.key),xt.return=et,et=xt):(xt=Ca(st.type,st.key,st.props,null,et.mode,xt),Sl(xt,st),xt.return=et,et=xt)}return U(et);case Qn:t:{for(Ct=st.key;Z!==null;){if(Z.key===Ct)if(Z.tag===4&&Z.stateNode.containerInfo===st.containerInfo&&Z.stateNode.implementation===st.implementation){p(et,Z.sibling),xt=b(Z,st.children||[]),xt.return=et,et=xt;break t}else{p(et,Z);break}else u(et,Z);Z=Z.sibling}xt=$h(st,et.mode,xt),xt.return=et,et=xt}return U(et);case Fn:return Ct=st._init,st=Ct(st._payload),ol(et,Z,st,xt)}if(Ur(st))return Gn(et,Z,st,xt);if(c(st)){if(Ct=c(st),typeof Ct!="function")throw Error(r(150));return st=Ct.call(st),ul(et,Z,st,xt)}if(typeof st.then=="function")return ol(et,Z,cr(st),xt);if(st.$$typeof===ua)return ol(et,Z,Uu(et,st),xt);gu(et,st)}return typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint"?(st=""+st,Z!==null&&Z.tag===6?(p(et,Z.sibling),xt=b(Z,st),xt.return=et,et=xt):(p(et,Z),xt=lc(st,et.mode,xt),xt.return=et,et=xt),U(et)):p(et,Z)}return function(et,Z,st,xt){try{il=0;var Ct=ol(et,Z,st,xt);return el=null,Ct}catch(Xt){if(Xt===kr)throw Xt;var Ye=e(29,Xt,null,et.mode);return Ye.lanes=xt,Ye.return=et,Ye}finally{}}}function Oi(l,u){l=Qi,N(Qr,l),N(Ue,u),Qi=l|u.baseLanes}function ji(){N(Qr,Qi),N(Ue,Ue.current)}function Ts(){Qi=Qr.current,D(Ue),D(Qr)}function Aa(l){var u=l.alternate;N(gi,gi.current&1),N(Rn,l),Ce===null&&(u===null||Ue.current!==null||u.memoizedState!==null)&&(Ce=l)}function Rd(l){if(l.tag===22){if(N(gi,gi.current),N(Rn,l),Ce===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(Ce=l)}}else Ms()}function Ms(){N(gi,gi.current),N(Rn,Rn.current)}function Ea(l){D(Rn),Ce===l&&(Ce=null),D(gi)}function Cs(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||gc(p)||_c(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Ve(){throw Error(r(321))}function zs(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!xn(l[p],u[p]))return!1;return!0}function Rs(l,u,p,g,b,A){return gs=A,Jt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Lt.H=l===null||l.memoizedState===null?sl:nn,al=!1,A=p(g,b),al=!1,Zl&&(A=Al(u,p,g,b)),hr(l),A}function hr(l){Lt.H=We;var u=Ut!==null&&Ut.next!==null;if(gs=0,fe=Ut=Jt=null,Jn=!1,kl=0,zi=null,u)throw Error(r(300));l===null||ze||(l=l.dependencies,l!==null&&Ou(l)&&(ze=!0))}function Al(l,u,p,g){Jt=l;var b=0;do{if(Zl&&(zi=null),kl=0,Zl=!1,25<=b)throw Error(r(301));if(b+=1,fe=Ut=null,l.updateQueue!=null){var A=l.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}Lt.H=Bn,A=u(p,g)}while(Zl);return A}function Ei(){var l=Lt.H,u=l.useState()[0];return u=typeof u.then=="function"?fr(u):u,l=l.useState()[0],(Ut!==null?Ut.memoizedState:null)!==l&&(Jt.flags|=1024),u}function Do(){var l=Cc!==0;return Cc=0,l}function Ho(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function Wa(l){if(Jn){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Jn=!1}gs=0,fe=Ut=Jt=null,Zl=!1,kl=Cc=0,zi=null}function pi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Jt.memoizedState=fe=l:fe=fe.next=l,fe}function ui(){if(Ut===null){var l=Jt.alternate;l=l!==null?l.memoizedState:null}else l=Ut.next;var u=fe===null?Jt.memoizedState:fe.next;if(u!==null)fe=u,Ut=l;else{if(l===null)throw Jt.alternate===null?Error(r(467)):Error(r(310));Ut=l,l={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},fe===null?Jt.memoizedState=fe=l:fe=fe.next=l}return fe}function fr(l){var u=kl;return kl+=1,zi===null&&(zi=[]),l=ph(zi,l,u),u=Jt,(fe===null?u.memoizedState:fe.next)===null&&(u=u.alternate,Lt.H=u===null||u.memoizedState===null?sl:nn),l}function _u(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return fr(l);if(l.$$typeof===ua)return Di(l)}throw Error(r(438,String(l)))}function yh(l){var u=null,p=Jt.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var g=Jt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(b){return b.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=zc(),Jt.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),g=0;g<l;g++)p[g]=ip;return u.index++,p}function jn(l,u){return typeof u=="function"?u(l):u}function El(l){var u=ui();return aa(u,Ut,l)}function aa(l,u,p){var g=l.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=p;var b=l.baseQueue,A=g.pending;if(A!==null){if(b!==null){var U=b.next;b.next=A.next,A.next=U}u.baseQueue=b=A,g.pending=null}if(A=l.baseState,b===null)l.memoizedState=A;else{u=b.next;var V=U=null,W=null,ct=u,bt=!1;do{var St=ct.lane&-536870913;if(St!==ct.lane?(ne&St)===St:(gs&St)===St){var Et=ct.revertLane;if(Et===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),St===zn&&(bt=!0);else if((gs&Et)===Et){ct=ct.next,Et===zn&&(bt=!0);continue}else St={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},W===null?(V=W=St,U=A):W=W.next=St,Jt.lanes|=Et,Hn|=Et;St=ct.action,al&&p(A,St),A=ct.hasEagerState?ct.eagerState:p(A,St)}else Et={lane:St,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},W===null?(V=W=Et,U=A):W=W.next=Et,Jt.lanes|=St,Hn|=St;ct=ct.next}while(ct!==null&&ct!==u);if(W===null?U=A:W.next=V,!xn(A,l.memoizedState)&&(ze=!0,bt&&(p=jl,p!==null)))throw p;l.memoizedState=A,l.baseState=U,l.baseQueue=W,g.lastRenderedState=A}return b===null&&(g.lanes=0),[l.memoizedState,g.dispatch]}function vu(l){var u=ui(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var g=p.dispatch,b=p.pending,A=u.memoizedState;if(b!==null){p.pending=null;var U=b=b.next;do A=l(A,U.action),U=U.next;while(U!==b);xn(A,u.memoizedState)||(ze=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),p.lastRenderedState=A}return[A,g]}function gh(l,u,p){var g=Jt,b=ui(),A=oe;if(A){if(p===void 0)throw Error(r(407));p=p()}else p=u();var U=!xn((Ut||b).memoizedState,p);if(U&&(b.memoizedState=p,ze=!0),b=b.queue,Eh(Go.bind(null,g,b,l),[l]),b.getSnapshot!==u||U||fe!==null&&fe.memoizedState.tag&1){if(g.flags|=2048,sa(9,No.bind(null,g,b,p,u),{destroy:void 0},null),Se===null)throw Error(r(349));A||(gs&60)!==0||wl(g,u,p)}return p}function wl(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=Jt.updateQueue,u===null?(u=zc(),Jt.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function No(l,u,p,g){u.value=p,u.getSnapshot=g,Bd(u)&&_h(l)}function Go(l,u,p){return p(function(){Bd(u)&&_h(l)})}function Bd(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!xn(l,p)}catch{return!0}}function _h(l){var u=Xe(l,2);u!==null&&Ti(u,l,2)}function fn(l){var u=pi();if(typeof l=="function"){var p=l;if(l=p(),al){I(!0);try{p()}finally{I(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:l},u}function vh(l,u,p,g){return l.baseState=p,aa(l,Ut,typeof g=="function"?g:jn)}function l0(l,u,p,g,b){if(Mu(l))throw Error(r(485));if(l=u.action,l!==null){var A={payload:b,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){A.listeners.push(U)}};Lt.T!==null?p(!0):A.isTransition=!1,g(A),p=u.pending,p===null?(A.next=u.pending=A,xu(u,A)):(A.next=p.next,u.pending=p.next=A)}}function xu(l,u){var p=u.action,g=u.payload,b=l.state;if(u.isTransition){var A=Lt.T,U={};Lt.T=U;try{var V=p(b,g),W=Lt.S;W!==null&&W(U,V),xh(l,u,V)}catch(ct){bh(l,u,ct)}finally{Lt.T=A}}else try{A=p(b,g),xh(l,u,A)}catch(ct){bh(l,u,ct)}}function xh(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(g){bu(l,u,g)},function(g){return bh(l,u,g)}):bu(l,u,p)}function bu(l,u,p){u.status="fulfilled",u.value=p,Sn(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,xu(l,p)))}function bh(l,u,p){var g=l.pending;if(l.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=p,Sn(u),u=u.next;while(u!==g)}l.action=null}function Sn(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function Yo(l,u){return u}function Sh(l,u){if(oe){var p=Se.formState;if(p!==null){t:{var g=Jt;if(oe){if(Xi){var b=gf(Xi,Ci);if(b){Xi=_f(b),g=Ep(b);break t}}It(g)}g=!1}g&&(u=p[0])}}p=pi(),p.memoizedState=p.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:u},p.queue=g,p=Ch.bind(null,Jt,g),g.dispatch=p,g=fn(!1);var A=mr.bind(null,Jt,!1,g.queue);return g=pi(),b={state:u,dispatch:null,action:l,pending:null},g.queue=b,p=l0.bind(null,Jt,b,A,p),b.dispatch=p,g.memoizedState=l,[u,p,!1]}function Lo(l){var u=ui();return Tl(u,Ut,l)}function Tl(l,u,p){u=aa(l,u,Yo)[0],l=El(jn)[0],u=typeof u=="object"&&u!==null&&typeof u.then=="function"?fr(u):u;var g=ui(),b=g.queue,A=b.dispatch;return p!==g.memoizedState&&(Jt.flags|=2048,sa(9,Od.bind(null,b,p),{destroy:void 0},null)),[u,A,l]}function Od(l,u){l.action=u}function Ah(l){var u=ui(),p=Ut;if(p!==null)return Tl(u,p,l);ui(),u=u.memoizedState,p=ui();var g=p.queue.dispatch;return p.memoizedState=l,[u,g,!1]}function sa(l,u,p,g){return l={tag:l,create:u,inst:p,deps:g,next:null},u=Jt.updateQueue,u===null&&(u=zc(),Jt.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(g=p.next,p.next=l,l.next=g,u.lastEffect=l),l}function Ud(){return ui().memoizedState}function Su(l,u,p,g){var b=pi();Jt.flags|=l,b.memoizedState=sa(1|u,p,{destroy:void 0},g===void 0?null:g)}function Au(l,u,p,g){var b=ui();g=g===void 0?null:g;var A=b.memoizedState.inst;Ut!==null&&g!==null&&zs(g,Ut.memoizedState.deps)?b.memoizedState=sa(u,p,A,g):(Jt.flags|=l,b.memoizedState=sa(1|u,p,A,g))}function Xo(l,u){Su(8390656,8,l,u)}function Eh(l,u){Au(2048,8,l,u)}function Dd(l,u){return Au(4,2,l,u)}function Eu(l,u){return Au(4,4,l,u)}function qo(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function jo(l,u,p){p=p!=null?p.concat([l]):null,Au(4,4,qo.bind(null,u,l),p)}function Bs(){}function Ml(l,u){var p=ui();u=u===void 0?null:u;var g=p.memoizedState;return u!==null&&zs(u,g[1])?g[0]:(p.memoizedState=[l,u],l)}function wh(l,u){var p=ui();u=u===void 0?null:u;var g=p.memoizedState;if(u!==null&&zs(u,g[1]))return g[0];if(g=l(),al){I(!0);try{l()}finally{I(!1)}}return p.memoizedState=[g,u],g}function wu(l,u,p){return p===void 0||(gs&1073741824)!==0?l.memoizedState=u:(l.memoizedState=p,l=Fh(),Jt.lanes|=l,Hn|=l,p)}function Th(l,u,p,g){return xn(p,u)?p:Ue.current!==null?(l=wu(l,p,g),xn(l,u)||(ze=!0),l):(gs&42)===0?(ze=!0,l.memoizedState=p):(l=Fh(),Jt.lanes|=l,Hn|=l,u)}function dr(l,u,p,g,b){var A=fs();Zi(A!==0&&8>A?A:8);var U=Lt.T,V={};Lt.T=V,mr(l,!1,u,p);try{var W=b(),ct=Lt.S;if(ct!==null&&ct(V,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var bt=G(W,g);Os(l,u,bt,ti(l))}else Os(l,u,g,ti(l))}catch(St){Os(l,u,{then:function(){},status:"rejected",reason:St},ti())}finally{Zi(A),Lt.T=U}}function wa(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:Ks,baseState:Ks,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:Ks},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function Tu(){return Di(oa)}function pr(){return ui().memoizedState}function Ia(){return ui().memoizedState}function Mh(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=ti();l=ut(p);var g=Nt(u,l,p);g!==null&&(Ti(g,u,p),ue(g,u,p)),u={cache:Ns()},l.payload=u;return}u=u.return}}function Vo(l,u,p){var g=ti();p={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Mu(l)?Wi(u,p):(p=vl(l,u,p,g),p!==null&&(Ti(p,l,g),Us(p,u,g)))}function Ch(l,u,p){var g=ti();Os(l,u,p,g)}function Os(l,u,p,g){var b={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Mu(l))Wi(u,b);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var U=u.lastRenderedState,V=A(U,p);if(b.hasEagerState=!0,b.eagerState=V,xn(V,U))return on(l,u,b,0),Se===null&&ri(),!1}catch{}finally{}if(p=vl(l,u,b,g),p!==null)return Ti(p,l,g),Us(p,u,g),!0}return!1}function mr(l,u,p,g){if(g={lane:2,revertLane:B(),action:g,hasEagerState:!1,eagerState:null,next:null},Mu(l)){if(u)throw Error(r(479))}else u=vl(l,p,g,2),u!==null&&Ti(u,l,2)}function Mu(l){var u=l.alternate;return l===Jt||u!==null&&u===Jt}function Wi(l,u){Zl=Jn=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function Us(l,u,p){if((p&4194176)!==0){var g=u.lanes;g&=l.pendingLanes,p|=g,u.lanes=p,Pt(l,p)}}function yr(l,u,p,g){u=l.memoizedState,p=p(g,u),p=p==null?u:uc({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}function gr(l,u,p,g,b,A,U){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,A,U):u.prototype&&u.prototype.isPureReactComponent?!ur(p,g)||!ur(b,A):!0}function Hd(l,u,p,g){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,g),u.state!==l&&Ha.enqueueReplaceState(u,u.state,null)}function Ja(l,u){var p=u;if("ref"in u){p={};for(var g in u)g!=="ref"&&(p[g]=u[g])}if(l=l.defaultProps){p===u&&(p=uc({},p));for(var b in l)p[b]===void 0&&(p[b]=l[b])}return p}function _r(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function vr(l,u,p){try{var g=l.onCaughtError;g(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function xr(l,u,p){return p=ut(p),p.tag=3,p.payload={element:null},p.callback=function(){_r(l,u)},p}function zh(l){return l=ut(l),l.tag=3,l}function Nd(l,u,p,g){var b=p.type.getDerivedStateFromError;if(typeof b=="function"){var A=g.value;l.payload=function(){return b(A)},l.callback=function(){vr(u,p,g)}}var U=p.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(l.callback=function(){vr(u,p,g),typeof b!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var V=g.stack;this.componentDidCatch(g.value,{componentStack:V!==null?V:""})})}function r0(l,u,p,g,b){if(p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=p.alternate,u!==null&&Bu(u,p,b,!0),p=Rn.current,p!==null){switch(p.tag){case 13:return Ce===null?ls():p.alternate===null&&Re===0&&(Re=3),p.flags&=-257,p.flags|=65536,p.lanes=b,g===oo?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([g]):u.add(g),Rl(l,g,b)),!1;case 22:return p.flags|=65536,g===oo?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([g]):p.add(g)),Rl(l,g,b)),!1}throw Error(r(435,p.tag))}return Rl(l,g,b),ls(),!1}if(oe)return u=Rn.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=b,g!==lo&&(l=Error(r(422),{cause:g}),Ke(_t(l,p)))):(g!==lo&&(u=Error(r(423),{cause:g}),Ke(_t(u,p))),l=l.current.alternate,l.flags|=65536,b&=-b,l.lanes|=b,g=_t(g,p),b=xr(l.stateNode,g,b),ve(l,b),Re!==4&&(Re=2)),!1;var A=Error(r(520),{cause:g});if(A=_t(A,p),Fl===null?Fl=[A]:Fl.push(A),Re!==4&&(Re=2),u===null)return!0;g=_t(g,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=b&-b,p.lanes|=l,l=xr(p.stateNode,g,l),ve(p,l),!1;case 1:if(u=p.type,A=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ll===null||!ll.has(A))))return p.flags|=65536,b&=-b,p.lanes|=b,b=zh(b),Nd(b,l,p,g),ve(p,b),!1}p=p.return}while(p!==null);return!1}function Ui(l,u,p,g){u.child=l===null?Da(u,null,p,g):nl(u,l.child,p,g)}function Zo(l,u,p,g,b){p=p.render;var A=u.ref;if("ref"in g){var U={};for(var V in g)V!=="ref"&&(U[V]=g[V])}else U=g;return Hs(u),g=Rs(l,u,p,U,A,b),V=Do(),l!==null&&!ze?(Ho(l,u,b),$a(l,u,b)):(oe&&V&&mt(u),u.flags|=1,Ui(l,u,g,b),u.child)}function Gd(l,u,p,g,b){if(l===null){var A=p.type;return typeof A=="function"&&!Zu(A)&&A.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=A,Yd(l,u,A,g,b)):(l=Ca(p.type,null,g,u,u.mode,b),l.ref=u.ref,l.return=u,u.child=l)}if(A=l.child,!Dh(l,b)){var U=A.memoizedProps;if(p=p.compare,p=p!==null?p:ur,p(U,g)&&l.ref===u.ref)return $a(l,u,b)}return u.flags|=1,l=kn(A,g),l.ref=u.ref,l.return=u,u.child=l}function Yd(l,u,p,g,b){if(l!==null){var A=l.memoizedProps;if(ur(A,g)&&l.ref===u.ref)if(ze=!1,u.pendingProps=g=A,Dh(l,b))(l.flags&131072)!==0&&(ze=!0);else return u.lanes=l.lanes,$a(l,u,b)}return ko(l,u,p,g,b)}function Ld(l,u,p){var g=u.pendingProps,b=g.children,A=(u.stateNode._pendingVisibility&2)!==0,U=l!==null?l.memoizedState:null;if(Cu(l,u),g.mode==="hidden"||A){if((u.flags&128)!==0){if(g=U!==null?U.baseLanes|p:p,l!==null){for(b=u.child=l.child,A=0;b!==null;)A=A|b.lanes|b.childLanes,b=b.sibling;u.childLanes=A&~g}else u.childLanes=0,u.child=null;return Xd(l,u,g,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&Fo(u,U!==null?U.cachePool:null),U!==null?Oi(u,U):ji(),Rd(u);else return u.lanes=u.childLanes=536870912,Xd(l,u,U!==null?U.baseLanes|p:p,p)}else U!==null?(Fo(u,U.cachePool),Oi(u,U),Ms(),u.memoizedState=null):(l!==null&&Fo(u,null),ji(),Ms());return Ui(l,u,b,p),u.child}function Xd(l,u,p,g){var b=Nh();return b=b===null?null:{parent:$i?De._currentValue:De._currentValue2,pool:b},u.memoizedState={baseLanes:p,cachePool:b},l!==null&&Fo(u,null),ji(),Rd(u),l!==null&&Bu(l,u,g,!0),null}function Cu(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=2097664);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(u.flags|=2097664)}}function ko(l,u,p,g,b){return Hs(u),p=Rs(l,u,p,g,void 0,b),g=Do(),l!==null&&!ze?(Ho(l,u,b),$a(l,u,b)):(oe&&g&&mt(u),u.flags|=1,Ui(l,u,p,b),u.child)}function qd(l,u,p,g,b,A){return Hs(u),u.updateQueue=null,p=Al(u,g,p,b),hr(l),g=Do(),l!==null&&!ze?(Ho(l,u,A),$a(l,u,A)):(oe&&g&&mt(u),u.flags|=1,Ui(l,u,p,A),u.child)}function jd(l,u,p,g,b){if(Hs(u),u.stateNode===null){var A=Js,U=p.contextType;typeof U=="object"&&U!==null&&(A=Di(U)),A=new p(g,A),u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Ha,u.stateNode=A,A._reactInternals=u,A=u.stateNode,A.props=g,A.state=u.memoizedState,A.refs={},Q(u),U=p.contextType,A.context=typeof U=="object"&&U!==null?Di(U):Js,A.state=u.memoizedState,U=p.getDerivedStateFromProps,typeof U=="function"&&(yr(u,p,U,g),A.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(U=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),U!==A.state&&Ha.enqueueReplaceState(A,A.state,null),he(u,g,A,b),me(),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(l===null){A=u.stateNode;var V=u.memoizedProps,W=Ja(p,V);A.props=W;var ct=A.context,bt=p.contextType;U=Js,typeof bt=="object"&&bt!==null&&(U=Di(bt));var St=p.getDerivedStateFromProps;bt=typeof St=="function"||typeof A.getSnapshotBeforeUpdate=="function",V=u.pendingProps!==V,bt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V||ct!==U)&&Hd(u,A,g,U),ys=!1;var Et=u.memoizedState;A.state=Et,he(u,g,A,b),me(),ct=u.memoizedState,V||Et!==ct||ys?(typeof St=="function"&&(yr(u,p,St,g),ct=u.memoizedState),(W=ys||gr(u,p,W,g,Et,ct,U))?(bt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=ct),A.props=g,A.state=ct,A.context=U,g=W):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{A=u.stateNode,nt(l,u),U=u.memoizedProps,bt=Ja(p,U),A.props=bt,St=u.pendingProps,Et=A.context,ct=p.contextType,W=Js,typeof ct=="object"&&ct!==null&&(W=Di(ct)),V=p.getDerivedStateFromProps,(ct=typeof V=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==St||Et!==W)&&Hd(u,A,g,W),ys=!1,Et=u.memoizedState,A.state=Et,he(u,g,A,b),me();var Qt=u.memoizedState;U!==St||Et!==Qt||ys||l!==null&&l.dependencies!==null&&Ou(l.dependencies)?(typeof V=="function"&&(yr(u,p,V,g),Qt=u.memoizedState),(bt=ys||gr(u,p,bt,g,Et,Qt,W)||l!==null&&l.dependencies!==null&&Ou(l.dependencies))?(ct||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,Qt,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,Qt,W)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||U===l.memoizedProps&&Et===l.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===l.memoizedProps&&Et===l.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Qt),A.props=g,A.state=Qt,A.context=W,g=bt):(typeof A.componentDidUpdate!="function"||U===l.memoizedProps&&Et===l.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===l.memoizedProps&&Et===l.memoizedState||(u.flags|=1024),g=!1)}return A=g,Cu(l,u),g=(u.flags&128)!==0,A||g?(A=u.stateNode,p=g&&typeof p.getDerivedStateFromError!="function"?null:A.render(),u.flags|=1,l!==null&&g?(u.child=nl(u,l.child,null,b),u.child=nl(u,null,p,b)):Ui(l,u,p,b),u.memoizedState=A.state,l=u.child):l=$a(l,u,b),l}function Vd(l,u,p,g){return Ai(),u.flags|=256,Ui(l,u,p,g),u.child}function Rh(l){return{baseLanes:l,cachePool:Gh()}}function zu(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=Nn),l}function Zd(l,u,p){var g=u.pendingProps,b=!1,A=(u.flags&128)!==0,U;if((U=A)||(U=l!==null&&l.memoizedState===null?!1:(gi.current&2)!==0),U&&(b=!0,u.flags&=-129),U=(u.flags&32)!==0,u.flags&=-33,l===null){if(oe){if(b?Aa(u):Ms(),oe){var V=Xi,W;(W=V)&&(V=Mp(V,Ci),V!==null?(u.memoizedState={dehydrated:V,treeContext:$s!==null?{id:ha,overflow:fa}:null,retryLane:536870912},W=e(18,null,null,0),W.stateNode=V,W.return=u,u.child=W,Li=u,Xi=null,W=!0):W=!1),W||It(u)}if(V=u.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return _c(V)?u.lanes=16:u.lanes=536870912,null;Ea(u)}return V=g.children,g=g.fallback,b?(Ms(),b=u.mode,V=Oh({mode:"hidden",children:V},b),g=Pe(g,b,p,null),V.return=u,g.return=u,V.sibling=g,u.child=V,b=u.child,b.memoizedState=Rh(p),b.childLanes=zu(l,U,p),u.memoizedState=Oc,g):(Aa(u),Bh(u,V))}if(W=l.memoizedState,W!==null&&(V=W.dehydrated,V!==null)){if(A)u.flags&256?(Aa(u),u.flags&=-257,u=Qo(l,u,p)):u.memoizedState!==null?(Ms(),u.child=l.child,u.flags|=128,u=null):(Ms(),b=g.fallback,V=u.mode,g=Oh({mode:"visible",children:g.children},V),b=Pe(b,V,p,null),b.flags|=2,g.return=u,b.return=u,g.sibling=b,u.child=g,nl(u,l.child,null,p),g=u.child,g.memoizedState=Rh(p),g.childLanes=zu(l,U,p),u.memoizedState=Oc,u=b);else if(Aa(u),_c(V))U=Sp(V).digest,g=Error(r(419)),g.stack="",g.digest=U,Ke({value:g,source:null,stack:null}),u=Qo(l,u,p);else if(ze||Bu(l,u,p,!1),U=(p&l.childLanes)!==0,ze||U){if(U=Se,U!==null){if(g=p&-p,(g&42)!==0)g=1;else switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=64;break;case 268435456:g=134217728;break;default:g=0}if(g=(g&(U.suspendedLanes|p))!==0?0:g,g!==0&&g!==W.retryLane)throw W.retryLane=g,Xe(l,g),Ti(U,l,g),Bc}gc(V)||ls(),u=Qo(l,u,p)}else gc(V)?(u.flags|=128,u.child=l.child,u=rs.bind(null,l),Ap(V,u),u=null):(l=W.treeContext,Yi&&(Xi=Tp(V),Li=u,oe=!0,Wn=null,Ci=!1,l!==null&&(Mn[Cn++]=ha,Mn[Cn++]=fa,Mn[Cn++]=$s,ha=l.id,fa=l.overflow,$s=u)),u=Bh(u,g.children),u.flags|=4096);return u}return b?(Ms(),b=g.fallback,V=u.mode,W=l.child,A=W.sibling,g=kn(W,{mode:"hidden",children:g.children}),g.subtreeFlags=W.subtreeFlags&31457280,A!==null?b=kn(A,b):(b=Pe(b,V,p,null),b.flags|=2),b.return=u,g.return=u,g.sibling=b,u.child=g,g=b,b=u.child,V=l.child.memoizedState,V===null?V=Rh(p):(W=V.cachePool,W!==null?(A=$i?De._currentValue:De._currentValue2,W=W.parent!==A?{parent:A,pool:A}:W):W=Gh(),V={baseLanes:V.baseLanes|p,cachePool:W}),b.memoizedState=V,b.childLanes=zu(l,U,p),u.memoizedState=Oc,g):(Aa(u),p=l.child,l=p.sibling,p=kn(p,{mode:"visible",children:g.children}),p.return=u,p.sibling=null,l!==null&&(U=u.deletions,U===null?(u.deletions=[l],u.flags|=16):U.push(l)),u.child=p,u.memoizedState=null,p)}function Bh(l,u){return u=Oh({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Oh(l,u){return Qu(l,u,0,null)}function Qo(l,u,p){return nl(u,l.child,null,p),l=Bh(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function kd(l,u,p){l.lanes|=u;var g=l.alternate;g!==null&&(g.lanes|=u),Ru(l.return,u,p)}function Uh(l,u,p,g,b){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:b}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=p,A.tailMode=b)}function Qd(l,u,p){var g=u.pendingProps,b=g.revealOrder,A=g.tail;if(Ui(l,u,g.children,p),g=gi.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)t:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&kd(l,p,u);else if(l.tag===19)kd(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break t;for(;l.sibling===null;){if(l.return===null||l.return===u)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}g&=1}switch(N(gi,g),b){case"forwards":for(p=u.child,b=null;p!==null;)l=p.alternate,l!==null&&Cs(l)===null&&(b=p),p=p.sibling;p=b,p===null?(b=u.child,u.child=null):(b=p.sibling,p.sibling=null),Uh(u,!1,b,p,A);break;case"backwards":for(p=null,b=u.child,u.child=null;b!==null;){if(l=b.alternate,l!==null&&Cs(l)===null){u.child=b;break}l=b.sibling,b.sibling=p,p=b,b=l}Uh(u,!0,p,null,A);break;case"together":Uh(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function $a(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),Hn|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(Bu(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,p=kn(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=kn(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function Dh(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Ou(l)))}function u0(l,u,p){switch(u.tag){case 3:At(u,u.stateNode.containerInfo),Ds(u,De,l.memoizedState.cache),Ai();break;case 27:case 5:zt(u);break;case 4:At(u,u.stateNode.containerInfo);break;case 10:Ds(u,u.type,u.memoizedProps.value);break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Aa(u),u.flags|=128,null):(p&u.child.childLanes)!==0?Zd(l,u,p):(Aa(u),l=$a(l,u,p),l!==null?l.sibling:null);Aa(u);break;case 19:var b=(l.flags&128)!==0;if(g=(p&u.childLanes)!==0,g||(Bu(l,u,p,!1),g=(p&u.childLanes)!==0),b){if(g)return Qd(l,u,p);u.flags|=128}if(b=u.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),N(gi,gi.current),g)break;return null;case 22:case 23:return u.lanes=0,Ld(l,u,p);case 24:Ds(u,De,l.memoizedState.cache)}return $a(l,u,p)}function Fd(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)ze=!0;else{if(!Dh(l,p)&&(u.flags&128)===0)return ze=!1,u0(l,u,p);ze=(l.flags&131072)!==0}else ze=!1,oe&&(u.flags&1048576)!==0&&lt(u,qr,u.index);switch(u.lanes=0,u.tag){case 16:t:{l=u.pendingProps;var g=u.elementType,b=g._init;if(g=b(g._payload),u.type=g,typeof g=="function")Zu(g)?(l=Ja(g,l),u.tag=1,u=jd(null,u,g,l,p)):(u.tag=0,u=ko(null,u,g,l,p));else{if(g!=null){if(b=g.$$typeof,b===Iu){u.tag=11,u=Zo(null,u,g,l,p);break t}else if(b===hc){u.tag=14,u=Gd(null,u,g,l,p);break t}}throw u=f(g)||g,Error(r(306,u,""))}}return u;case 0:return ko(l,u,u.type,u.pendingProps,p);case 1:return g=u.type,b=Ja(g,u.pendingProps),jd(l,u,g,b,p);case 3:t:{if(At(u,u.stateNode.containerInfo),l===null)throw Error(r(387));var A=u.pendingProps;b=u.memoizedState,g=b.element,nt(l,u),he(u,A,null,p);var U=u.memoizedState;if(A=U.cache,Ds(u,De,A),A!==b.cache&&Cl(u,[De],p,!0),me(),A=U.element,Yi&&b.isDehydrated)if(b={element:A,isDehydrated:!1,cache:U.cache},u.updateQueue.baseState=b,u.memoizedState=b,u.flags&256){u=Vd(l,u,A,p);break t}else if(A!==g){g=_t(Error(r(424)),u),Ke(g),u=Vd(l,u,A,p);break t}else for(Yi&&(Xi=wp(u.stateNode.containerInfo),Li=u,oe=!0,Wn=null,Ci=!0),p=Da(u,null,A,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ai(),A===g){u=$a(l,u,p);break t}Ui(l,u,A,p)}u=u.child}return u;case 26:if(Tn)return Cu(l,u),l===null?(p=bf(u.type,null,u.pendingProps,null))?u.memoizedState=p:oe||(u.stateNode=Ac(u.type,u.pendingProps,Oa.current,u)):u.memoizedState=bf(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:if(Me)return zt(u),l===null&&Me&&oe&&(g=u.stateNode=ca(u.type,u.pendingProps,Oa.current,yi.current,!1),Li=u,Ci=!0,Xi=vc(g)),g=u.pendingProps.children,l!==null||oe?Ui(l,u,g,p):u.child=nl(u,null,g,p),Cu(l,u),u.child;case 5:return l===null&&oe&&(bc(u.type,u.pendingProps,yi.current),(b=g=Xi)&&(g=m0(g,u.type,u.pendingProps,Ci),g!==null?(u.stateNode=g,Li=u,Xi=vc(g),Ci=!1,b=!0):b=!1),b||It(u)),zt(u),b=u.type,A=u.pendingProps,U=l!==null?l.memoizedProps:null,g=A.children,Kt(b,A)?g=null:U!==null&&Kt(b,U)&&(u.flags|=32),u.memoizedState!==null&&(b=Rs(l,u,Ei,null,null,p),$i?oa._currentValue=b:oa._currentValue2=b),Cu(l,u),Ui(l,u,g,p),u.child;case 6:return l===null&&oe&&(Op(u.pendingProps,yi.current),(l=p=Xi)&&(p=vf(p,u.pendingProps,Ci),p!==null?(u.stateNode=p,Li=u,Xi=null,l=!0):l=!1),l||It(u)),null;case 13:return Zd(l,u,p);case 4:return At(u,u.stateNode.containerInfo),g=u.pendingProps,l===null?u.child=nl(u,null,g,p):Ui(l,u,g,p),u.child;case 11:return Zo(l,u,u.type,u.pendingProps,p);case 7:return Ui(l,u,u.pendingProps,p),u.child;case 8:return Ui(l,u,u.pendingProps.children,p),u.child;case 12:return Ui(l,u,u.pendingProps.children,p),u.child;case 10:return g=u.pendingProps,Ds(u,u.type,g.value),Ui(l,u,g.children,p),u.child;case 9:return b=u.type._context,g=u.pendingProps.children,Hs(u),b=Di(b),g=g(b),u.flags|=1,Ui(l,u,g,p),u.child;case 14:return Gd(l,u,u.type,u.pendingProps,p);case 15:return Yd(l,u,u.type,u.pendingProps,p);case 19:return Qd(l,u,p);case 22:return Ld(l,u,p);case 24:return Hs(u),g=Di(De),l===null?(b=Nh(),b===null&&(b=Se,A=Ns(),b.pooledCache=A,A.refCount++,A!==null&&(b.pooledCacheLanes|=p),b=A),u.memoizedState={parent:g,cache:b},Q(u),Ds(u,De,b)):((l.lanes&p)!==0&&(nt(l,u),he(u,null,null,p),me()),b=l.memoizedState,A=u.memoizedState,b.parent!==g?(b={parent:g,cache:g},u.memoizedState=b,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=b),Ds(u,De,g)):(g=A.cache,Ds(u,De,g),g!==b.cache&&Cl(u,[De],p,!0))),Ui(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Ds(l,u,p){$i?(N(_s,u._currentValue),u._currentValue=p):(N(_s,u._currentValue2),u._currentValue2=p)}function ts(l){var u=_s.current;$i?l._currentValue=u:l._currentValue2=u,D(_s)}function Ru(l,u,p){for(;l!==null;){var g=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),l===p)break;l=l.return}}function Cl(l,u,p,g){var b=l.child;for(b!==null&&(b.return=l);b!==null;){var A=b.dependencies;if(A!==null){var U=b.child;A=A.firstContext;t:for(;A!==null;){var V=A;A=b;for(var W=0;W<u.length;W++)if(V.context===u[W]){A.lanes|=p,V=A.alternate,V!==null&&(V.lanes|=p),Ru(A.return,p,l),g||(U=null);break t}A=V.next}}else if(b.tag===18){if(U=b.return,U===null)throw Error(r(341));U.lanes|=p,A=U.alternate,A!==null&&(A.lanes|=p),Ru(U,p,l),U=null}else U=b.child;if(U!==null)U.return=b;else for(U=b;U!==null;){if(U===l){U=null;break}if(b=U.sibling,b!==null){b.return=U.return,U=b;break}U=U.return}b=U}}function Bu(l,u,p,g){l=null;for(var b=u,A=!1;b!==null;){if(!A){if((b.flags&524288)!==0)A=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var U=b.alternate;if(U===null)throw Error(r(387));if(U=U.memoizedProps,U!==null){var V=b.type;xn(b.pendingProps.value,U.value)||(l!==null?l.push(V):l=[V])}}else if(b===Yl.current){if(U=b.alternate,U===null)throw Error(r(387));U.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(l!==null?l.push(oa):l=[oa])}b=b.return}l!==null&&Cl(u,l,p,g),u.flags|=262144}function Ou(l){for(l=l.firstContext;l!==null;){var u=l.context;if(!xn($i?u._currentValue:u._currentValue2,l.memoizedValue))return!0;l=l.next}return!1}function Hs(l){ma=l,On=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Di(l){return Hh(ma,l)}function Uu(l,u){return ma===null&&Hs(l),Hh(l,u)}function Hh(l,u){var p=$i?u._currentValue:u._currentValue2;if(u={context:u,memoizedValue:p,next:null},On===null){if(l===null)throw Error(r(308));On=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else On=On.next=u;return p}function Ns(){return{controller:new Fr,data:new Map,refCount:0}}function Du(l){l.refCount--,l.refCount===0&&Vp(Zp,function(){l.controller.abort()})}function Nh(){var l=Na.current;return l!==null?l:Se.pooledCache}function Fo(l,u){u===null?N(Na,Na.current):N(Na,u.pool)}function Gh(){var l=Nh();return l===null?null:{parent:$i?De._currentValue:De._currentValue2,pool:l}}function dn(l){l.flags|=4}function br(l,u){if(l!==null&&l.child===u.child)return!1;if((u.flags&16)!==0)return!0;for(l=u.child;l!==null;){if((l.flags&13878)!==0||(l.subtreeFlags&13878)!==0)return!0;l=l.sibling}return!1}function zl(l,u,p,g){if(mi)for(p=u.child;p!==null;){if(p.tag===5||p.tag===6)$u(l,p.stateNode);else if(!(p.tag===4||Me&&p.tag===27)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else if(Kn)for(var b=u.child;b!==null;){if(b.tag===5){var A=b.stateNode;p&&g&&(A=mf(A,b.type,b.memoizedProps)),$u(l,A)}else if(b.tag===6)A=b.stateNode,p&&g&&(A=yf(A,b.memoizedProps)),$u(l,A);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)A=b.child,A!==null&&(A.return=b),zl(l,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===u)break;for(;b.sibling===null;){if(b.return===null||b.return===u)return;b=b.return}b.sibling.return=b.return,b=b.sibling}}function Kd(l,u,p,g){if(Kn)for(var b=u.child;b!==null;){if(b.tag===5){var A=b.stateNode;p&&g&&(A=mf(A,b.type,b.memoizedProps)),pf(l,A)}else if(b.tag===6)A=b.stateNode,p&&g&&(A=yf(A,b.memoizedProps)),pf(l,A);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)A=b.child,A!==null&&(A.return=b),Kd(l,b,!(b.memoizedProps!==null&&b.memoizedProps.mode==="manual"),!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===u)break;for(;b.sibling===null;){if(b.return===null||b.return===u)return;b=b.return}b.sibling.return=b.return,b=b.sibling}}function Hu(l,u){if(Kn&&br(l,u)){l=u.stateNode;var p=l.containerInfo,g=to();Kd(g,u,!1,!1),l.pendingChildren=g,dn(u),yc(p,g)}}function Ko(l,u,p,g){if(mi)l.memoizedProps!==g&&dn(u);else if(Kn){var b=l.stateNode,A=l.memoizedProps;if((l=br(l,u))||A!==g){var U=yi.current;A=Yr(b,p,A,g,!l,null),A===b?u.stateNode=b:(hs(A,p,g,U)&&dn(u),u.stateNode=A,l?zl(A,u,!1,!1):dn(u))}else u.stateNode=b}}function Po(l,u,p){if(lf(u,p)){if(l.flags|=16777216,!pc(u,p))if(js())l.flags|=8192;else throw tl=oo,uo}else l.flags&=-16777217}function Wo(l,u){if(Hp(u)){if(l.flags|=16777216,!Ul(u))if(js())l.flags|=8192;else throw tl=oo,uo}else l.flags&=-16777217}function Sr(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?pt():536870912,l.lanes|=u,La|=u)}function Ar(l,u){if(!oe)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function qe(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,g=0;if(u)for(var b=l.child;b!==null;)p|=b.lanes|b.childLanes,g|=b.subtreeFlags&31457280,g|=b.flags&31457280,b.return=l,b=b.sibling;else for(b=l.child;b!==null;)p|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=l,b=b.sibling;return l.subtreeFlags|=g,l.childLanes=p,u}function Pd(l,u,p){var g=u.pendingProps;switch(vt(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(u),null;case 1:return qe(u),null;case 3:return p=u.stateNode,g=null,l!==null&&(g=l.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),ts(De),Dt(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(un(u)?dn(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Wn!==null&&(ju(Wn),Wn=null))),Hu(l,u),qe(u),null;case 26:if(Tn){p=u.type;var b=u.memoizedState;return l===null?(dn(u),b!==null?(qe(u),Wo(u,b)):(qe(u),Po(u,p,g))):b?b!==l.memoizedState?(dn(u),qe(u),Wo(u,b)):(qe(u),u.flags&=-16777217):(mi?l.memoizedProps!==g&&dn(u):Ko(l,u,p,g),qe(u),Po(u,p,g)),null}case 27:if(Me){if(Fe(u),p=Oa.current,b=u.type,l!==null&&u.stateNode!=null)mi?l.memoizedProps!==g&&dn(u):Ko(l,u,b,g);else{if(!g){if(u.stateNode===null)throw Error(r(166));return qe(u),null}l=yi.current,un(u)?Si(u,l):(l=ca(b,g,p,l,!0),u.stateNode=l,dn(u))}return qe(u),null}case 5:if(Fe(u),p=u.type,l!==null&&u.stateNode!=null)Ko(l,u,p,g);else{if(!g){if(u.stateNode===null)throw Error(r(166));return qe(u),null}l=yi.current,un(u)?Si(u,l):(b=sf(p,g,Oa.current,l,u),zl(b,u,!1,!1),u.stateNode=b,hs(b,p,g,l)&&dn(u))}return qe(u),Po(u,u.type,u.pendingProps),null;case 6:if(l&&u.stateNode!=null)p=l.memoizedProps,mi?p!==g&&dn(u):Kn&&(p!==g?(u.stateNode=Ee(g,Oa.current,yi.current,u),dn(u)):u.stateNode=l.stateNode);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(l=Oa.current,p=yi.current,un(u)){if(!Yi)throw Error(r(176));if(l=u.stateNode,p=u.memoizedProps,g=null,b=Li,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}xf(l,p,u,g)||It(u)}else u.stateNode=Ee(g,l,p,u)}return qe(u),null;case 13:if(g=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(b=un(u),g!==null&&g.dehydrated!==null){if(l===null){if(!b)throw Error(r(318));if(!Yi)throw Error(r(344));if(b=u.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));zp(b,u)}else Ai(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;qe(u),b=!1}else Wn!==null&&(ju(Wn),Wn=null),b=!0;if(!b)return u.flags&256?(Ea(u),u):(Ea(u),null)}if(Ea(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=g!==null,l=l!==null&&l.memoizedState!==null,p){g=u.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool);var A=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==b&&(g.flags|=2048)}return p!==l&&p&&(u.child.flags|=8192),Sr(u,u.updateQueue),qe(u),null;case 4:return Dt(),Hu(l,u),l===null&&ei(u.stateNode.containerInfo),qe(u),null;case 10:return ts(u.type),qe(u),null;case 19:if(D(gi),b=u.memoizedState,b===null)return qe(u),null;if(g=(u.flags&128)!==0,A=b.rendering,A===null)if(g)Ar(b,!1);else{if(Re!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(A=Cs(l),A!==null){for(u.flags|=128,Ar(b,!1),l=A.updateQueue,u.updateQueue=l,Sr(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)ku(p,l),p=p.sibling;return N(gi,gi.current&1|2),u.child}l=l.sibling}b.tail!==null&&Pn()>Wr&&(u.flags|=128,g=!0,Ar(b,!1),u.lanes=4194304)}else{if(!g)if(l=Cs(A),l!==null){if(u.flags|=128,g=!0,l=l.updateQueue,u.updateQueue=l,Sr(u,l),Ar(b,!0),b.tail===null&&b.tailMode==="hidden"&&!A.alternate&&!oe)return qe(u),null}else 2*Pn()-b.renderingStartTime>Wr&&p!==536870912&&(u.flags|=128,g=!0,Ar(b,!1),u.lanes=4194304);b.isBackwards?(A.sibling=u.child,u.child=A):(l=b.last,l!==null?l.sibling=A:u.child=A,b.last=A)}return b.tail!==null?(u=b.tail,b.rendering=u,b.tail=u.sibling,b.renderingStartTime=Pn(),u.sibling=null,l=gi.current,N(gi,g?l&1|2:l&1),u):(qe(u),null);case 22:case 23:return Ea(u),Ts(),g=u.memoizedState!==null,l!==null?l.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(p&536870912)!==0&&(u.flags&128)===0&&(qe(u),u.subtreeFlags&6&&(u.flags|=8192)):qe(u),p=u.updateQueue,p!==null&&Sr(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048),l!==null&&D(Na),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),ts(De),qe(u),null;case 25:return null}throw Error(r(156,u.tag))}function o0(l,u){switch(vt(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return ts(De),Dt(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Fe(u),null;case 13:if(Ea(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Ai()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return D(gi),null;case 4:return Dt(),null;case 10:return ts(u.type),null;case 22:case 23:return Ea(u),Ts(),l!==null&&D(Na),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return ts(De),null;case 25:return null;default:return null}}function Wd(l,u){switch(vt(u),u.tag){case 3:ts(De),Dt();break;case 26:case 27:case 5:Fe(u);break;case 4:Dt();break;case 13:Ea(u);break;case 19:D(gi);break;case 10:ts(u.type);break;case 22:case 23:Ea(u),Ts(),l!==null&&D(Na);break;case 24:ts(De)}}function Nu(l,u){try{var p=u.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var b=g.next;p=b;do{if((p.tag&l)===l){g=void 0;var A=p.create,U=p.inst;g=A(),U.destroy=g}p=p.next}while(p!==b)}}catch(V){xe(u,u.return,V)}}function Gs(l,u,p){try{var g=u.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var A=b.next;g=A;do{if((g.tag&l)===l){var U=g.inst,V=U.destroy;if(V!==void 0){U.destroy=void 0,b=u;var W=p;try{V()}catch(ct){xe(b,W,ct)}}}g=g.next}while(g!==A)}}catch(ct){xe(u,u.return,ct)}}function Id(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{dh(u,p)}catch(g){xe(l,l.return,g)}}}function pn(l,u,p){p.props=Ja(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(g){xe(l,u,g)}}function la(l,u){try{var p=l.ref;if(p!==null){var g=l.stateNode;switch(l.tag){case 26:case 27:case 5:var b=Hr(g);break;default:b=g}typeof p=="function"?l.refCleanup=p(b):p.current=b}}catch(A){xe(l,u,A)}}function mn(l,u){var p=l.ref,g=l.refCleanup;if(p!==null)if(typeof g=="function")try{g()}catch(b){xe(l,u,b)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(b){xe(l,u,b)}else p.current=null}function Yh(l){var u=l.type,p=l.memoizedProps,g=l.stateNode;try{d0(g,u,p,l)}catch(b){xe(l,l.return,b)}}function Lh(l,u,p){try{pp(l.stateNode,l.type,p,u,l)}catch(g){xe(l,l.return,g)}}function Xh(l){return l.tag===5||l.tag===3||(Tn?l.tag===26:!1)||(Me?l.tag===27:!1)||l.tag===4}function Gu(l){t:for(;;){for(;l.sibling===null;){if(l.return===null||Xh(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&(!Me||l.tag!==27)&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue t;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function qh(l,u,p){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?yp(p,l,u):hf(p,l);else if(!(g===4||Me&&g===27)&&(l=l.child,l!==null))for(qh(l,u,p),l=l.sibling;l!==null;)qh(l,u,p),l=l.sibling}function es(l,u,p){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?mp(p,l,u):fp(p,l);else if(!(g===4||Me&&g===27)&&(l=l.child,l!==null))for(es(l,u,p),l=l.sibling;l!==null;)es(l,u,p),l=l.sibling}function Io(l,u,p){l=l.containerInfo;try{Lr(l,p)}catch(g){xe(u,u.return,g)}}function Yu(l,u){for(fc(l.containerInfo),kt=u;kt!==null;)if(l=kt,u=l.child,(l.subtreeFlags&1028)!==0&&u!==null)u.return=l,kt=u;else for(;kt!==null;){l=kt;var p=l.alternate;switch(u=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&p!==null){u=void 0;var g=l,b=p.memoizedProps;p=p.memoizedState;var A=g.stateNode;try{var U=Ja(g.type,b,g.elementType===g.type);u=A.getSnapshotBeforeUpdate(U,p),A.__reactInternalSnapshotBeforeUpdate=u}catch(V){xe(g,g.return,V)}}break;case 3:(u&1024)!==0&&mi&&bp(l.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=l.sibling,u!==null){u.return=l.return,kt=u;break}kt=l.return}return U=ee,ee=!1,U}function Jo(l,u,p){var g=p.flags;switch(p.tag){case 0:case 11:case 15:ns(l,p),g&4&&Nu(5,p);break;case 1:if(ns(l,p),g&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch(V){xe(p,p.return,V)}else{var b=Ja(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(b,u,l.__reactInternalSnapshotBeforeUpdate)}catch(V){xe(p,p.return,V)}}g&64&&Id(p),g&512&&la(p,p.return);break;case 3:if(ns(l,p),g&64&&(g=p.updateQueue,g!==null)){if(l=null,p.child!==null)switch(p.child.tag){case 27:case 5:l=Hr(p.child.stateNode);break;case 1:l=p.child.stateNode}try{dh(g,l)}catch(V){xe(p,p.return,V)}}break;case 26:if(Tn){ns(l,p),g&512&&la(p,p.return);break}case 27:case 5:ns(l,p),u===null&&g&4&&Yh(p),g&512&&la(p,p.return);break;case 12:ns(l,p);break;case 13:ns(l,p),g&4&&$o(l,p);break;case 22:if(b=p.memoizedState!==null||Ga,!b){u=u!==null&&u.memoizedState!==null||Ie;var A=Ga,U=Ie;Ga=b,(Ie=u)&&!U?as(l,p,(p.subtreeFlags&8772)!==0):ns(l,p),Ga=A,Ie=U}g&512&&(p.memoizedProps.mode==="manual"?la(p,p.return):mn(p,p.return));break;default:ns(l,p)}}function jh(l){var u=l.alternate;u!==null&&(l.alternate=null,jh(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&f0(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Hi(l,u,p){for(p=p.child;p!==null;)Ys(l,u,p),p=p.sibling}function Ys(l,u,p){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(ni,p)}catch{}switch(p.tag){case 26:if(Tn){Ie||mn(p,u),Hi(l,u,p),p.memoizedState?Ol(p.memoizedState):p.stateNode&&Xr(p.stateNode);break}case 27:if(Me){Ie||mn(p,u);var g=Ot,b=Wt;Ot=p.stateNode,Hi(l,u,p),Is(p.stateNode),Ot=g,Wt=b;break}case 5:Ie||mn(p,u);case 6:if(mi){if(g=Ot,b=Wt,Ot=null,Hi(l,u,p),Ot=g,Wt=b,Ot!==null)if(Wt)try{gp(Ot,p.stateNode)}catch(A){xe(p,u,A)}else try{ff(Ot,p.stateNode)}catch(A){xe(p,u,A)}}else Hi(l,u,p);break;case 18:mi&&Ot!==null&&(Wt?eo(Ot,p.stateNode):Bp(Ot,p.stateNode));break;case 4:mi?(g=Ot,b=Wt,Ot=p.stateNode.containerInfo,Wt=!0,Hi(l,u,p),Ot=g,Wt=b):(Kn&&Io(p.stateNode,p,to()),Hi(l,u,p));break;case 0:case 11:case 14:case 15:Ie||Gs(2,p,u),Ie||Gs(4,p,u),Hi(l,u,p);break;case 1:Ie||(mn(p,u),g=p.stateNode,typeof g.componentWillUnmount=="function"&&pn(p,u,g)),Hi(l,u,p);break;case 21:Hi(l,u,p);break;case 22:Ie||mn(p,u),Ie=(g=Ie)||p.memoizedState!==null,Hi(l,u,p),Ie=g;break;default:Hi(l,u,p)}}function $o(l,u){if(Yi&&u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{g0(l)}catch(p){xe(u,u.return,p)}}function Jd(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new be),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new be),u;default:throw Error(r(435,l.tag))}}function is(l,u){var p=Jd(l);u.forEach(function(g){var b=ks.bind(null,l,g);p.has(g)||(p.add(g),g.then(b,b))})}function Ii(l,u){var p=u.deletions;if(p!==null)for(var g=0;g<p.length;g++){var b=p[g],A=l,U=u;if(mi){var V=U;t:for(;V!==null;){switch(V.tag){case 27:case 5:Ot=V.stateNode,Wt=!1;break t;case 3:Ot=V.stateNode.containerInfo,Wt=!0;break t;case 4:Ot=V.stateNode.containerInfo,Wt=!0;break t}V=V.return}if(Ot===null)throw Error(r(160));Ys(A,U,b),Ot=null,Wt=!1}else Ys(A,U,b);A=b.alternate,A!==null&&(A.return=null),b.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)Vh(u,l),u=u.sibling}function Vh(l,u){var p=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ii(u,l),yn(l),g&4&&(Gs(3,l,l.return),Nu(3,l),Gs(5,l,l.return));break;case 1:Ii(u,l),yn(l),g&512&&(Ie||p===null||mn(p,p.return)),g&64&&Ga&&(l=l.updateQueue,l!==null&&(g=l.callbacks,g!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?g:p.concat(g))));break;case 26:if(Tn){var b=ke;Ii(u,l),yn(l),g&512&&(Ie||p===null||mn(p,p.return)),g&4&&(g=p!==null?p.memoizedState:null,u=l.memoizedState,p===null?u===null?l.stateNode===null?l.stateNode=no(b,l.type,l.memoizedProps,l):ao(b,l.type,l.stateNode):l.stateNode=Up(b,u,l.memoizedProps):g!==u?(g===null?p.stateNode!==null&&Xr(p.stateNode):Ol(g),u===null?ao(b,l.type,l.stateNode):Up(b,u,l.memoizedProps)):u===null&&l.stateNode!==null&&Lh(l,l.memoizedProps,p.memoizedProps));break}case 27:if(Me&&g&4&&l.alternate===null){b=l.stateNode;var A=l.memoizedProps;try{Ws(b),Gp(l.type,A,b,l)}catch(bt){xe(l,l.return,bt)}}case 5:if(Ii(u,l),yn(l),g&512&&(Ie||p===null||mn(p,p.return)),mi){if(l.flags&32){u=l.stateNode;try{df(u)}catch(bt){xe(l,l.return,bt)}}g&4&&l.stateNode!=null&&(u=l.memoizedProps,Lh(l,u,p!==null?p.memoizedProps:u)),g&1024&&(wf=!0)}break;case 6:if(Ii(u,l),yn(l),g&4&&mi){if(l.stateNode===null)throw Error(r(162));g=l.memoizedProps,p=p!==null?p.memoizedProps:g,u=l.stateNode;try{dp(u,p,g)}catch(bt){xe(l,l.return,bt)}}break;case 3:if(Tn?(Dp(),b=ke,ke=Sc(u.containerInfo),Ii(u,l),ke=b):Ii(u,l),yn(l),g&4){if(mi&&Yi&&p!==null&&p.memoizedState.isDehydrated)try{y0(u.containerInfo)}catch(bt){xe(l,l.return,bt)}if(Kn){g=u.containerInfo,p=u.pendingChildren;try{Lr(g,p)}catch(bt){xe(l,l.return,bt)}}}wf&&(wf=!1,$d(l));break;case 4:Tn?(p=ke,ke=Sc(l.stateNode.containerInfo),Ii(u,l),yn(l),ke=p):(Ii(u,l),yn(l)),g&4&&Kn&&Io(l.stateNode,l,l.stateNode.pendingChildren);break;case 12:Ii(u,l),yn(l);break;case 13:Ii(u,l),yn(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(an=Pn()),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,is(l,g)));break;case 22:g&512&&(Ie||p===null||mn(p,p.return)),b=l.memoizedState!==null;var U=p!==null&&p.memoizedState!==null,V=Ga,W=Ie;if(Ga=V||b,Ie=W||U,Ii(u,l),Ie=W,Ga=V,yn(l),u=l.stateNode,u._current=l,u._visibility&=-3,u._visibility|=u._pendingVisibility&2,g&8192&&(u._visibility=b?u._visibility&-2:u._visibility|1,b&&(u=Ga||Ie,p===null||U||u||Er(l)),mi&&(l.memoizedProps===null||l.memoizedProps.mode!=="manual"))){t:if(p=null,mi)for(u=l;;){if(u.tag===5||Tn&&u.tag===26||Me&&u.tag===27){if(p===null){U=p=u;try{A=U.stateNode,b?_p(A):xp(U.stateNode,U.memoizedProps)}catch(bt){xe(U,U.return,bt)}}}else if(u.tag===6){if(p===null){U=u;try{var ct=U.stateNode;b?vp(ct):p0(ct,U.memoizedProps)}catch(bt){xe(U,U.return,bt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break t;for(;u.sibling===null;){if(u.return===null||u.return===l)break t;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}}g&4&&(g=l.updateQueue,g!==null&&(p=g.retryQueue,p!==null&&(g.retryQueue=null,is(l,p))));break;case 19:Ii(u,l),yn(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,is(l,g)));break;case 21:break;default:Ii(u,l),yn(l)}}function yn(l){var u=l.flags;if(u&2){try{if(mi&&(!Me||l.tag!==27)){t:{for(var p=l.return;p!==null;){if(Xh(p)){var g=p;break t}p=p.return}throw Error(r(160))}switch(g.tag){case 27:if(Me){var b=g.stateNode,A=Gu(l);es(l,A,b);break}case 5:var U=g.stateNode;g.flags&32&&(df(U),g.flags&=-33);var V=Gu(l);es(l,V,U);break;case 3:case 4:var W=g.stateNode.containerInfo,ct=Gu(l);qh(l,ct,W);break;default:throw Error(r(161))}}}catch(bt){xe(l,l.return,bt)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function $d(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;$d(u),u.tag===5&&u.flags&1024&&mc(u.stateNode),l=l.sibling}}function ns(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Jo(l,u.alternate,u),u=u.sibling}function Er(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Gs(4,u,u.return),Er(u);break;case 1:mn(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&pn(u,u.return,p),Er(u);break;case 26:case 27:case 5:mn(u,u.return),Er(u);break;case 22:mn(u,u.return),u.memoizedState===null&&Er(u);break;default:Er(u)}l=l.sibling}}function as(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,b=l,A=u,U=A.flags;switch(A.tag){case 0:case 11:case 15:as(b,A,p),Nu(4,A);break;case 1:if(as(b,A,p),g=A,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ct){xe(g,g.return,ct)}if(g=A,b=g.updateQueue,b!==null){var V=g.stateNode;try{var W=b.shared.hiddenCallbacks;if(W!==null)for(b.shared.hiddenCallbacks=null,b=0;b<W.length;b++)fh(W[b],V)}catch(ct){xe(g,g.return,ct)}}p&&U&64&&Id(A),la(A,A.return);break;case 26:case 27:case 5:as(b,A,p),p&&g===null&&U&4&&Yh(A),la(A,A.return);break;case 12:as(b,A,p);break;case 13:as(b,A,p),p&&U&4&&$o(b,A);break;case 22:A.memoizedState===null&&as(b,A,p),la(A,A.return);break;default:as(b,A,p)}u=u.sibling}}function tc(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&Du(p))}function Lu(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Du(l))}function wi(l,u,p,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Zh(l,u,p,g),u=u.sibling}function Zh(l,u,p,g){var b=u.flags;switch(u.tag){case 0:case 11:case 15:wi(l,u,p,g),b&2048&&Nu(9,u);break;case 3:wi(l,u,p,g),b&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Du(l)));break;case 12:if(b&2048){wi(l,u,p,g),l=u.stateNode;try{var A=u.memoizedProps,U=A.id,V=A.onPostCommit;typeof V=="function"&&V(U,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(W){xe(u,u.return,W)}}else wi(l,u,p,g);break;case 23:break;case 22:A=u.stateNode,u.memoizedState!==null?A._visibility&4?wi(l,u,p,g):Vi(l,u):A._visibility&4?wi(l,u,p,g):(A._visibility|=4,Ni(l,u,p,g,(u.subtreeFlags&10256)!==0)),b&2048&&tc(u.alternate,u);break;case 24:wi(l,u,p,g),b&2048&&Lu(u.alternate,u);break;default:wi(l,u,p,g)}}function Ni(l,u,p,g,b){for(b=b&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var A=l,U=u,V=p,W=g,ct=U.flags;switch(U.tag){case 0:case 11:case 15:Ni(A,U,V,W,b),Nu(8,U);break;case 23:break;case 22:var bt=U.stateNode;U.memoizedState!==null?bt._visibility&4?Ni(A,U,V,W,b):Vi(A,U):(bt._visibility|=4,Ni(A,U,V,W,b)),b&&ct&2048&&tc(U.alternate,U);break;case 24:Ni(A,U,V,W,b),b&&ct&2048&&Lu(U.alternate,U);break;default:Ni(A,U,V,W,b)}u=u.sibling}}function Vi(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,g=u,b=g.flags;switch(g.tag){case 22:Vi(p,g),b&2048&&tc(g.alternate,g);break;case 24:Vi(p,g),b&2048&&Lu(g.alternate,g);break;default:Vi(p,g)}u=u.sibling}}function Vn(l){if(l.subtreeFlags&Un)for(l=l.child;l!==null;)ec(l),l=l.sibling}function ec(l){switch(l.tag){case 26:Vn(l),l.flags&Un&&(l.memoizedState!==null?Np(ke,l.memoizedState,l.memoizedProps):tn(l.type,l.memoizedProps));break;case 5:Vn(l),l.flags&Un&&tn(l.type,l.memoizedProps);break;case 3:case 4:if(Tn){var u=ke;ke=Sc(l.stateNode.containerInfo),Vn(l),ke=u}else Vn(l);break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=Un,Un=16777216,Vn(l),Un=u):Vn(l));break;default:Vn(l)}}function Xu(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Ls(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];kt=g,kh(g,l)}Xu(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ic(l),l=l.sibling}function ic(l){switch(l.tag){case 0:case 11:case 15:Ls(l),l.flags&2048&&Gs(9,l,l.return);break;case 3:Ls(l);break;case 12:Ls(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&4&&(l.return===null||l.return.tag!==13)?(u._visibility&=-5,ss(l)):Ls(l);break;default:Ls(l)}}function ss(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];kt=g,kh(g,l)}Xu(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Gs(8,u,u.return),ss(u);break;case 22:p=u.stateNode,p._visibility&4&&(p._visibility&=-5,ss(u));break;default:ss(u)}l=l.sibling}}function kh(l,u){for(;kt!==null;){var p=kt;switch(p.tag){case 0:case 11:case 15:Gs(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var g=p.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Du(p.memoizedState.cache)}if(g=p.child,g!==null)g.return=p,kt=g;else t:for(p=l;kt!==null;){g=kt;var b=g.sibling,A=g.return;if(jh(g),g===p){kt=null;break t}if(b!==null){b.return=A,kt=b;break t}kt=A}}}function wr(l){var u=sp(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(r(364));return u}if(l=of(l),l===null)throw Error(r(362));return l.stateNode.current}function Xs(l,u){var p=l.tag;switch(u.$$typeof){case Pr:if(l.type===u.value)return!0;break;case $n:t:{for(u=u.value,l=[l,0],p=0;p<l.length;){var g=l[p++],b=g.tag,A=l[p++],U=u[A];if(b!==5&&b!==26&&b!==27||!Gr(g)){for(;U!=null&&Xs(g,U);)A++,U=u[A];if(A===u.length){u=!0;break t}else for(g=g.child;g!==null;)l.push(g,A),g=g.sibling}}u=!1}return u;case Ge:if((p===5||p===26||p===27)&&op(l.stateNode,u.value))return!0;break;case Ya:if((p===5||p===6||p===26||p===27)&&(l=up(l),l!==null&&0<=l.indexOf(u.value)))return!0;break;case ya:if((p===5||p===26||p===27)&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Qh(l){switch(l.$$typeof){case Pr:return"<"+(f(l.value)||"Unknown")+">";case $n:return":has("+(Qh(l)||"")+")";case Ge:return'[role="'+l.value+'"]';case Ya:return'"'+l.value+'"';case ya:return'[data-testname="'+l.value+'"]';default:throw Error(r(365))}}function gn(l,u){var p=[];l=[l,0];for(var g=0;g<l.length;){var b=l[g++],A=b.tag,U=l[g++],V=u[U];if(A!==5&&A!==26&&A!==27||!Gr(b)){for(;V!=null&&Xs(b,V);)U++,V=u[U];if(U===u.length)p.push(b);else for(b=b.child;b!==null;)l.push(b,U),b=b.sibling}}return p}function qu(l,u){if(!Ps)throw Error(r(363));l=wr(l),l=gn(l,u),u=[],l=Array.from(l);for(var p=0;p<l.length;){var g=l[p++],b=g.tag;if(b===5||b===26||b===27)Gr(g)||u.push(g.stateNode);else for(g=g.child;g!==null;)l.push(g),g=g.sibling}return u}function ti(){if((de&2)!==0&&ne!==0)return ne&-ne;if(Lt.T!==null){var l=zn;return l!==0?l:B()}return lp()}function Fh(){Nn===0&&(Nn=(ne&536870912)===0||oe?gt():536870912);var l=Rn.current;return l!==null&&(l.flags|=32),Nn}function Ti(l,u,p){(l===Se&&Te===2||l.cancelPendingCommit!==null)&&(Gi(l,0),_n(l,ne,Nn,!1)),ot(l,p),((de&2)===0||l!==Se)&&(l===Se&&((de&2)===0&&(vs|=p),Re===4&&_n(l,ne,Nn,!1)),cn(l))}function qs(l,u,p){if((de&6)!==0)throw Error(r(327));var g=!p&&(u&60)===0&&(u&l.expiredLanes)===0||tt(l,u),b=g?Ph(l,u):ac(l,u,!0),A=g;do{if(b===0){Dn&&!g&&_n(l,u,0,!1);break}else if(b===6)_n(l,u,0,!ea);else{if(p=l.current.alternate,A&&!Tr(p)){b=ac(l,u,!1),A=!1;continue}if(b===2){if(A=u,l.errorRecoveryDisabledLanes&A)var U=0;else U=l.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){u=U;t:{var V=l;b=Fl;var W=Yi&&V.current.memoizedState.isDehydrated;if(W&&(Gi(V,U).flags|=256),U=ac(V,U,!1),U!==2){if(_i&&!W){V.errorRecoveryDisabledLanes|=A,vs|=A,b=4;break t}A=Je,Je=b,A!==null&&ju(A)}b=U}if(A=!1,b!==2)continue}}if(b===1){Gi(l,0),_n(l,u,0,!0);break}t:{switch(g=l,b){case 0:case 1:throw Error(r(345));case 4:if((u&4194176)===u){_n(g,u,Nn,!ea);break t}break;case 2:Je=null;break;case 3:case 5:break;default:throw Error(r(329))}if(g.finishedWork=p,g.finishedLanes=u,(u&62914560)===u&&(A=an+300-Pn(),10<A)){if(_n(g,u,Nn,!ea),F(g,0)!==0)break t;g.timeoutHandle=ci(nc.bind(null,g,p,Je,ho,Uc,u,Nn,vs,La,ea,2,-0,0),A);break t}nc(g,p,Je,ho,Uc,u,Nn,vs,La,ea,0,-0,0)}}break}while(!0);cn(l)}function ju(l){Je===null?Je=l:Je.push.apply(Je,l)}function nc(l,u,p,g,b,A,U,V,W,ct,bt,St,Et){var Qt=u.subtreeFlags;if((Qt&8192||(Qt&16785408)===16785408)&&(rf(),ec(u),u=hi(),u!==null)){l.cancelPendingCommit=u(Vs.bind(null,l,p,g,b,U,V,W,1,St,Et)),_n(l,A,U,!ct);return}Vs(l,p,g,b,U,V,W,bt,St,Et)}function Tr(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var g=0;g<p.length;g++){var b=p[g],A=b.getSnapshot;b=b.value;try{if(!xn(A(),b))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function _n(l,u,p,g){u&=~co,u&=~vs,l.suspendedLanes|=u,l.pingedLanes&=~u,g&&(l.warmLanes|=u),g=l.expirationTimes;for(var b=u;0<b;){var A=31-en(b),U=1<<A;g[A]=-1,b&=~U}p!==0&&jt(l,p,u)}function Vu(){return(de&6)===0?(hn(0),!1):!0}function Mr(){if(Ht!==null){if(Te===0)var l=Ht.return;else l=Ht,On=ma=null,Wa(l),el=null,il=0,l=Ht;for(;l!==null;)Wd(l.alternate,l),l=l.return;Ht=null}}function Gi(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;p!==Fs&&(l.timeoutHandle=Fs,dc(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),Mr(),Se=l,Ht=p=kn(l.current,null),ne=u,Te=0,ki=null,ea=!1,Dn=tt(l,u),_i=!1,La=Nn=co=vs=Hn=Re=0,Je=Fl=null,Uc=!1,(u&8)!==0&&(u|=u&32);var g=l.entangledLanes;if(g!==0)for(l=l.entanglements,g&=u;0<g;){var b=31-en(g),A=1<<b;u|=l[b],g&=~A}return Qi=u,ri(),p}function An(l,u){Jt=null,Lt.H=We,u===kr?(u=mh(),Te=3):u===uo?(u=mh(),Te=4):Te=u===Bc?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ki=u,Ht===null&&(Re=1,_r(l,_t(u,l.current)))}function js(){var l=Rn.current;return l===null?!0:(ne&4194176)===ne?Ce===null:(ne&62914560)===ne||(ne&536870912)!==0?l===Ce:!1}function Ta(){var l=Lt.H;return Lt.H=We,l===null?We:l}function Ma(){var l=Lt.A;return Lt.A=Kr,l}function ls(){Re=4,ea||(ne&4194176)!==ne&&Rn.current!==null||(Dn=!0),(Hn&134217727)===0&&(vs&134217727)===0||Se===null||_n(Se,ne,Nn,!1)}function ac(l,u,p){var g=de;de|=2;var b=Ta(),A=Ma();(Se!==l||ne!==u)&&(ho=null,Gi(l,u)),u=!1;var U=Re;t:do try{if(Te!==0&&Ht!==null){var V=Ht,W=ki;switch(Te){case 8:Mr(),U=6;break t;case 3:case 2:case 6:Rn.current===null&&(u=!0);var ct=Te;if(Te=0,ki=null,Zn(l,V,W,ct),p&&Dn){U=0;break t}break;default:ct=Te,Te=0,ki=null,Zn(l,V,W,ct)}}Kh(),U=Re;break}catch(bt){An(l,bt)}while(!0);return u&&l.shellSuspendCounter++,On=ma=null,de=g,Lt.H=b,Lt.A=A,Ht===null&&(Se=null,ne=0,ri()),U}function Kh(){for(;Ht!==null;)Ze(Ht)}function Ph(l,u){var p=de;de|=2;var g=Ta(),b=Ma();Se!==l||ne!==u?(ho=null,Wr=Pn()+500,Gi(l,u)):Dn=tt(l,u);t:do try{if(Te!==0&&Ht!==null){u=Ht;var A=ki;e:switch(Te){case 1:Te=0,ki=null,Zn(l,u,A,1);break;case 2:if(or(A)){Te=0,ki=null,ye(u);break}u=function(){Te===2&&Se===l&&(Te=7),cn(l)},A.then(u,u);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:or(A)?(Te=0,ki=null,ye(u)):(Te=0,ki=null,Zn(l,u,A,7));break;case 5:var U=null;switch(Ht.tag){case 26:U=Ht.memoizedState;case 5:case 27:var V=Ht,W=V.type,ct=V.pendingProps;if(U?Ul(U):pc(W,ct)){Te=0,ki=null;var bt=V.sibling;if(bt!==null)Ht=bt;else{var St=V.return;St!==null?(Ht=St,En(St)):Ht=null}break e}}Te=0,ki=null,Zn(l,u,A,5);break;case 6:Te=0,ki=null,Zn(l,u,A,6);break;case 8:Mr(),Re=6;break t;default:throw Error(r(462))}}Ji();break}catch(Et){An(l,Et)}while(!0);return On=ma=null,Lt.H=g,Lt.A=b,de=p,Ht!==null?0:(Se=null,ne=0,ri(),Re)}function Ji(){for(;Ht!==null&&!Xp();)Ze(Ht)}function Ze(l){var u=Fd(l.alternate,l,Qi);l.memoizedProps=l.pendingProps,u===null?En(l):Ht=u}function ye(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=qd(p,u,u.pendingProps,u.type,void 0,ne);break;case 11:u=qd(p,u,u.pendingProps,u.type.render,u.ref,ne);break;case 5:Wa(u);default:Wd(p,u),u=Ht=ku(u,Qi),u=Fd(p,u,Qi)}l.memoizedProps=l.pendingProps,u===null?En(l):Ht=u}function Zn(l,u,p,g){On=ma=null,Wa(u),el=null,il=0;var b=u.return;try{if(r0(l,b,u,p,ne)){Re=1,_r(l,_t(p,l.current)),Ht=null;return}}catch(A){if(b!==null)throw Ht=b,A;Re=1,_r(l,_t(p,l.current)),Ht=null;return}u.flags&32768?(oe||g===1?l=!0:Dn||(ne&536870912)!==0?l=!1:(ea=l=!0,(g===2||g===3||g===6)&&(g=Rn.current,g!==null&&g.tag===13&&(g.flags|=16384))),sc(u,l)):En(u)}function En(l){var u=l;do{if((u.flags&32768)!==0){sc(u,ea);return}l=u.return;var p=Pd(u.alternate,u,Qi);if(p!==null){Ht=p;return}if(u=u.sibling,u!==null){Ht=u;return}Ht=u=l}while(u!==null);Re===0&&(Re=5)}function sc(l,u){do{var p=o0(l.alternate,l);if(p!==null){p.flags&=32767,Ht=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){Ht=l;return}Ht=l=p}while(l!==null);Re=6,Ht=null}function Vs(l,u,p,g,b,A,U,V,W,ct){var bt=Lt.T,St=fs();try{Zi(2),Lt.T=null,tp(l,u,p,g,St,b,A,U,V,W,ct)}finally{Lt.T=bt,Zi(St)}}function tp(l,u,p,g,b,A,U,V){do ra();while(Xa!==null);if((de&6)!==0)throw Error(r(327));var W=l.finishedWork;if(g=l.finishedLanes,W===null)return null;if(l.finishedWork=null,l.finishedLanes=0,W===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0,l.cancelPendingCommit=null;var ct=W.lanes|W.childLanes;if(ct|=da,Tt(l,g,ct,A,U,V),l===Se&&(Ht=Se=null,ne=0),(W.subtreeFlags&10256)===0&&(W.flags&10256)===0||ga||(ga=!0,rl=ct,Dc=p,us(Mc,function(){return ra(),null})),p=(W.flags&15990)!==0,(W.subtreeFlags&15990)!==0||p?(p=Lt.T,Lt.T=null,A=fs(),Zi(2),U=de,de|=4,Yu(l,W),Vh(W,l),ap(l.containerInfo),l.current=W,Jo(l,W.alternate,W),wc(),de=U,Zi(A),Lt.T=p):l.current=W,ga?(ga=!1,Xa=l,Kl=g):Wh(l,ct),ct=l.pendingLanes,ct===0&&(ll=null),q(W.stateNode),cn(l),u!==null)for(b=l.onRecoverableError,W=0;W<u.length;W++)ct=u[W],b(ct.value,{componentStack:ct.stack});return(Kl&3)!==0&&ra(),ct=l.pendingLanes,(g&4194218)!==0&&(ct&42)!==0?l===Hc?Ir++:(Ir=0,Hc=l):Ir=0,hn(0),null}function Wh(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,Du(u)))}function ra(){if(Xa!==null){var l=Xa,u=rl;rl=0;var p=$t(Kl),g=32>p?32:p;p=Lt.T;var b=fs();try{if(Zi(g),Lt.T=null,Xa===null)var A=!1;else{g=Dc,Dc=null;var U=Xa,V=Kl;if(Xa=null,Kl=0,(de&6)!==0)throw Error(r(331));var W=de;if(de|=4,ic(U.current),Zh(U,U.current,V,g),de=W,hn(0,!1),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(ni,U)}catch{}A=!0}return A}finally{Zi(b),Lt.T=p,Wh(l,u)}}return!1}function Cr(l,u,p){u=_t(p,u),u=xr(l.stateNode,u,2),l=Nt(l,u,2),l!==null&&(ot(l,2),cn(l))}function xe(l,u,p){if(l.tag===3)Cr(l,l,p);else for(;u!==null;){if(u.tag===3){Cr(u,l,p);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ll===null||!ll.has(g))){l=_t(p,l),p=zh(2),g=Nt(u,p,2),g!==null&&(Nd(p,g,u,l),ot(g,2),cn(g));break}}u=u.return}}function Rl(l,u,p){var g=l.pingCache;if(g===null){g=l.pingCache=new ta;var b=new Set;g.set(u,b)}else b=g.get(u),b===void 0&&(b=new Set,g.set(u,b));b.has(p)||(_i=!0,b.add(p),l=Ih.bind(null,l,u,p),u.then(l,l))}function Ih(l,u,p){var g=l.pingCache;g!==null&&g.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Se===l&&(ne&p)===p&&(Re===4||Re===3&&(ne&62914560)===ne&&300>Pn()-an?(de&2)===0&&Gi(l,0):co|=p,La===ne&&(La=0)),cn(l)}function Zs(l,u){u===0&&(u=pt()),l=Xe(l,u),l!==null&&(ot(l,u),cn(l))}function rs(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),Zs(l,p)}function ks(l,u){var p=0;switch(l.tag){case 13:var g=l.stateNode,b=l.memoizedState;b!==null&&(p=b.retryLane);break;case 19:g=l.stateNode;break;case 22:g=l.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),Zs(l,p)}function us(l,u){return so(l,u)}function Jh(l,u,p,g){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zu(l){return l=l.prototype,!(!l||!l.isReactComponent)}function kn(l,u){var p=l.alternate;return p===null?(p=e(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&31457280,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function ku(l,u){l.flags&=31457282;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Ca(l,u,p,g,b,A){var U=0;if(g=l,typeof l=="function")Zu(l)&&(U=1);else if(typeof l=="string")U=Tn&&Me?io(l,p,yi.current)?26:Ra(l)?27:5:Tn?io(l,p,yi.current)?26:5:Me&&Ra(l)?27:5;else t:switch(l){case Qs:return Pe(p.children,b,A,u);case Pu:U=8,b|=24;break;case oc:return l=e(12,p,u,b|2),l.elementType=oc,l.lanes=A,l;case cc:return l=e(13,p,u,b),l.elementType=cc,l.lanes=A,l;case Or:return l=e(19,p,u,b),l.elementType=Or,l.lanes=A,l;case ef:return Qu(p,b,A,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case Wu:case ua:U=10;break t;case tf:U=9;break t;case Iu:U=11;break t;case hc:U=14;break t;case Fn:U=16,g=null;break t}U=29,p=Error(r(130,l===null?"null":typeof l,"")),g=null}return u=e(U,p,u,b),u.elementType=l,u.type=g,u.lanes=A,u}function Pe(l,u,p,g){return l=e(7,l,g,u),l.lanes=p,l}function Qu(l,u,p,g){l=e(22,l,g,u),l.elementType=ef,l.lanes=p;var b={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var A=b._current;if(A===null)throw Error(r(456));if((b._pendingVisibility&2)===0){var U=Xe(A,2);U!==null&&(b._pendingVisibility|=2,Ti(U,A,2))}},attach:function(){var A=b._current;if(A===null)throw Error(r(456));if((b._pendingVisibility&2)!==0){var U=Xe(A,2);U!==null&&(b._pendingVisibility&=-3,Ti(U,A,2))}}};return l.stateNode=b,l}function lc(l,u,p){return l=e(6,l,null,u),l.lanes=p,l}function $h(l,u,p){return u=e(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function c0(l,u,p,g,b,A,U,V){this.tag=1,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Fs,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rt(0),this.hiddenUpdates=rt(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=A,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function ep(l,u,p,g,b,A,U,V,W,ct,bt,St){return l=new c0(l,u,p,U,V,W,ct,St),u=1,A===!0&&(u|=24),A=e(3,null,null,u),l.current=A,A.stateNode=l,u=Ns(),u.refCount++,l.pooledCache=u,u.refCount++,A.memoizedState={element:g,isDehydrated:p,cache:u},Q(A),l}function oi(l){return l?(l=Js,l):Js}function rc(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=w(u),l=l!==null?z(l):null,l===null?null:Hr(l.stateNode)}function zr(l,u,p,g,b,A){b=oi(b),g.context===null?g.context=b:g.pendingContext=b,g=ut(u),g.payload={element:p},A=A===void 0?null:A,A!==null&&(g.callback=A),p=Nt(l,g,u),p!==null&&(Ti(p,l,u),ue(p,l,u))}function Rr(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function Fu(l,u){Rr(l,u),(l=l.alternate)&&Rr(l,u)}var Ft={},Br=Wm(),wn=d3(),uc=Object.assign,h0=Symbol.for("react.element"),Ku=Symbol.for("react.transitional.element"),Qn=Symbol.for("react.portal"),Qs=Symbol.for("react.fragment"),Pu=Symbol.for("react.strict_mode"),oc=Symbol.for("react.profiler"),Wu=Symbol.for("react.provider"),tf=Symbol.for("react.consumer"),ua=Symbol.for("react.context"),Iu=Symbol.for("react.forward_ref"),cc=Symbol.for("react.suspense"),Or=Symbol.for("react.suspense_list"),hc=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),ef=Symbol.for("react.offscreen"),ip=Symbol.for("react.memo_cache_sentinel"),os=Symbol.iterator,nf=Symbol.for("react.client.reference"),Lt=Br.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,za,cs,Bl=!1,Ur=Array.isArray,af=t.rendererVersion,Ju=t.rendererPackageName,Dr=t.extraDevToolsConfig,Hr=t.getPublicInstance,np=t.getRootHostContext,Nr=t.getChildHostContext,fc=t.prepareForCommit,ap=t.resetAfterCommit,sf=t.createInstance,$u=t.appendInitialChild,hs=t.finalizeInitialChildren,Kt=t.shouldSetTextContent,Ee=t.createTextInstance,ci=t.scheduleTimeout,dc=t.cancelTimeout,Fs=t.noTimeout,$i=t.isPrimaryRenderer;t.warnsIfNotActing;var mi=t.supportsMutation,Kn=t.supportsPersistence,Yi=t.supportsHydration,sp=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var ei=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var Zi=t.setCurrentUpdatePriority,fs=t.getCurrentUpdatePriority,lp=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var rp=t.shouldAttemptEagerTransition,f0=t.detachDeletedInstance;t.requestPostPaintCallback;var lf=t.maySuspendCommit,pc=t.preloadInstance,rf=t.startSuspendingCommit,tn=t.suspendInstance,hi=t.waitForCommitToBeReady,Ks=t.NotPendingTransition,oa=t.HostTransitionContext,mc=t.resetFormInstance;t.bindToConsole;var uf=t.supportsMicrotasks,ds=t.scheduleMicrotask,Ps=t.supportsTestSelectors,of=t.findFiberRoot,cf=t.getBoundingRect,up=t.getTextContent,Gr=t.isHiddenSubtree,op=t.matchAccessibilityRole,cp=t.setFocusIfFocusable,hp=t.setupIntersectionObserver,fp=t.appendChild,hf=t.appendChildToContainer,dp=t.commitTextUpdate,d0=t.commitMount,pp=t.commitUpdate,mp=t.insertBefore,yp=t.insertInContainerBefore,ff=t.removeChild,gp=t.removeChildFromContainer,df=t.resetTextContent,_p=t.hideInstance,vp=t.hideTextInstance,xp=t.unhideInstance,p0=t.unhideTextInstance,bp=t.clearContainer,Yr=t.cloneInstance,to=t.createContainerChildSet,pf=t.appendChildToContainerChildSet,yc=t.finalizeContainerChildren,Lr=t.replaceContainerChildren,mf=t.cloneHiddenInstance,yf=t.cloneHiddenTextInstance,gc=t.isSuspenseInstancePending,_c=t.isSuspenseInstanceFallback,Sp=t.getSuspenseInstanceFallbackErrorDetails,Ap=t.registerSuspenseInstanceRetry,gf=t.canHydrateFormStateMarker,Ep=t.isFormStateMarkerMatching,_f=t.getNextHydratableSibling,vc=t.getFirstHydratableChild,wp=t.getFirstHydratableChildWithinContainer,Tp=t.getFirstHydratableChildWithinSuspenseInstance,m0=t.canHydrateInstance,vf=t.canHydrateTextInstance,Mp=t.canHydrateSuspenseInstance,Cp=t.hydrateInstance,xf=t.hydrateTextInstance,zp=t.hydrateSuspenseInstance,Rp=t.getNextHydratableInstanceAfterSuspenseInstance,y0=t.commitHydratedContainer,g0=t.commitHydratedSuspenseInstance,Bp=t.clearSuspenseBoundary,eo=t.clearSuspenseBoundaryFromContainer,xc=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var bc=t.validateHydratableInstance,Op=t.validateHydratableTextInstance,Tn=t.supportsResources,io=t.isHostHoistableType,Sc=t.getHoistableRoot,bf=t.getResource,Up=t.acquireResource,Ol=t.releaseResource,no=t.hydrateHoistable,ao=t.mountHoistable,Xr=t.unmountHoistable,Ac=t.createHoistableInstance,Dp=t.prepareToCommitHoistables,Hp=t.mayResourceSuspendCommit,Ul=t.preloadResource,Np=t.suspendResource,Me=t.supportsSingletons,ca=t.resolveSingletonInstance,Ws=t.clearSingleton,Gp=t.acquireSingletonInstance,Is=t.releaseSingletonInstance,Ra=t.isHostSingletonType,ii=[],ps=-1,Js={},en=Math.clz32?Math.clz32:Y,Yp=Math.log,Lp=Math.LN2,Ba=128,Dl=4194304,so=wn.unstable_scheduleCallback,Ec=wn.unstable_cancelCallback,Xp=wn.unstable_shouldYield,wc=wn.unstable_requestPaint,Pn=wn.unstable_now,Tc=wn.unstable_ImmediatePriority,qp=wn.unstable_UserBlockingPriority,Mc=wn.unstable_NormalPriority,_0=wn.unstable_IdlePriority,jp=wn.log,Mi=wn.unstable_setDisableYieldValue,ni=null,vn=null,xn=typeof Object.is=="function"?Object.is:yt,Sf=new WeakMap,Hl=[],Nl=0,Gl=null,qr=0,Mn=[],Cn=0,$s=null,ha=1,fa="",yi=R(null),jr=R(null),Oa=R(null),Yl=R(null),Li=null,Xi=null,oe=!1,Wn=null,Ci=!1,lo=Error(r(519)),In=[],Ll=0,da=0,ro=null,ms=null,Xl=!1,Oe=!1,Af=!1,Vr=0,Zr=null,ql=0,zn=0,jl=null,ys=!1,Vl=!1,Ua=Object.prototype.hasOwnProperty,kr=Error(r(460)),uo=Error(r(474)),oo={then:function(){}},tl=null,el=null,il=0,nl=Pa(!0),Da=Pa(!1),Ue=R(null),Qr=R(0),Rn=R(null),Ce=null,gi=R(0),gs=0,Jt=null,Ut=null,fe=null,Jn=!1,Zl=!1,al=!1,Cc=0,kl=0,zi=null,pa=0,zc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},We={readContext:Di,use:_u,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve};We.useCacheRefresh=Ve,We.useMemoCache=Ve,We.useHostTransitionStatus=Ve,We.useFormState=Ve,We.useActionState=Ve,We.useOptimistic=Ve;var sl={readContext:Di,use:_u,useCallback:function(l,u){return pi().memoizedState=[l,u===void 0?null:u],l},useContext:Di,useEffect:Xo,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,Su(4194308,4,qo.bind(null,u,l),p)},useLayoutEffect:function(l,u){return Su(4194308,4,l,u)},useInsertionEffect:function(l,u){Su(4,2,l,u)},useMemo:function(l,u){var p=pi();u=u===void 0?null:u;var g=l();if(al){I(!0);try{l()}finally{I(!1)}}return p.memoizedState=[g,u],g},useReducer:function(l,u,p){var g=pi();if(p!==void 0){var b=p(u);if(al){I(!0);try{p(u)}finally{I(!1)}}}else b=u;return g.memoizedState=g.baseState=b,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:b},g.queue=l,l=l.dispatch=Vo.bind(null,Jt,l),[g.memoizedState,l]},useRef:function(l){var u=pi();return l={current:l},u.memoizedState=l},useState:function(l){l=fn(l);var u=l.queue,p=Ch.bind(null,Jt,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:Bs,useDeferredValue:function(l,u){var p=pi();return wu(p,l,u)},useTransition:function(){var l=fn(!1);return l=dr.bind(null,Jt,l.queue,!0,!1),pi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var g=Jt,b=pi();if(oe){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),Se===null)throw Error(r(349));(ne&60)!==0||wl(g,u,p)}b.memoizedState=p;var A={value:p,getSnapshot:u};return b.queue=A,Xo(Go.bind(null,g,A,l),[l]),g.flags|=2048,sa(9,No.bind(null,g,A,p,u),{destroy:void 0},null),p},useId:function(){var l=pi(),u=Se.identifierPrefix;if(oe){var p=fa,g=ha;p=(g&~(1<<32-en(g)-1)).toString(32)+p,u=":"+u+"R"+p,p=Cc++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=pa++,u=":"+u+"r"+p.toString(32)+":";return l.memoizedState=u},useCacheRefresh:function(){return pi().memoizedState=Mh.bind(null,Jt)}};sl.useMemoCache=yh,sl.useHostTransitionStatus=Tu,sl.useFormState=Sh,sl.useActionState=Sh,sl.useOptimistic=function(l){var u=pi();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=mr.bind(null,Jt,!0,p),p.dispatch=u,[l,u]};var nn={readContext:Di,use:_u,useCallback:Ml,useContext:Di,useEffect:Eh,useImperativeHandle:jo,useInsertionEffect:Dd,useLayoutEffect:Eu,useMemo:wh,useReducer:El,useRef:Ud,useState:function(){return El(jn)},useDebugValue:Bs,useDeferredValue:function(l,u){var p=ui();return Th(p,Ut.memoizedState,l,u)},useTransition:function(){var l=El(jn)[0],u=ui().memoizedState;return[typeof l=="boolean"?l:fr(l),u]},useSyncExternalStore:gh,useId:pr};nn.useCacheRefresh=Ia,nn.useMemoCache=yh,nn.useHostTransitionStatus=Tu,nn.useFormState=Lo,nn.useActionState=Lo,nn.useOptimistic=function(l,u){var p=ui();return vh(p,Ut,l,u)};var Bn={readContext:Di,use:_u,useCallback:Ml,useContext:Di,useEffect:Eh,useImperativeHandle:jo,useInsertionEffect:Dd,useLayoutEffect:Eu,useMemo:wh,useReducer:vu,useRef:Ud,useState:function(){return vu(jn)},useDebugValue:Bs,useDeferredValue:function(l,u){var p=ui();return Ut===null?wu(p,l,u):Th(p,Ut.memoizedState,l,u)},useTransition:function(){var l=vu(jn)[0],u=ui().memoizedState;return[typeof l=="boolean"?l:fr(l),u]},useSyncExternalStore:gh,useId:pr};Bn.useCacheRefresh=Ia,Bn.useMemoCache=yh,Bn.useHostTransitionStatus=Tu,Bn.useFormState=Ah,Bn.useActionState=Ah,Bn.useOptimistic=function(l,u){var p=ui();return Ut!==null?vh(p,Ut,l,u):(p.baseState=l,[l,p.queue.dispatch])};var Ha={isMounted:function(l){return(l=l._reactInternals)?E(l)===l:!1},enqueueSetState:function(l,u,p){l=l._reactInternals;var g=ti(),b=ut(g);b.payload=u,p!=null&&(b.callback=p),u=Nt(l,b,g),u!==null&&(Ti(u,l,g),ue(u,l,g))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var g=ti(),b=ut(g);b.tag=1,b.payload=u,p!=null&&(b.callback=p),u=Nt(l,b,g),u!==null&&(Ti(u,l,g),ue(u,l,g))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=ti(),g=ut(p);g.tag=2,u!=null&&(g.callback=u),u=Nt(l,g,p),u!==null&&(Ti(u,l,p),ue(u,l,p))}},Rc=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Bc=Error(r(461)),ze=!1,Oc={dehydrated:null,treeContext:null,retryLane:0},_s=R(null),ma=null,On=null,Fr=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,g){l.push(g)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},Vp=wn.unstable_scheduleCallback,Zp=wn.unstable_NormalPriority,De={$$typeof:ua,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Ef=Lt.S;Lt.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&S(l,u),Ef!==null&&Ef(l,u)};var Na=R(null),Ga=!1,Ie=!1,wf=!1,be=typeof WeakSet=="function"?WeakSet:Set,kt=null,ee=!1,Ot=null,Wt=!1,ke=null,Un=8192,Kr={getCacheForType:function(l){var u=Di(De),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p}},Pr=0,$n=1,Ge=2,ya=3,Ya=4;if(typeof Symbol=="function"&&Symbol.for){var Ql=Symbol.for;Pr=Ql("selector.component"),$n=Ql("selector.has_pseudo_class"),Ge=Ql("selector.role"),ya=Ql("selector.test_id"),Ya=Ql("selector.text")}var ta=typeof WeakMap=="function"?WeakMap:Map,de=0,Se=null,Ht=null,ne=0,Te=0,ki=null,ea=!1,Dn=!1,_i=!1,Qi=0,Re=0,Hn=0,vs=0,co=0,Nn=0,La=0,Fl=null,Je=null,Uc=!1,an=0,Wr=1/0,ho=null,ll=null,ga=!1,Xa=null,Kl=0,rl=0,Dc=null,Ir=0,Hc=null;return Ft.attemptContinuousHydration=function(l){if(l.tag===13){var u=Xe(l,67108864);u!==null&&Ti(u,l,67108864),Fu(l,67108864)}},Ft.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=ti(),p=Xe(l,u);p!==null&&Ti(p,l,u),Fu(l,u)}},Ft.attemptSynchronousHydration=function(l){switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var u=L(l.pendingLanes);if(u!==0){for(l.pendingLanes|=2,l.entangledLanes|=2;u;){var p=1<<31-en(u);l.entanglements[1]|=p,u&=~p}cn(l),(de&6)===0&&(Wr=Pn()+500,hn(0))}}break;case 13:u=Xe(l,2),u!==null&&Ti(u,l,2),Vu(),Fu(l,2)}},Ft.batchedUpdates=function(l,u){return l(u)},Ft.createComponentSelector=function(l){return{$$typeof:Pr,value:l}},Ft.createContainer=function(l,u,p,g,b,A,U,V,W,ct){return ep(l,u,!1,null,p,g,A,U,V,W,ct,null)},Ft.createHasPseudoClassSelector=function(l){return{$$typeof:$n,value:l}},Ft.createHydrationContainer=function(l,u,p,g,b,A,U,V,W,ct,bt,St,Et){return l=ep(p,g,!0,l,b,A,V,W,ct,bt,St,Et),l.context=oi(null),p=l.current,g=ti(),b=ut(g),b.callback=u??null,Nt(p,b,g),l.current.lanes=g,ot(l,g),cn(l),l},Ft.createPortal=function(l,u,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qn,key:g==null?null:""+g,children:l,containerInfo:u,implementation:p}},Ft.createRoleSelector=function(l){return{$$typeof:Ge,value:l}},Ft.createTestNameSelector=function(l){return{$$typeof:ya,value:l}},Ft.createTextSelector=function(l){return{$$typeof:Ya,value:l}},Ft.defaultOnCaughtError=function(l){console.error(l)},Ft.defaultOnRecoverableError=function(l){Rc(l)},Ft.defaultOnUncaughtError=function(l){Rc(l)},Ft.deferredUpdates=function(l){var u=Lt.T,p=fs();try{return Zi(32),Lt.T=null,l()}finally{Zi(p),Lt.T=u}},Ft.discreteUpdates=function(l,u,p,g,b){var A=Lt.T,U=fs();try{return Zi(2),Lt.T=null,l(u,p,g,b)}finally{Zi(U),Lt.T=A,de===0&&(Wr=Pn()+500)}},Ft.findAllNodes=qu,Ft.findBoundingRects=function(l,u){if(!Ps)throw Error(r(363));u=qu(l,u),l=[];for(var p=0;p<u.length;p++)l.push(cf(u[p]));for(u=l.length-1;0<u;u--){p=l[u];for(var g=p.x,b=g+p.width,A=p.y,U=A+p.height,V=u-1;0<=V;V--)if(u!==V){var W=l[V],ct=W.x,bt=ct+W.width,St=W.y,Et=St+W.height;if(g>=ct&&A>=St&&b<=bt&&U<=Et){l.splice(u,1);break}else if(g!==ct||p.width!==W.width||Et<A||St>U){if(!(A!==St||p.height!==W.height||bt<g||ct>b)){ct>g&&(W.width+=ct-g,W.x=g),bt<b&&(W.width=b-ct),l.splice(u,1);break}}else{St>A&&(W.height+=St-A,W.y=A),Et<U&&(W.height=U-St),l.splice(u,1);break}}}return l},Ft.findHostInstance=rc,Ft.findHostInstanceWithNoPortals=function(l){return l=w(l),l=l!==null?H(l):null,l===null?null:Hr(l.stateNode)},Ft.findHostInstanceWithWarning=function(l){return rc(l)},Ft.flushPassiveEffects=ra,Ft.flushSyncFromReconciler=function(l){var u=de;de|=1;var p=Lt.T,g=fs();try{if(Zi(2),Lt.T=null,l)return l()}finally{Zi(g),Lt.T=p,de=u,(de&6)===0&&hn(0)}},Ft.flushSyncWork=Vu,Ft.focusWithin=function(l,u){if(!Ps)throw Error(r(363));for(l=wr(l),u=gn(l,u),u=Array.from(u),l=0;l<u.length;){var p=u[l++],g=p.tag;if(!Gr(p)){if((g===5||g===26||g===27)&&cp(p.stateNode))return!0;for(p=p.child;p!==null;)u.push(p),p=p.sibling}}return!1},Ft.getFindAllNodesFailureDescription=function(l,u){if(!Ps)throw Error(r(363));var p=0,g=[];l=[wr(l),0];for(var b=0;b<l.length;){var A=l[b++],U=A.tag,V=l[b++],W=u[V];if((U!==5&&U!==26&&U!==27||!Gr(A))&&(Xs(A,W)&&(g.push(Qh(W)),V++,V>p&&(p=V)),V<u.length))for(A=A.child;A!==null;)l.push(A,V),A=A.sibling}if(p<u.length){for(l=[];p<u.length;p++)l.push(Qh(u[p]));return`findAllNodes was able to match part of the selector:
  `+(g.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},Ft.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 27:case 5:return Hr(l.child.stateNode);default:return l.child.stateNode}},Ft.injectIntoDevTools=function(){var l={bundleType:0,version:af,rendererPackageName:Ju,currentDispatcherRef:Lt,findFiberByHostInstance:sp,reconcilerVersion:"19.0.0"};if(Dr!==null&&(l.rendererConfig=Dr),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{ni=u.inject(l),vn=u}catch{}l=!!u.checkDCE}}return l},Ft.isAlreadyRendering=function(){return!1},Ft.observeVisibleRects=function(l,u,p,g){if(!Ps)throw Error(r(363));l=qu(l,u);var b=hp(l,p,g).disconnect;return{disconnect:function(){b()}}},Ft.shouldError=function(){return null},Ft.shouldSuspend=function(){return!1},Ft.startHostTransition=function(l,u,p,g){if(l.tag!==5)throw Error(r(476));var b=wa(l).queue;dr(l,b,u,Ks,p===null?s:function(){var A=wa(l).next.queue;return Os(l,A,{},ti()),p(g)})},Ft.updateContainer=function(l,u,p,g){var b=u.current,A=ti();return zr(b,A,l,u,p,g),A},Ft.updateContainerSync=function(l,u,p,g){return u.tag===0&&ra(),zr(u.current,2,l,u,p,g),2},Ft},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})}(By)),By.exports}var xv;function m3(){return xv||(xv=1,Ry.exports=p3()),Ry.exports}var y3=m3();const g3=Pm(y3),_3=g3;function v3(i,t,e,s){throw new Error("Text instances are not yet supported. Please use a `<text>` component.")}function x3(){}function b3(){return!1}const $b={};function S3(i){return i??$b}function A3(){return mu.currentUpdatePriority}function E3(){return null}function w3(i){throw new Error("Not yet implemented.")}function T3(i){return i}function M3(){return $b}function C3(i){i instanceof rn?i.visible=!1:i instanceof zo&&(i.enabled=!1)}function z3(i){throw new Error("Text instances are not yet supported. Please use a `<text>` component.")}function t2(i){if(i instanceof zo){const t=i.__pixireact.parent;if(t){const e=t.__pixireact.filters.indexOf(i);t.__pixireact.filters.splice(e,1),t.filters=t.__pixireact.filters}i.__pixireact.parent=null}}function e2(i,t,...e){}function bv(i,t,e){if(e2(),t instanceof rn){const s=t,r=t,c=e;s.parent===i&&i.removeChild(r);const f=i.getChildIndex(c);i.addChildAt(r,f)}else if(t instanceof zo){const c=t.__pixireact.filters.indexOf(e);t2(t),Fb(i,t,c)}}function R3(){return!1}function B3(){return!0}function O3(){return null}function U3(){}function D3(){}function Sv(i,t){t instanceof zo&&t2(t),t.destroy()}function H3(i){}function N3(){}function G3(){}function Y3(){return-1.1}function L3(){return null}function X3(){if(mu.currentUpdatePriority)return mu.currentUpdatePriority;const i=typeof self<"u"&&self||typeof window<"u"&&window;if(!i)return kc.DefaultEventPriority;switch(i.event?.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return kc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return kc.ContinuousEventPriority;default:return kc.DefaultEventPriority}}function q3(i){mu.currentUpdatePriority=i}function j3(){return!1}function V3(){return!1}function Z3(){}function k3(){}function Q3(){}function F3(i){i instanceof rn?i.visible=!0:i instanceof zo&&(i.enabled=!0)}function K3(i){throw new Error("Text instances are not yet supported. Please use a `<text>` component.")}function P3(){return null}const W3={isPrimaryRenderer:!1,noTimeout:-1,NotPendingTransition:null,supportsHydration:!1,supportsMutation:!0,supportsPersistence:!1,warnsIfNotActing:!1,afterActiveInstanceBlur:FM,appendChild:zy,appendChildToContainer:zy,appendInitialChild:zy,beforeActiveInstanceBlur:KM,cancelTimeout:clearTimeout,clearContainer:PM,commitUpdate:l3,createInstance:h3,createTextInstance:v3,hideTextInstance:z3,unhideTextInstance:K3,detachDeletedInstance:x3,finalizeInitialChildren:b3,getChildHostContext:S3,getCurrentUpdatePriority:A3,getInstanceFromNode:E3,getInstanceFromScope:w3,getPublicInstance:T3,getRootHostContext:M3,hideInstance:C3,insertBefore:bv,insertInContainerBefore:bv,maySuspendCommit:R3,preloadInstance:B3,prepareForCommit:O3,preparePortalMount:U3,prepareScopeUpdate:D3,removeChild:Sv,removeChildFromContainer:Sv,requestPostPaintCallback:H3,resetAfterCommit:N3,resetFormInstance:G3,resolveEventTimeStamp:Y3,resolveEventType:L3,resolveUpdatePriority:X3,scheduleTimeout:setTimeout,shouldAttemptEagerTransition:j3,setCurrentUpdatePriority:q3,shouldSetTextContent:V3,startSuspendingCommit:Z3,suspendInstance:k3,trackSchedulerEvent:Q3,unhideInstance:F3,waitForCommitToBeReady:P3},Zm=_3(W3);Zm.injectIntoDevTools({bundleType:0,rendererPackageName:"@pixi/react",version:QM.version});const eh=new Map;function I3(i,t={}){let e=eh.get(i),s=e?.applicationState??{isInitialised:!1,isInitialising:!1};const r=e?.internalState??{};e||(s.app=new Lg,r.rootContainer=Qb(s.app.stage));const c=e?.fiber??Zm.createContainer(r.rootContainer,kc.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null);if(!e){let f;i instanceof HTMLCanvasElement&&(f=i),f||(f=document.createElement("canvas"),i.innerHTML="",i.appendChild(f)),r.canvas=f,e={applicationState:s,fiber:c,internalState:r,render:async(_,y)=>(!s.app.renderer&&!s.isInitialised&&!s.isInitialising&&(s.isInitialising=!0,await s.app.init({...y,canvas:f}),s.isInitialising=!1,s.isInitialised=!0,s={...s},t.onInit?.(s.app)),Object.entries(y).forEach(([v,E])=>{const M=v;kb(y,M)||(s.app[M]=E)}),Zm.updateContainer(Le.jsx(ZM,{value:s,children:_}),c,null,()=>{}),s.app)},eh.set(f,e)}return e}function i2(i){mu.unmountQueue.delete(i);const t=i.fiber;t&&Zm.updateContainer(null,t,null,()=>{i.applicationState.app&&i.applicationState.app.destroy(),eh.delete(i.internalState.canvas)})}function J3(){for(const i of mu.unmountQueue)i2(i)}function $3(i){const t=eh.get(i);t&&(t.applicationState.isInitialised?i2(t):mu.unmountQueue.add(t))}function t4(i){const t=eh.get(i);t&&mu.unmountQueue.delete(t)}const Sm=typeof window<"u"&&(window.document?.createElement||window.navigator?.product==="ReactNative")?Vt.useLayoutEffect:Vt.useEffect,e4={...pu.defaultTextStyle},i4=Vt.forwardRef(function(t,e){const{children:s,className:r,defaultTextStyle:c,extensions:f,onInit:d,resizeTo:_,...y}=t,v=KS(),E=Vt.useRef(null),M=Vt.useRef(null),w=Vt.useRef(new Set);Vt.useImperativeHandle(e,()=>({getApplication(){return E.current},getCanvas(){return M.current}}));const z=Vt.useCallback(()=>{const R=E.current;R&&(_?"current"in _?_.current instanceof HTMLElement&&(R.resizeTo=_.current):R.resizeTo=_:R.resizeTo=void 0)},[_]),H=Vt.useCallback(R=>{J3(),E.current=R,z(),d?.(R)},[d]);return Sm(()=>{if(f){const R=[...f],D=w.current;for(const N of D.values()){const Y=R.indexOf(N);Y===-1&&(di.remove(N),D.delete(N)),R.splice(Y,1)}for(const N in R)di.add(N),D.add(N)}},[f]),Sm(()=>{const R=M.current;if(R){let D=eh.get(R);D||(D=I3(R,{onInit:H})),D.render(Le.jsx(v,{children:s}),y)}},[y,s,H,_]),Sm(()=>{z()},[_]),Sm(()=>{c?Object.assign(pu.defaultTextStyle,c):Object.assign(pu.defaultTextStyle,e4)},[c]),Vt.useEffect(()=>{const R=M.current;if(R)return t4(R),()=>{$3(R)}},[]),Le.jsx("canvas",{ref:M,className:r})}),n4=Vt.forwardRef(function(t,e){return Le.jsx(vx,{children:Le.jsx(i4,{ref:e,...t})})});function Ro(i){Object.assign(Sg,i)}function a4(){const i=Vt.useContext(Wg);return e2(i.app instanceof Lg,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),i}Ro({Container:rn});var s4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l4(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var n2={exports:{}};(function(i,t){(function(){var e,s;s=function(r){return i.exports=r},e={linear:function(r,c,f,d){return f*r/d+c},easeInQuad:function(r,c,f,d){return f*(r/=d)*r+c},easeOutQuad:function(r,c,f,d){return-f*(r/=d)*(r-2)+c},easeInOutQuad:function(r,c,f,d){return(r/=d/2)<1?f/2*r*r+c:-f/2*(--r*(r-2)-1)+c},easeInCubic:function(r,c,f,d){return f*(r/=d)*r*r+c},easeOutCubic:function(r,c,f,d){return f*((r=r/d-1)*r*r+1)+c},easeInOutCubic:function(r,c,f,d){return(r/=d/2)<1?f/2*r*r*r+c:f/2*((r-=2)*r*r+2)+c},easeInQuart:function(r,c,f,d){return f*(r/=d)*r*r*r+c},easeOutQuart:function(r,c,f,d){return-f*((r=r/d-1)*r*r*r-1)+c},easeInOutQuart:function(r,c,f,d){return(r/=d/2)<1?f/2*r*r*r*r+c:-f/2*((r-=2)*r*r*r-2)+c},easeInQuint:function(r,c,f,d){return f*(r/=d)*r*r*r*r+c},easeOutQuint:function(r,c,f,d){return f*((r=r/d-1)*r*r*r*r+1)+c},easeInOutQuint:function(r,c,f,d){return(r/=d/2)<1?f/2*r*r*r*r*r+c:f/2*((r-=2)*r*r*r*r+2)+c},easeInSine:function(r,c,f,d){return-f*Math.cos(r/d*(Math.PI/2))+f+c},easeOutSine:function(r,c,f,d){return f*Math.sin(r/d*(Math.PI/2))+c},easeInOutSine:function(r,c,f,d){return-f/2*(Math.cos(Math.PI*r/d)-1)+c},easeInExpo:function(r,c,f,d){return r===0?c:f*Math.pow(2,10*(r/d-1))+c},easeOutExpo:function(r,c,f,d){return r===d?c+f:f*(-Math.pow(2,-10*r/d)+1)+c},easeInOutExpo:function(r,c,f,d){return(r/=d/2)<1?f/2*Math.pow(2,10*(r-1))+c:f/2*(-Math.pow(2,-10*--r)+2)+c},easeInCirc:function(r,c,f,d){return-f*(Math.sqrt(1-(r/=d)*r)-1)+c},easeOutCirc:function(r,c,f,d){return f*Math.sqrt(1-(r=r/d-1)*r)+c},easeInOutCirc:function(r,c,f,d){return(r/=d/2)<1?-f/2*(Math.sqrt(1-r*r)-1)+c:f/2*(Math.sqrt(1-(r-=2)*r)+1)+c},easeInElastic:function(r,c,f,d){var _,y,v;return v=1.70158,y=0,_=f,r===0||(r/=d),y||(y=d*.3),_<Math.abs(f)?(_=f,v=y/4):v=y/(2*Math.PI)*Math.asin(f/_),-(_*Math.pow(2,10*(r-=1))*Math.sin((r*d-v)*(2*Math.PI)/y))+c},easeOutElastic:function(r,c,f,d){var _,y,v;return v=1.70158,y=0,_=f,r===0||(r/=d),y||(y=d*.3),_<Math.abs(f)?(_=f,v=y/4):v=y/(2*Math.PI)*Math.asin(f/_),_*Math.pow(2,-10*r)*Math.sin((r*d-v)*(2*Math.PI)/y)+f+c},easeInOutElastic:function(r,c,f,d){var _,y,v;return v=1.70158,y=0,_=f,r===0||(r/=d/2),y||(y=d*(.3*1.5)),_<Math.abs(f)?(_=f,v=y/4):v=y/(2*Math.PI)*Math.asin(f/_),r<1?-.5*(_*Math.pow(2,10*(r-=1))*Math.sin((r*d-v)*(2*Math.PI)/y))+c:_*Math.pow(2,-10*(r-=1))*Math.sin((r*d-v)*(2*Math.PI)/y)*.5+f+c},easeInBack:function(r,c,f,d,_){return _===void 0&&(_=1.70158),f*(r/=d)*r*((_+1)*r-_)+c},easeOutBack:function(r,c,f,d,_){return _===void 0&&(_=1.70158),f*((r=r/d-1)*r*((_+1)*r+_)+1)+c},easeInOutBack:function(r,c,f,d,_){return _===void 0&&(_=1.70158),(r/=d/2)<1?f/2*(r*r*(((_*=1.525)+1)*r-_))+c:f/2*((r-=2)*r*(((_*=1.525)+1)*r+_)+2)+c},easeInBounce:function(r,c,f,d){var _;return _=e.easeOutBounce(d-r,0,f,d),f-_+c},easeOutBounce:function(r,c,f,d){return(r/=d)<1/2.75?f*(7.5625*r*r)+c:r<2/2.75?f*(7.5625*(r-=1.5/2.75)*r+.75)+c:r<2.5/2.75?f*(7.5625*(r-=2.25/2.75)*r+.9375)+c:f*(7.5625*(r-=2.625/2.75)*r+.984375)+c},easeInOutBounce:function(r,c,f,d){var _;return r<d/2?(_=e.easeInBounce(r*2,0,f,d),_*.5+c):(_=e.easeOutBounce(r*2-d,0,f,d),_*.5+f*.5+c)}},s(e)}).call(s4)})(n2);var r4=n2.exports;const Av=l4(r4);function i0(i,t){if(i){if(typeof i=="function")return i;if(typeof i=="string")return Av[i]}else return Av[t]}class u4{constructor(t){this.viewport=t,this.touches=[],this.addListeners()}addListeners(){this.viewport.eventMode="static",this.viewport.forceHitArea||(this.viewport.hitArea=new Qe(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=t=>this.handleWheel(t),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){var t;(t=this.viewport.options.events.domElement)==null||t.removeEventListener("wheel",this.wheelFunction)}down(t){if(!(this.viewport.pause||!this.viewport.visible)){if(t.pointerType==="mouse"?this.isMouseDown=!0:this.get(t.pointerId)||this.touches.push({id:t.pointerId,last:null}),this.count()===1){this.last=t.global.clone();const e=this.viewport.plugins.get("decelerate",!0),s=this.viewport.plugins.get("bounce",!0);(!e||!e.isActive())&&(!s||!s.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(t)&&this.viewport.options.stopPropagation&&t.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(t){return Math.abs(t)>=this.viewport.threshold}move(t){if(this.viewport.pause||!this.viewport.visible)return;const e=this.viewport.plugins.move(t);if(this.clickedAvailable&&this.last){const s=t.global.x-this.last.x,r=t.global.y-this.last.y;(this.checkThreshold(s)||this.checkThreshold(r))&&(this.clickedAvailable=!1)}e&&this.viewport.options.stopPropagation&&t.stopPropagation()}up(t){if(this.viewport.pause||!this.viewport.visible)return;t.pointerType==="mouse"&&(this.isMouseDown=!1),t.pointerType!=="mouse"&&this.remove(t.pointerId);const e=this.viewport.plugins.up(t);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:t,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),e&&this.viewport.options.stopPropagation&&t.stopPropagation()}getPointerPosition(t){const e=new _e;return this.viewport.options.events.mapPositionToPoint(e,t.clientX,t.clientY),e}handleWheel(t){if(this.viewport.pause||!this.viewport.visible)return;const e=this.viewport.toLocal(this.getPointerPosition(t));this.viewport.left<=e.x&&e.x<=this.viewport.right&&this.viewport.top<=e.y&&e.y<=this.viewport.bottom&&this.viewport.plugins.wheel(t)&&!this.viewport.options.passiveWheel&&t.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(t){for(const e of this.touches)if(e.id===t)return e;return null}remove(t){for(let e=0;e<this.touches.length;e++)if(this.touches[e].id===t){this.touches.splice(e,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const Zf=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class o4{constructor(t){this.viewport=t,this.list=[],this.plugins={}}add(t,e,s=Zf.length){const r=this.plugins[t];r&&r.destroy(),this.plugins[t]=e;const c=Zf.indexOf(t);c!==-1&&Zf.splice(c,1),Zf.splice(s,0,t),this.sort()}get(t,e){var s;return e&&(s=this.plugins[t])!=null&&s.paused?null:this.plugins[t]}update(t){for(const e of this.list)e.update(t)}resize(){for(const t of this.list)t.resize()}reset(){for(const t of this.list)t.reset()}removeAll(){this.list.forEach(t=>{t.destroy()}),this.plugins={},this.sort()}remove(t){var e;this.plugins[t]&&((e=this.plugins[t])==null||e.destroy(),delete this.plugins[t],this.viewport.emit("plugin-remove",t),this.sort())}pause(t){var e;(e=this.plugins[t])==null||e.pause()}resume(t){var e;(e=this.plugins[t])==null||e.resume()}sort(){this.list=[];for(const t of Zf)this.plugins[t]&&this.list.push(this.plugins[t])}down(t){let e=!1;for(const s of this.list)s.down(t)&&(e=!0);return e}move(t){let e=!1;for(const s of this.viewport.plugins.list)s.move(t)&&(e=!0);return e}up(t){let e=!1;for(const s of this.list)s.up(t)&&(e=!0);return e}wheel(t){let e=!1;for(const s of this.list)s.wheel(t)&&(e=!0);return e}}class Ka{constructor(t){this.parent=t,this.paused=!1}destroy(){}down(t){return!1}move(t){return!1}up(t){return!1}wheel(t){return!1}update(t){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}const c4={removeOnInterrupt:!1,ease:"linear",time:1e3};class h4 extends Ka{constructor(t,e={}){super(t),this.startWidth=null,this.startHeight=null,this.deltaWidth=null,this.deltaHeight=null,this.width=null,this.height=null,this.time=0,this.options=Object.assign({},c4,e),this.options.ease=i0(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(t){if(this.paused)return;this.time+=t;const e=new _e(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const s=this.parent.width,r=this.parent.height;this.complete(),(s!==this.parent.width||r!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:e,type:"animate"})}else{const s=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const r=this.startWidth,c=this.deltaWidth;this.parent.fitWidth(r+c*s,this.keepCenter,this.height===null)}if(this.height!==null){const r=this.startHeight,c=this.deltaHeight;this.parent.fitHeight(r+c*s,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const r=this.startX,c=this.startY,f=this.deltaX,d=this.deltaY,_=new _e(this.parent.x,this.parent.y);this.parent.moveCenter(r+f*s,c+d*s),this.parent.emit("moved",{viewport:this.parent,original:_,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:e,type:"animate"})}}}const f4={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class d4 extends Ka{constructor(t,e={}){super(t),this.options=Object.assign({},f4,e),this.ease=i0(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const s=this.options.underflow.toLowerCase();s==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=s.indexOf("left")!==-1?-1:s.indexOf("right")!==-1?1:0,this.underflowY=s.indexOf("top")!==-1?-1:s.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(t){if(!this.paused){if(this.bounce(),this.toX){const e=this.toX;e.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),e.time>=this.options.time?(this.parent.x=e.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(e.time,e.start,e.delta,this.options.time)}if(this.toY){const e=this.toY;e.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),e.time>=this.options.time?(this.parent.y=e.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(e.time,e.start,e.delta,this.options.time)}}}calcUnderflowX(){let t;switch(this.underflowX){case-1:t=0;break;case 1:t=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:t=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return t}calcUnderflowY(){let t;switch(this.underflowY){case-1:t=0;break;case 1:t=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:t=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return t}oob(){const t=this.options.bounceBox;if(t){const e=typeof t.x>"u"?0:t.x,s=typeof t.y>"u"?0:t.y,r=typeof t.width>"u"?this.parent.worldWidth:t.width,c=typeof t.height>"u"?this.parent.worldHeight:t.height;return{left:this.parent.left<e,right:this.parent.right>r,top:this.parent.top<s,bottom:this.parent.bottom>c,topLeft:new _e(e*this.parent.scale.x,s*this.parent.scale.y),bottomRight:new _e(r*this.parent.scale.x-this.parent.screenWidth,c*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new _e(0,0),bottomRight:new _e(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var t,e;if(this.paused)return;let s,r=this.parent.plugins.get("decelerate",!0);r&&(r.x||r.y)&&(r.x&&r.percentChangeX===((t=r.options)==null?void 0:t.friction)||r.y&&r.percentChangeY===((e=r.options)==null?void 0:e.friction))&&(s=this.oob(),(s.left&&this.left||s.right&&this.right)&&(r.percentChangeX=this.options.friction),(s.top&&this.top||s.bottom&&this.bottom)&&(r.percentChangeY=this.options.friction));const c=this.parent.plugins.get("drag",!0)||{},f=this.parent.plugins.get("pinch",!0)||{};if(r=r||{},!(c!=null&&c.active)&&!(f!=null&&f.active)&&(!this.toX||!this.toY)&&(!r.x||!r.y)){s=s||this.oob();const d=s.topLeft,_=s.bottomRight;if(!this.toX&&!r.x){let y=null;s.left&&this.left?y=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-d.x:s.right&&this.right&&(y=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-_.x),y!==null&&this.parent.x!==y&&(this.toX={time:0,start:this.parent.x,delta:y-this.parent.x,end:y},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!r.y){let y=null;s.top&&this.top?y=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-d.y:s.bottom&&this.bottom&&(y=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-_.y),y!==null&&this.parent.y!==y&&(this.toY={time:0,start:this.parent.y,delta:y-this.parent.y,end:y},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const p4={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class m4 extends Ka{constructor(t,e={}){super(t),this.options=Object.assign({},p4,e),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const t=this.options.underflow.toLowerCase();t==="none"?this.noUnderflow=!0:t==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=t.indexOf("left")!==-1?-1:t.indexOf("right")!==-1?1:0,this.underflowY=t.indexOf("top")!==-1?-1:t.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const t=new _e(this.parent.x,this.parent.y),e=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let s=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,s=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,s=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,s=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,e.x=0,s=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,e.x=0,s=!0);s&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let s=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,s=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,s=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,s=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,e.y=0,s=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,e.y=0,s=!0);s&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const y4={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class g4 extends Ka{constructor(t,e={}){super(t),this.options=Object.assign({},y4,e),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&t<this.options.minWidth){const s=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/s,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&t>this.options.maxWidth){const s=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/s,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&e<this.options.minHeight){const s=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/s,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&e>this.options.maxHeight){const s=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/s,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const t={x:null,y:null},e={x:null,y:null};if(typeof this.options.minScale=="number")t.x=this.options.minScale,t.y=this.options.minScale;else if(this.options.minScale!==null){const c=this.options.minScale;t.x=typeof c.x>"u"?null:c.x,t.y=typeof c.y>"u"?null:c.y}if(typeof this.options.maxScale=="number")e.x=this.options.maxScale,e.y=this.options.maxScale;else if(this.options.maxScale!==null){const c=this.options.maxScale;e.x=typeof c.x>"u"?null:c.x,e.y=typeof c.y>"u"?null:c.y}let s=this.parent.scale.x,r=this.parent.scale.y;t.x!==null&&s<t.x&&(s=t.x),e.x!==null&&s>e.x&&(s=e.x),t.y!==null&&r<t.y&&(r=t.y),e.y!==null&&r>e.y&&(r=e.y),(s!==this.parent.scale.x||r!==this.parent.scale.y)&&(this.parent.scale.set(s,r),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const _4={friction:.98,bounce:.8,minSpeed:.01},au=16;class v4 extends Ka{constructor(t,e={}){super(t),this.options=Object.assign({},_4,e),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",s=>this.handleMoved(s))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const t=this.parent.input.count();return(t===1||t>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(t){if(this.saved.length){const e=this.saved[this.saved.length-1];t.type==="clamp-x"&&t.original?e.x===t.original.x&&(e.x=this.parent.x):t.type==="clamp-y"&&t.original&&e.y===t.original.y&&(e.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const t=performance.now();for(const e of this.saved)if(e.time>=t-100){const s=t-e.time;this.x=(this.parent.x-e.x)/s,this.y=(this.parent.y-e.y)/s,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(t){t=t||{},typeof t.x<"u"&&(this.x=t.x,this.percentChangeX=this.options.friction),typeof t.y<"u"&&(this.y=t.y,this.percentChangeY=this.options.friction)}update(t){if(this.paused)return;const e=this.x||this.y,s=this.timeSinceRelease,r=this.timeSinceRelease+t;if(this.x){const c=this.percentChangeX,f=Math.log(c);this.parent.x+=this.x*au/f*(Math.pow(c,r/au)-Math.pow(c,s/au)),this.x*=Math.pow(this.percentChangeX,t/au)}if(this.y){const c=this.percentChangeY,f=Math.log(c);this.parent.y+=this.y*au/f*(Math.pow(c,r/au)-Math.pow(c,s/au)),this.y*=Math.pow(this.percentChangeY,t/au)}this.timeSinceRelease+=t,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),e&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const x4={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class b4 extends Ka{constructor(t,e={}){super(t),this.windowEventHandlers=[],this.options=Object.assign({},x4,e),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(t){const e=r=>{t.includes(r.code)&&(this.keyIsPressed=!0)},s=r=>{t.includes(r.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",s),this.addWindowEventHandler("keydown",e)}addWindowEventHandler(t,e){typeof window>"u"||(window.addEventListener(t,e),this.windowEventHandlers.push({event:t,handler:e}))}destroy(){typeof window>"u"||this.windowEventHandlers.forEach(({event:t,handler:e})=>{window.removeEventListener(t,e)})}mouseButtons(t){!t||t==="all"?this.mouse=[!0,!0,!0]:this.mouse=[t.indexOf("left")!==-1,t.indexOf("middle")!==-1,t.indexOf("right")!==-1]}parseUnderflow(){const t=this.options.underflow.toLowerCase();t==="center"?(this.underflowX=0,this.underflowY=0):(t.includes("left")?this.underflowX=-1:t.includes("right")?this.underflowX=1:this.underflowX=0,t.includes("top")?this.underflowY=-1:t.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(t){const e=t.pointerType==="mouse",s=this.parent.input.count();return!!((s===1||s>1&&!this.parent.plugins.get("pinch",!0))&&(!e||this.mouse[t.button]))}checkKeyPress(t){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&t.data.pointerType==="touch"}down(t){return this.paused||!this.options.pressDrag?!1:this.checkButtons(t)&&this.checkKeyPress(t)?(this.last={x:t.global.x,y:t.global.y},(this.parent.parent||this.parent).toLocal(this.last,void 0,this.last),this.current=t.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(t){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===t.data.pointerId){const e=t.global.x,s=t.global.y,r=this.parent.input.count();if(r===1||r>1&&!this.parent.plugins.get("pinch",!0)){const c={x:e,y:s};(this.parent.parent||this.parent).toLocal(c,void 0,c);const f=c.x-this.last.x,d=c.y-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(f)||this.yDirection&&this.parent.input.checkThreshold(d))return this.xDirection&&(this.parent.x+=(c.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(c.y-this.last.y)*this.options.factor),this.last=c,this.moved||this.parent.emit("drag-start",{event:t,screen:new _e(this.last.x,this.last.y),world:this.parent.toWorld(new _e(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}else this.moved=!1}return!1}up(t){if(this.paused)return!1;const e=this.parent.input.touches;if(e.length===1){const s=e[0];return s.last&&(this.last={x:s.last.x,y:s.last.y},this.current=s.id),this.moved=!1,!0}else if(this.last&&this.moved){const s=new _e(this.last.x,this.last.y);return(this.parent.parent||this.parent).toGlobal(s,s,!0),this.parent.emit("drag-end",{event:t,screen:s,world:this.parent.toWorld(s),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(t){if(this.paused)return!1;if(this.options.wheel){const e=this.parent.plugins.get("wheel",!0);if(!e||!e.options.wheelZoom&&!t.ctrlKey){const s=t.deltaMode?this.options.lineHeight:1,r=[t.deltaX,t.deltaY],[c,f]=this.options.wheelSwapAxes?r.reverse():r;return this.xDirection&&(this.parent.x+=c*s*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=f*s*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||t.preventDefault(),this.parent.options.stopPropagation&&t.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const t=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,t.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,t.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,t.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,t.y=0)}}const S4={speed:0,acceleration:null,radius:null};class A4 extends Ka{constructor(t,e,s={}){super(t),this.target=e,this.options=Object.assign({},S4,s),this.velocity={x:0,y:0}}update(t){if(this.paused)return;const e=this.parent.center;let s=this.target.x,r=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-e.y,2)+Math.pow(this.target.x-e.x,2))>this.options.radius){const d=Math.atan2(this.target.y-e.y,this.target.x-e.x);s=this.target.x-Math.cos(d)*this.options.radius,r=this.target.y-Math.sin(d)*this.options.radius}else return;const c=s-e.x,f=r-e.y;if(c||f)if(this.options.speed)if(this.options.acceleration){const d=Math.atan2(r-e.y,s-e.x),_=Math.sqrt(Math.pow(c,2)+Math.pow(f,2));if(_){const y=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);_>y?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*t,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*t,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const v=Math.cos(d)*this.velocity.x,E=Math.sin(d)*this.velocity.y,M=Math.abs(v)>Math.abs(c)?s:e.x+v,w=Math.abs(E)>Math.abs(f)?r:e.y+E;this.parent.moveCenter(M,w),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const d=Math.atan2(r-e.y,s-e.x),_=Math.cos(d)*this.options.speed,y=Math.sin(d)*this.options.speed,v=Math.abs(_)>Math.abs(c)?s:e.x+_,E=Math.abs(y)>Math.abs(f)?r:e.y+y;this.parent.moveCenter(v,E),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(s,r),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const E4={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class w4 extends Ka{constructor(t,e={}){super(t),this.options=Object.assign({},E4,e),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const t=this.options.distance;t!==null?(this.left=t,this.top=t,this.right=this.parent.screenWidth-t,this.bottom=this.parent.screenHeight-t):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(t){if(this.paused||t.pointerType!=="mouse"&&t.pointerId!==1||!this.options.allowButtons&&t.buttons!==0)return!1;const e=t.global.x,s=t.global.y;if(this.radiusSquared){const r=this.parent.toScreen(this.parent.center);if(Math.pow(r.x-e,2)+Math.pow(r.y-s,2)>=this.radiusSquared){const c=Math.atan2(r.y-s,r.x-e);this.options.linear?(this.horizontal=Math.round(Math.cos(c))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(c))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(c)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(c)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&e<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&e>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&s<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&s>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const t=this.parent.plugins.get("decelerate",!0);this.horizontal&&t&&!this.options.noDecelerate&&t.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const t=this.parent.plugins.get("decelerate",!0);this.vertical&&t&&!this.options.noDecelerate&&t.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const t=this.parent.center;this.horizontal&&(t.x+=this.horizontal*this.options.speed),this.vertical&&(t.y+=this.vertical*this.options.speed),this.parent.moveCenter(t),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const T4={noDrag:!1,percent:1,center:null,factor:1,axis:"all"},M4=new _e;class C4 extends Ka{constructor(t,e={}){super(t),this.active=!1,this.pinching=!1,this.moved=!1,this.options=Object.assign({},T4,e)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(t){if(this.paused||!this.active)return!1;const{x:e,y:s}=(this.parent.parent||this.parent).toLocal(t.global,void 0,M4),r=this.parent.input.touches;if(r.length>=2){const c=r[0],f=r[1],d=c.last&&f.last?Math.sqrt(Math.pow(f.last.x-c.last.x,2)+Math.pow(f.last.y-c.last.y,2)):null;if(c.id===t.pointerId?c.last={x:e,y:s,data:t}:f.id===t.pointerId&&(f.last={x:e,y:s,data:t}),d){let _;const y=new _e(c.last.x+(f.last.x-c.last.x)/2,c.last.y+(f.last.y-c.last.y)/2);this.options.center||(_=this.parent.toLocal(y,this.parent.parent||this.parent));let v=Math.sqrt(Math.pow(f.last.x-c.last.x,2)+Math.pow(f.last.y-c.last.y,2));v=v===0?v=1e-10:v;const E=(1-d/v)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=E),this.isAxisY()&&(this.parent.scale.y+=E),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:y});const M=this.parent.plugins.get("clamp-zoom",!0);if(M&&M.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const w=(this.parent.parent||this.parent).toLocal(_,this.parent);this.parent.x+=(y.x-w.x)*this.options.factor,this.parent.y+=(y.y-w.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(y.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(y.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=y,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const z4={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class R4 extends Ka{constructor(t,e,s,r={}){super(t),this.options=Object.assign({},z4,r),this.ease=i0(r.ease,"easeInOutSine"),this.x=e,this.y=s,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const t=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-t.x,this.deltaY=this.y-t.y,this.startX=t.x,this.startY=t.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const t=this.parent.plugins.get("decelerate",!0);t&&(t.x||t.y)&&(t.percentChangeX=t.percentChangeY=this.options.friction)}return!1}update(t){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const e=this.snapping;e.time+=t;let s,r,c;const f=this.startX,d=this.startY,_=this.deltaX,y=this.deltaY;if(e.time>this.options.time)s=!0,r=f+_,c=d+y;else{const v=this.ease(e.time,0,1,this.options.time);r=f+_*v,c=d+y*v}this.options.topLeft?this.parent.moveCorner(r,c):this.parent.moveCenter(r,c),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),s&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const e=this.options.topLeft?this.parent.corner:this.parent.center;(e.x!==this.x||e.y!==this.y)&&this.snapStart()}}}const B4={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class O4 extends Ka{constructor(t,e={}){super(t),this.options=Object.assign({},B4,e),this.ease=i0(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=t.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=t.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(t.container.scale.x=this.xScale,t.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):e.forceStart&&this.createSnapping()}createSnapping(){const t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,s=this.parent.screenWidth/this.xScale,r=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:t,startY:e,deltaX:s-t,deltaY:r-e},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(t){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let e;if(!this.options.center&&!this.options.noMove&&(e=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const s=this.snapping;if(s.time+=t,s.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const c=this.snapping,f=this.ease(c.time,c.startX,c.deltaX,this.options.time),d=this.ease(c.time,c.startY,c.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/f,this.parent.scale.y=this.parent.screenHeight/d}const r=this.parent.plugins.get("clamp-zoom",!0);r&&r.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(e))}}resume(){this.snapping=null,super.resume()}}const U4={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class D4 extends Ka{constructor(t,e={}){super(t),this.options=Object.assign({},U4,e),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(t){typeof window>"u"||(window.addEventListener("keydown",e=>{t.includes(e.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",e=>{t.includes(e.code)&&(this.keyIsPressed=!1)}))}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const t=this.smoothingCenter,e=this.smoothing;let s;this.options.center||(s=this.parent.toLocal(t)),this.isAxisX()&&(this.parent.scale.x+=e.x),this.isAxisY()&&(this.parent.scale.y+=e.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const r=this.parent.plugins.get("clamp-zoom",!0);if(r&&r.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const c=this.parent.parent||this.parent;c.toLocal(s,this.parent,s);const f=c.toLocal(t);this.parent.x+=f.x-s.x,this.parent.y+=f.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,typeof this.options.smooth=="number"&&this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(t){if(this.paused)return;const e=this.parent.input.getPointerPosition(t),s=-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/200,r=Math.pow(2,(1+this.options.percent)*s);let c;this.options.center||(c=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x*=r),this.isAxisY()&&(this.parent.scale.y*=r),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const f=this.parent.plugins.get("clamp-zoom",!0);if(f&&f.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const d=this.parent.parent||this.parent;d.toLocal(c,this.parent,c);const _=d.toLocal(e);this.parent.x+=_.x-c.x,this.parent.y+=_.y-c.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:t,viewport:this.parent})}wheel(t){if(this.paused||!this.checkKeyPress())return!1;if(t.ctrlKey&&this.options.trackpadPinch)this.pinch(t);else if(this.options.wheelZoom){const e=this.parent.input.getPointerPosition(t),s=(this.options.reverse?-1:1)*-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/500,r=Math.pow(2,(1+this.options.percent)*s);if(this.options.smooth){const c={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+c.x)*r-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+c.y)*r-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=e}else{let c;this.options.center||(c=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x*=r),this.isAxisY()&&(this.parent.scale.y*=r),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const f=this.parent.plugins.get("clamp-zoom",!0);if(f&&f.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const d=this.parent.parent||this.parent;d.toLocal(c,this.parent,c);const _=d.toLocal(e);this.parent.x+=_.x-c.x,this.parent.y+=_.y-c.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:t,viewport:this.parent})}return!this.parent.options.passiveWheel}}const H4={screenWidth:typeof window>"u"?0:window.innerWidth,screenHeight:typeof window>"u"?0:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:er.shared,allowPreserveDragOutside:!1};class N4 extends rn{constructor(t){super(),this._disableOnContextMenu=e=>e.preventDefault(),this.options={...H4,...t},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new u4(this),this.plugins=new o4(this)}destroy(t){var e;!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&((e=this.options.events.domElement)==null||e.removeEventListener("contextmenu",this._disableOnContextMenu)),this.input.destroy(),super.destroy(t)}update(t){this.pause||(this.plugins.update(t),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new Qe(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(t=typeof window>"u"?0:window.innerWidth,e=typeof window>"u"?0:window.innerHeight,s,r){this.screenWidth=t,this.screenHeight=e,typeof s<"u"&&(this._worldWidth=s),typeof r<"u"&&(this._worldHeight=r),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(t){this._worldWidth=t,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(t){this._worldHeight=t,this.plugins.resize()}getVisibleBounds(){return new Qe(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(t,e){return arguments.length===2?this.toLocal(new _e(t,e)):this.toLocal(t)}toScreen(t,e){return arguments.length===2?this.toGlobal(new _e(t,e)):this.toGlobal(t)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new _e(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(t){this.moveCenter(t)}moveCenter(...t){let e,s;typeof t[0]=="number"?(e=t[0],s=t[1]):(e=t[0].x,s=t[0].y);const r=(this.worldScreenWidth/2-e)*this.scale.x,c=(this.worldScreenHeight/2-s)*this.scale.y;return(this.x!==r||this.y!==c)&&(this.position.set(r,c),this.plugins.reset(),this.dirty=!0),this}get corner(){return new _e(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(t){this.moveCorner(t)}moveCorner(...t){let e,s;return t.length===1?(e=-t[0].x*this.scale.x,s=-t[0].y*this.scale.y):(e=-t[0]*this.scale.x,s=-t[1]*this.scale.y),(e!==this.x||s!==this.y)&&(this.position.set(e,s),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(t){return this.screenWidth/t}findFitHeight(t){return this.screenHeight/t}findFit(t,e){const s=this.screenWidth/t,r=this.screenHeight/e;return Math.min(s,r)}findCover(t,e){const s=this.screenWidth/t,r=this.screenHeight/e;return Math.max(s,r)}fitWidth(t=this.worldWidth,e,s=!0,r){let c;e&&(c=this.center),this.scale.x=this.screenWidth/t,s&&(this.scale.y=this.scale.x);const f=this.plugins.get("clamp-zoom",!0);return!r&&f&&f.clamp(),e&&c&&this.moveCenter(c),this}fitHeight(t=this.worldHeight,e,s=!0,r){let c;e&&(c=this.center),this.scale.y=this.screenHeight/t,s&&(this.scale.x=this.scale.y);const f=this.plugins.get("clamp-zoom",!0);return!r&&f&&f.clamp(),e&&c&&this.moveCenter(c),this}fitWorld(t){let e;t&&(e=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),t&&e&&this.moveCenter(e),this}fit(t,e=this.worldWidth,s=this.worldHeight){let r;t&&(r=this.center),this.scale.x=this.screenWidth/e,this.scale.y=this.screenHeight/s,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const c=this.plugins.get("clamp-zoom",!0);return c&&c.clamp(),t&&r&&this.moveCenter(r),this}setZoom(t,e){let s;e&&(s=this.center),this.scale.set(t);const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&s&&this.moveCenter(s),this}zoomPercent(t,e){return this.setZoom(this.scale.x+this.scale.x*t,e)}zoom(t,e){return this.fitWidth(t+this.worldScreenWidth,e),this}get scaled(){return this.scale.x}set scaled(t){this.setZoom(t,!0)}snapZoom(t){return this.plugins.add("snap-zoom",new O4(this,t)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new _e(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(t){this.x=-t*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(t){this.x=-t*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(t){this.y=-t*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(t){this.y=-t*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(t){this._dirty=t}get forceHitArea(){return this._forceHitArea}set forceHitArea(t){t?(this._forceHitArea=t,this.hitArea=t):(this._forceHitArea=null,this.hitArea=new Qe(0,0,this.worldWidth,this.worldHeight))}drag(t){return this.plugins.add("drag",new b4(this,t)),this}clamp(t){return this.plugins.add("clamp",new m4(this,t)),this}decelerate(t){return this.plugins.add("decelerate",new v4(this,t)),this}bounce(t){return this.plugins.add("bounce",new d4(this,t)),this}pinch(t){return this.plugins.add("pinch",new C4(this,t)),this}snap(t,e,s){return this.plugins.add("snap",new R4(this,t,e,s)),this}follow(t,e){return this.plugins.add("follow",new A4(this,t,e)),this}wheel(t){return this.plugins.add("wheel",new D4(this,t)),this}animate(t){return this.plugins.add("animate",new h4(this,t)),this}clampZoom(t){return this.plugins.add("clamp-zoom",new g4(this,t)),this}mouseEdges(t){return this.plugins.add("mouse-edges",new w4(this,t)),this}get pause(){return!!this._pause}set pause(t){this._pause=t,this.lastViewport=null,this.moving=!1,this.zooming=!1,t&&this.input.pause()}ensureVisible(t,e,s,r,c){c&&(s>this.worldScreenWidth||r>this.worldScreenHeight)&&(this.fit(!0,s,r),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let f=!1;t<this.left?(this.left=t,f=!0):t+s>this.right&&(this.right=t+s,f=!0),e<this.top?(this.top=e,f=!0):e+r>this.bottom&&(this.bottom=e+r,f=!0),f&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}class G4 extends N4{constructor(t){const{decelerate:e,drag:s,pinch:r,wheel:c,clamp:f,clampZoom:d,onBounceXend:_,onBounceXstart:y,onBounceYend:v,onBounceYstart:E,onClicked:M,onDragEnd:w,onDragStart:z,onFrameEnd:H,onMouseEdgeEnd:R,onMouseEdgeStart:D,onMoved:N,onMovedEnd:Y,onPinchEnd:L,onPinchStart:F,onSnapEnd:tt,onSnapStart:K,onSnapZoomEnd:gt,onSnapZoomStart:pt,onWheel:rt,onWheelScroll:ot,onZoomed:Tt,onZoomedEnd:jt,...Pt}=t??{};super(Pt),e&&(typeof e=="boolean"?this.decelerate():this.decelerate(e)),s&&(typeof s=="boolean"?this.drag():this.drag(s)),r&&(typeof r=="boolean"?this.pinch():this.pinch(r)),c&&(typeof c=="boolean"?this.wheel():this.wheel(c)),f&&(typeof f=="boolean"?this.clamp():this.clamp(f)),d&&this.clampZoom(d),_&&this.on("bounce-x-end",_),y&&this.on("bounce-x-start",y),v&&this.on("bounce-y-end",v),E&&this.on("bounce-y-start",E),M&&this.on("clicked",M),w&&this.on("drag-end",w),z&&this.on("drag-start",z),H&&this.on("frame-end",H),R&&this.on("mouse-edge-end",R),D&&this.on("mouse-edge-start",D),N&&this.on("moved",N),Y&&this.on("moved-end",Y),L&&this.on("pinch-end",L),F&&this.on("pinch-start",F),tt&&this.on("snap-end",tt),K&&this.on("snap-start",K),gt&&this.on("snap-zoom-end",gt),pt&&this.on("snap-zoom-start",pt),rt&&this.on("wheel",rt),ot&&this.on("wheel-scroll",ot),Tt&&this.on("zoomed",Tt),jt&&this.on("zoomed-end",jt)}}Ro({Container:rn,CustomViewport:G4});const Y4=Vt.forwardRef(({children:i,...t},e)=>{const{app:s}=a4();return s.renderer?.events?Le.jsx("pixiCustomViewport",{...t,events:s.renderer?.events,ref:e,children:i}):null}),Ev=i=>{let t;const e=new Set,s=(y,v)=>{const E=typeof y=="function"?y(t):y;if(!Object.is(E,t)){const M=t;t=v??(typeof E!="object"||E===null)?E:Object.assign({},t,E),e.forEach(w=>w(t,M))}},r=()=>t,d={setState:s,getState:r,getInitialState:()=>_,subscribe:y=>(e.add(y),()=>e.delete(y))},_=t=i(s,r,d);return d},L4=i=>i?Ev(i):Ev,X4=i=>i;function q4(i,t=X4){const e=k_.useSyncExternalStore(i.subscribe,()=>t(i.getState()),()=>t(i.getInitialState()));return k_.useDebugValue(e),e}const j4=i=>{const t=L4(i),e=s=>q4(t,s);return Object.assign(e,t),e},V4=i=>j4,wv={BASE_URL:"/react-pixi-tilemap-example/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},fd=new Map,Am=i=>{const t=fd.get(i);return t?Object.fromEntries(Object.entries(t.stores).map(([e,s])=>[e,s.getState()])):{}},Z4=(i,t,e)=>{if(i===void 0)return{type:"untracked",connection:t.connect(e)};const s=fd.get(e.name);if(s)return{type:"tracked",store:i,...s};const r={connection:t.connect(e),stores:{}};return fd.set(e.name,r),{type:"tracked",store:i,...r}},k4=(i,t)=>{if(t===void 0)return;const e=fd.get(i);e&&(delete e.stores[t],Object.keys(e.stores).length===0&&fd.delete(i))},Q4=i=>{var t,e;if(!i)return;const s=i.split(`
`),r=s.findIndex(f=>f.includes("api.setState"));if(r<0)return;const c=((t=s[r+1])==null?void 0:t.trim())||"";return(e=/.+ (.+) .+/.exec(c))==null?void 0:e[1]},F4=(i,t={})=>(e,s,r)=>{const{enabled:c,anonymousActionType:f,store:d,..._}=t;let y;try{y=(c??(wv?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!y)return i(e,s,r);const{connection:v,...E}=Z4(d,y,_);let M=!0;r.setState=(H,R,D)=>{const N=e(H,R);if(!M)return N;const Y=D===void 0?{type:f||Q4(new Error().stack)||"anonymous"}:typeof D=="string"?{type:D}:D;return d===void 0?(v?.send(Y,s()),N):(v?.send({...Y,type:`${d}/${Y.type}`},{...Am(_.name),[d]:r.getState()}),N)},r.devtools={cleanup:()=>{v&&typeof v.unsubscribe=="function"&&v.unsubscribe(),k4(_.name,d)}};const w=(...H)=>{const R=M;M=!1,e(...H),M=R},z=i(r.setState,s,r);if(E.type==="untracked"?v?.init(z):(E.stores[E.store]=r,v?.init(Object.fromEntries(Object.entries(E.stores).map(([H,R])=>[H,H===E.store?z:R.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){let H=!1;const R=r.dispatch;r.dispatch=(...D)=>{(wv?"production":void 0)!=="production"&&D[0].type==="__setState"&&!H&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),H=!0),R(...D)}}return v.subscribe(H=>{var R;switch(H.type){case"ACTION":if(typeof H.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Dy(H.payload,D=>{if(D.type==="__setState"){if(d===void 0){w(D.state);return}Object.keys(D.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const N=D.state[d];if(N==null)return;JSON.stringify(r.getState())!==JSON.stringify(N)&&w(N);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(D)});case"DISPATCH":switch(H.payload.type){case"RESET":return w(z),d===void 0?v?.init(r.getState()):v?.init(Am(_.name));case"COMMIT":if(d===void 0){v?.init(r.getState());return}return v?.init(Am(_.name));case"ROLLBACK":return Dy(H.state,D=>{if(d===void 0){w(D),v?.init(r.getState());return}w(D[d]),v?.init(Am(_.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Dy(H.state,D=>{if(d===void 0){w(D);return}JSON.stringify(r.getState())!==JSON.stringify(D[d])&&w(D[d])});case"IMPORT_STATE":{const{nextLiftedState:D}=H.payload,N=(R=D.computedStates.slice(-1)[0])==null?void 0:R.state;if(!N)return;w(d===void 0?N:N[d]),v?.send(null,D);return}case"PAUSE_RECORDING":return M=!M}return}}),z},K4=F4,Dy=(i,t)=>{let e;try{e=JSON.parse(i)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}e!==void 0&&t(e)},sr=V4()(K4(i=>({cameraX:0,setCameraX:t=>i(e=>({...e,cameraX:t})),setMapData:t=>i(e=>({...e,mapData:t}))}))),dd={worldWidth:i=>!i||!i.mapData?null:i.mapData.width*i.mapData.tilewidth,worldHeight:i=>!i||!i.mapData?null:i.mapData.height*i.mapData.tileheight},P4=i=>{const t=Vt.useRef(null),{setCameraX:e}=sr(),s=f=>{const d=Math.abs(f.viewport.x);e(d)},r=sr(dd.worldWidth),c=sr(dd.worldHeight);return!r||!c?null:Le.jsx(Y4,{...i,worldWidth:r,worldHeight:c,drag:!0,pinch:!0,wheel:!0,onMoved:s,clamp:{direction:"all"},clampZoom:{minScale:1,maxScale:5},ref:t})},W4=(i,t)=>{const[e,s]=Vt.useState(null);return Vt.useEffect(()=>{if(!i.length)return;const r={},c=async f=>{const d=await ir.load(`${t}/${f.image}`),_=f.columns,y=f.tilewidth,v=f.tileheight;for(let E=0;E<f.tilecount;E++){const M=E%_*y,w=Math.floor(E/_)*v,z=new Qe(M,w,y,v),H=new Zt({source:d.source,frame:z}),R=`${f.name}-${E+1}`;ir.cache.has(R)||ir.cache.set(R,H),r[R]=H}};Promise.all(i.map(c)).then(()=>{Object.keys(r).length>0&&s(r)})},[t,i]),e},km={tilelayer:"tilelayer",objectgroup:"objectgroup"},Pc={TEXTURES_PER_TILEMAP:16};var I4=Object.defineProperty,J4=(i,t,e)=>t in i?I4(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,lu=(i,t,e)=>(J4(i,typeof t!="symbol"?t+"":t,e),e);const pd=class Jf extends bb{constructor(t){const e=new du({data:new Float32Array(2),label:"tilemap-buffer",usage:Ri.VERTEX|Ri.COPY_DST,shrinkToFit:!1}),s=Jf.stride;super({indexBuffer:t,attributes:{aVertexPosition:{buffer:e,format:"float32x2",stride:s,offset:0},aTextureCoord:{buffer:e,format:"float32x2",stride:s,offset:8},aFrame:{buffer:e,format:"float32x4",stride:s,offset:16},aAnim:{buffer:e,format:"float32x2",stride:s,offset:32},aTextureId:{buffer:e,format:"sint32",stride:s,offset:40},aAnimDivisor:{buffer:e,format:"float32",stride:s,offset:44},aAlpha:{buffer:e,format:"float32",stride:s,offset:48}}}),lu(this,"lastTimeAccess",0),lu(this,"vertSize",Jf.vertSize),lu(this,"vertPerQuad",Jf.vertPerQuad),lu(this,"stride",Jf.stride),lu(this,"buf"),this.buf=e}};lu(pd,"vertSize",13);lu(pd,"vertPerQuad",4);lu(pd,"stride",pd.vertSize*4);let $4=pd;var tC=Object.defineProperty,eC=(i,t,e)=>t in i?tC(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,su=(i,t,e)=>(eC(i,typeof t!="symbol"?t+"":t,e),e);class a2{constructor(){su(this,"pipe_uniforms",new Ad({u_proj_trans:{value:new re,type:"mat3x3<f32>"},u_anim_frame:{value:new Float32Array(2),type:"vec2<f32>"}}))}}class s2{constructor(t,e){su(this,"renderer"),su(this,"tileAnim",[0,0]),su(this,"ibLen",0),su(this,"indexBuffer",null),su(this,"shader"),su(this,"adaptor"),this.renderer=t,this.adaptor=e,this.adaptor.init(),this.indexBuffer=new du({data:new Uint16Array([0,1,2,0,2,3]),label:"index-tilemap-buffer",usage:Ri.INDEX|Ri.COPY_DST}),this.indexBuffer.destroy=Dg,this.checkIndexBuffer(2e3)}start(){}createVb(){const t=new $4(this.indexBuffer);return t.lastTimeAccess=Date.now(),t}getShader(){return this.shader}destroy(){this.shader=null}checkIndexBuffer(t){const e=t*6;e<=this.ibLen||(this.ibLen=e,this.indexBuffer.data=iC(t,new Uint16Array(e)))}destroyRenderable(t){t.vb.destroy(!0),t.vb=null}addRenderable(t,e){const s=this.renderer.renderPipes.batch;t.updateBuffer(this),t.checkValid(),t.getTileset().update(),t.is_valid&&(s.break(e),e.add(t._instruction))}updateRenderable(t,e){t.updateBuffer(this),t.getTileset().update()}validateRenderable(t){return t.checkValid()}execute({tilemap:t}){if(!t.isRenderable)return;t.state.blendMode=t.groupBlendMode;const{pipe_uniforms:e}=this.adaptor,s=e.uniforms.u_proj_trans,r=this.renderer.globalUniforms._activeUniforms.at(-1).uniforms;let c=this.tileAnim;const{u_anim_frame:f}=e.uniforms;r.uProjectionMatrix.copyTo(s).append(r.uWorldTransformMatrix).append(t.worldTransform),t.compositeParent&&(c=t.parent.tileAnim||c),f[0]=c[0],f[1]=c[1],e.update(),this.adaptor.execute(this,t)}}su(s2,"extension",{type:[Mt.WebGLPipes,Mt.WebGPUPipes],name:"tilemap"});function iC(i,t){const e=i*6;if(t.length!==e)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${e}`);for(let s=0,r=0;s<e;s+=6,r+=4)t[s+0]=r+0,t[s+1]=r+1,t[s+2]=r+2,t[s+3]=r+0,t[s+4]=r+2,t[s+5]=r+3;return t}var nC=Object.defineProperty,aC=(i,t,e)=>t in i?nC(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,hl=(i,t,e)=>(aC(i,typeof t!="symbol"?t+"":t,e),e);class xo{constructor(t){hl(this,"max_textures"),hl(this,"arr",[]),hl(this,"count",0),hl(this,"dirty",!1),hl(this,"dirty_gpu",!1),hl(this,"bind_group",null),hl(this,"bind_group_resources",{}),hl(this,"tex_sizes",null),hl(this,"null_color",new Float32Array([0,0,0,.5])),hl(this,"tex_buf",null),this.max_textures=t,this.tex_sizes=new Float32Array(this.max_textures*4+4),this.tex_buf=new du({usage:Ri.UNIFORM|Ri.COPY_DST})}get length(){return this.count}push(t){this.arr[this.count++]=t,this.dirty=!0}at(t){return this.arr[t]}update(){if(!this.dirty)return;this.dirty=!1,this.dirty_gpu=!0;const{tex_sizes:t,arr:e,count:s,max_textures:r,null_color:c}=this;for(let f=0;f<s;f++){const d=e[f];d&&(t[f*4]=d.pixelWidth,t[f*4+1]=d.pixelHeight,t[f*4+2]=1/d.pixelWidth,t[f*4+3]=1/d.pixelHeight)}t[r*4]=c[0],t[r*4+1]=c[1],t[r*4+2]=c[2],t[r*4+3]=c[3]}markDirty(){this.dirty=!0}getBindGroup(){if(this.update(),!this.dirty_gpu)return this.bind_group;const{bind_group_resources:t,max_textures:e,arr:s,count:r}=this;let c=0;t[c++]=new Ad({u_texture_size:{value:this.tex_sizes,type:"vec4<f32>",size:e},u_null_color:{value:this.null_color,type:"vec4<f32>"}});for(let f=0;f<e;f++){const d=(f<r?s[f]:null)||Zt.EMPTY.source;t[c++]=d.source,t[c++]=d.style}return this.bind_group||(this.bind_group=new Qc(t)),this.bind_group}static generate_gpu_textures(t){const e=[];e.push("struct TextureArrayFields {"),e.push(`    u_texture_size: array<vec4f, ${t}>,`),e.push("    u_null_color: vec4f"),e.push("}"),e.push("@group(1) @binding(0) var<uniform> taf: TextureArrayFields;");for(let s=0;s<t;s++)e.push(`@group(1) @binding(${s*2+1}) var u_texture_${s}: texture_2d<f32>;`),e.push(`@group(1) @binding(${s*2+2}) var u_sampler_${s}: sampler;`);e.push("fn sampleMultiTexture(texture_id: i32, uv: vec2f, dx: vec2f, dy: vec2f) -> vec4f {"),e.push("switch texture_id {");for(let s=0;s<t;s++)e.push(`  case ${s}: { return textureSampleGrad(u_texture_${s}, u_sampler_${s}, uv, dx, dy); }`);return e.push("  default: { return taf.u_null_color; }"),e.push("} }"),e.join(`
`)}static generate_gl_textures(t){const e=[];e.push(`uniform vec4 u_texture_size[${t+1}];`),e.push(`uniform sampler2D u_textures[${t}];`),e.push("uniform vec4 u_null_color;"),e.push("vec4 sampleMultiTexture(float texture_id, vec2 uv) {"),e.push(`if(texture_id < -0.5) return u_texture_size[${t}];`);for(let s=0;s<t;s++)e.push(`if(texture_id < ${s}.5) return texture(u_textures[${s}], uv * u_texture_size[${s}].zw);`);return e.push(`return u_texture_size[${t}];`),e.push("}"),e.join(`
`)}static gl_gen_resources(t){const e=[];for(let r=0;r<t;r++)e[r]=r;const s=[];for(let r=0;r<t;r++)s.push(2048),s.push(2048),s.push(1/2048),s.push(1/2048);return{u_textures:{value:e,type:"i32",size:t},u_texture_size:{value:s,type:"vec4<f32>",size:t}}}}var sC=Object.defineProperty,lC=(i,t,e)=>t in i?sC(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,Ag=(i,t,e)=>(lC(i,typeof t!="symbol"?t+"":t,e),e);const rC=`
in vec2 aVertexPosition;
in vec2 aTextureCoord;
in vec4 aFrame;
in vec2 aAnim;
in float aAnimDivisor;
in float aTextureId;
in float aAlpha;

uniform mat3 u_proj_trans;
uniform vec2 u_anim_frame;

out vec2 vTextureCoord;
out float vTextureId;
out vec4 vFrame;
out float vAlpha;

void main(void)
{
  gl_Position = vec4((u_proj_trans * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
  vec2 animCount = floor((aAnim + 0.5) / 2048.0);
  vec2 animFrameOffset = aAnim - animCount * 2048.0;
  vec2 currentFrame = floor(u_anim_frame / aAnimDivisor);
  vec2 loop_num = floor((currentFrame + 0.5) / animCount);
  vec2 animOffset = animFrameOffset * floor(currentFrame - loop_num * animCount);

  vTextureCoord = aTextureCoord + animOffset;
  vFrame = aFrame + vec4(animOffset, animOffset);
  vTextureId = aTextureId;
  vAlpha = aAlpha;
}
`,uC=`
#ifdef GL_FRAGMENT_PRECISION_HIGH
precision highp float;
#else
precision mediump float;
#endif
in vec2 vTextureCoord;
in vec4 vFrame;
in float vTextureId;
in float vAlpha;

//include_textures

void main(void)
{
  float textureId = floor(vTextureId + 0.5);
  vec2 textureCoord = clamp(vTextureCoord, vFrame.xy, vFrame.zw);
  vec4 color = sampleMultiTexture(textureId, textureCoord);
  finalColor = color * vAlpha;
}
`;class l2 extends a2{constructor(){super(...arguments),Ag(this,"_shader",null),Ag(this,"max_textures",Pc.TEXTURES_PER_TILEMAP)}destroy(){this._shader.destroy(!0),this._shader=null}execute(t,e){const s=t.renderer,r=this._shader,c=e.getTileset(),f=r.resources.texture_uniforms;f.uniforms.u_texture_size!==c.tex_sizes&&(f.uniforms.u_texture_size=c.tex_sizes,f.update());for(let d=0;d<c.length;d++)s.texture.bind(c.arr[d],d);s.encoder.draw({geometry:e.vb,shader:r,state:e.state,size:e.rects_count*6})}init(){this._shader=new lh({glProgram:$m.from({vertex:rC,fragment:uC.replace("//include_textures",xo.generate_gl_textures(this.max_textures))}),resources:{texture_uniforms:new Ad(xo.gl_gen_resources(this.max_textures),{isStatic:!0}),pipe_uniforms:this.pipe_uniforms.uniformStructures}})}}Ag(l2,"extension",{type:[Mt.WebGLPipesAdaptor],name:"tilemap"});var oC=Object.defineProperty,cC=(i,t,e)=>t in i?oC(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,Dm=(i,t,e)=>(cC(i,typeof t!="symbol"?t+"":t,e),e);const hC=`
struct GlobalUniforms {
  uProjectionMatrix:mat3x3f,
  uWorldTransformMatrix:mat3x3f,
  uWorldColorAlpha: vec4f,
  uResolution: vec2f,
}

struct TilemapUniforms {
  u_proj_trans:mat3x3f,
  u_anim_frame:vec2f
}

@group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
@group(2) @binding(0) var<uniform> loc: TilemapUniforms;

struct VSOutput {
  @builtin(position) vPosition: vec4f,
  @location(0) @interpolate(flat) vTextureId : i32,
  @location(1) vTextureCoord : vec2f,
  @location(2) @interpolate(flat) vFrame : vec4f,
  @location(3) vAlpha : f32
};

@vertex
fn mainVert(
   @location(6) aVertexPosition: vec2f,
   @location(4) aTextureCoord: vec2f,
   @location(3) aFrame: vec4f,
   @location(1) aAnim: vec2f,
   @location(2) aAnimDivisor: f32,
   @location(5) aTextureId: i32,
   @location(0) aAlpha: f32,
 ) -> VSOutput {

  var vPosition = vec4((loc.u_proj_trans * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
  var animCount = floor((aAnim + 0.5) / 2048.0);
  var animFrameOffset = aAnim - animCount * 2048.0;
  var currentFrame = floor(loc.u_anim_frame / aAnimDivisor);
  var loop_num = floor((currentFrame + 0.5) / animCount);
  var animOffset = animFrameOffset * floor(currentFrame - loop_num * animCount);
  var vTextureCoord = aTextureCoord + animOffset;
  var vFrame = aFrame + vec4(animOffset, animOffset);

  return VSOutput(vPosition, aTextureId, vTextureCoord, vFrame, aAlpha);
};
`,fC=`
//include_textures

@fragment
fn mainFrag(
  @location(0) @interpolate(flat) vTextureId : i32,
  @location(1) vTextureCoord : vec2f,
  @location(2) @interpolate(flat) vFrame : vec4f,
  @location(3) vAlpha : f32,
  ) -> @location(0) vec4f {
  var textureCoord = clamp(vTextureCoord, vFrame.xy, vFrame.zw);
  var uv = textureCoord * taf.u_texture_size[vTextureId].zw;
  var dx = dpdx(uv);
  var dy = dpdy(uv);
  var color = sampleMultiTexture(vTextureId, uv, dx, dy);
  return color * vAlpha;
};
`;class r2 extends a2{constructor(){super(...arguments),Dm(this,"_shader",null),Dm(this,"max_textures",Pc.TEXTURES_PER_TILEMAP),Dm(this,"bind_group",null)}destroy(){this._shader.destroy(!0),this._shader=null}execute(t,e){const s=t.renderer,r=this._shader;r.groups[0]=s.globalUniforms.bindGroup,r.groups[1]=e.getTileset().getBindGroup(),r.groups[2]=this.bind_group,s.encoder.draw({geometry:e.vb,shader:r,state:e.state,size:e.rects_count*6})}init(){this._shader=new lh({gpuProgram:sh.from({vertex:{source:hC,entryPoint:"mainVert"},fragment:{source:fC.replace("//include_textures",xo.generate_gpu_textures(this.max_textures))}})}),this.bind_group=new Qc({ut:this.pipe_uniforms})}}Dm(r2,"extension",{type:[Mt.WebGPUPipesAdaptor],name:"tilemap"});var dC=Object.defineProperty,pC=(i,t,e)=>t in i?dC(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,qi=(i,t,e)=>(pC(i,typeof t!="symbol"?t+"":t,e),e),u2=(i=>(i[i.U=0]="U",i[i.V=1]="V",i[i.X=2]="X",i[i.Y=3]="Y",i[i.TILE_WIDTH=4]="TILE_WIDTH",i[i.TILE_HEIGHT=5]="TILE_HEIGHT",i[i.ROTATE=6]="ROTATE",i[i.ANIM_X=7]="ANIM_X",i[i.ANIM_Y=8]="ANIM_Y",i[i.TEXTURE_INDEX=9]="TEXTURE_INDEX",i[i.ANIM_COUNT_X=10]="ANIM_COUNT_X",i[i.ANIM_COUNT_Y=11]="ANIM_COUNT_Y",i[i.ANIM_DIVISOR=12]="ANIM_DIVISOR",i[i.ALPHA=13]="ALPHA",i))(u2||{});const Ss=Object.keys(u2).length/2;class Tv extends Im{constructor(t){super({}),qi(this,"shadowColor",new Float32Array([0,0,0,.5])),qi(this,"state",ib.for2d()),qi(this,"is_valid",!1),qi(this,"renderPipeId","tilemap"),qi(this,"canBundle",!0),qi(this,"_instruction",{renderPipeId:"tilemap",tilemap:this}),qi(this,"tileAnim",null),qi(this,"rects_count",0),qi(this,"compositeParent",!1),qi(this,"tileset",new xo(Pc.TEXTURES_PER_TILEMAP)),qi(this,"tilemapBounds",new Qa),qi(this,"hasAnimatedTile",!1),qi(this,"pointsBuf",[]),qi(this,"batched"),qi(this,"vbId",0),qi(this,"vb",null),qi(this,"vbBuffer",null),qi(this,"vbArray",null),qi(this,"vbInts",null),this.setTileset(t)}checkValid(){const t=this.tileset.count>0&&this.pointsBuf.length>0,e=this.is_valid!==t;return this.is_valid=t,e!==t}updateBounds(){const t=this.tilemapBounds;this._bounds.minX=t.minX,this._bounds.maxX=t.maxX,this._bounds.minY=t.minY,this._bounds.maxY=t.maxY}getTileset(){return this.tileset}setTileset(t=[]){let e=this.tileset;if(t instanceof xo)this.tileset=t,this.didViewUpdate=!0;else if(t instanceof Sa){if(e.count===1&&e.arr[0]===t)return this;e=this.tileset=new xo(Pc.TEXTURES_PER_TILEMAP),e.push(t),this.didViewUpdate=!0}else{if(t.length===e.count){let s=!0;for(let r=0;r<t.length;r++)if(t[r]?.source!==e.arr[r]){s=!1;break}if(s)return this}e=this.tileset=new xo(Pc.TEXTURES_PER_TILEMAP);for(let s=0;s<t.length;s++)e.push(t[s]?.source);this.didViewUpdate=!0}return this}clear(){return this.pointsBuf.length=0,this.rects_count=0,this.tilemapBounds.clear(),this.hasAnimatedTile=!1,this}tile(t,e,s,r={}){this.didViewUpdate=!0;let c,f=-1,d=!1;if(typeof t=="number")f=t,d=!0,c=this.tileset.arr[f];else{let L;typeof t=="string"?L=Zt.from(t):L=t;const F=this.tileset;for(let tt=0;tt<F.count;tt++)if(F.arr[tt]===L.source){f=tt;break}"frame"in L&&(r.u=r.u??L.frame.x,r.v=r.v??L.frame.y,r.tileWidth=r.tileWidth??L.orig.width,r.tileHeight=r.tileHeight??L.orig.height),c=L.source}if(!d&&!c)return console.error("The tile texture was not found in the tilemap tileset."),this;const{u:_=0,v:y=0,tileWidth:v=c.width,tileHeight:E=c.height,animX:M=0,animY:w=0,rotate:z=0,animCountX:H=1024,animCountY:R=1024,animDivisor:D=1,alpha:N=1}=r,Y=this.pointsBuf;return this.hasAnimatedTile=this.hasAnimatedTile||M>0||w>0,Y.push(_),Y.push(y),Y.push(e),Y.push(s),Y.push(v),Y.push(E),Y.push(z),Y.push(M|0),Y.push(w|0),Y.push(f),Y.push(H),Y.push(R),Y.push(D),Y.push(N),this.tilemapBounds.addFrame(e,s,e+v,s+E),this}tileRotate(t){const e=this.pointsBuf;e[e.length-(Ss-9)]=t}tileAnimX(t,e){const s=this.pointsBuf;s[s.length-(Ss-7)]=t,s[s.length-(Ss-10)]=e}tileAnimY(t,e){const s=this.pointsBuf;s[s.length-(Ss-8)]=t,s[s.length-(Ss-11)]=e}tileAnimDivisor(t){const e=this.pointsBuf;e[e.length-(Ss-12)]=t}tileAlpha(t){const e=this.pointsBuf;e[e.length-(Ss-13)]=t}destroyVb(){this.vb&&(this.vb.destroy(),this.vb=null)}updateBuffer(t){const e=this.pointsBuf,s=e.length/Ss;let r=this.vb;if(this.tileset.count===0||s===0||this.rects_count===s&&r)return;this.rects_count=s,r||(r=t.createVb(),this.vb=r,this.vbId=r.id,this.vbBuffer=null);const c=s*r.vertPerQuad;t.checkIndexBuffer(s);const f=r.getBuffer("aVertexPosition"),d=r.stride*c;if(!this.vbBuffer||this.vbBuffer.byteLength<d){let M=r.stride;for(;M<d;)M*=2;this.vbBuffer=new ArrayBuffer(M),this.vbArray=new Float32Array(this.vbBuffer),this.vbInts=new Uint32Array(this.vbBuffer)}const _=this.vbArray,y=this.vbInts;let v=0,E=0;for(let M=0;M<e.length;M+=Ss){this.compositeParent&&(E=e[M+9]);const z=e[M+2],H=e[M+3],R=e[M+4],D=e[M+5],N=e[M+0],Y=e[M+1];let L=e[M+6];const F=e[M+7],tt=e[M+8],K=e[M+10]||1024,gt=e[M+11]||1024,pt=F+K*2048,rt=tt+gt*2048,ot=e[M+12],Tt=e[M+13];let jt,Pt,$t,q,I,yt,_t,X;if(L===0)jt=N,Pt=Y,$t=N+R,q=Y,I=N+R,yt=Y+D,_t=N,X=Y+D;else{let lt=R/2,mt=D/2;L%4!==0&&(lt=D/2,mt=R/2);const vt=N+lt,At=Y+mt;L=ce.add(L,ce.NW),jt=vt+lt*ce.uX(L),Pt=At+mt*ce.uY(L),L=ce.add(L,2),$t=vt+lt*ce.uX(L),q=At+mt*ce.uY(L),L=ce.add(L,2),I=vt+lt*ce.uX(L),yt=At+mt*ce.uY(L),L=ce.add(L,2),_t=vt+lt*ce.uX(L),X=At+mt*ce.uY(L)}_[v++]=z,_[v++]=H,_[v++]=jt,_[v++]=Pt,_[v++]=N+.5,_[v++]=Y+.5,_[v++]=N+R-.5,_[v++]=Y+D-.5,_[v++]=pt,_[v++]=rt,y[v++]=E,_[v++]=ot,_[v++]=Tt,_[v++]=z+R,_[v++]=H,_[v++]=$t,_[v++]=q,_[v++]=N+.5,_[v++]=Y+.5,_[v++]=N+R-.5,_[v++]=Y+D-.5,_[v++]=pt,_[v++]=rt,y[v++]=E,_[v++]=ot,_[v++]=Tt,_[v++]=z+R,_[v++]=H+D,_[v++]=I,_[v++]=yt,_[v++]=N+.5,_[v++]=Y+.5,_[v++]=N+R-.5,_[v++]=Y+D-.5,_[v++]=pt,_[v++]=rt,y[v++]=E,_[v++]=ot,_[v++]=Tt,_[v++]=z,_[v++]=H+D,_[v++]=_t,_[v++]=X,_[v++]=N+.5,_[v++]=Y+.5,_[v++]=N+R-.5,_[v++]=Y+D-.5,_[v++]=pt,_[v++]=rt,y[v++]=E,_[v++]=ot,_[v++]=Tt}f.data=_}isModified(t){return!!(this.rects_count*Ss!==this.pointsBuf.length||t&&this.hasAnimatedTile)}clearModify(){this.rects_count=this.pointsBuf.length/Ss}addBounds(t){const e=this.tilemapBounds;t.addFrame(e.minX,e.minY,e.maxX,e.maxY)}get bounds(){return this.tilemapBounds}destroy(t){super.destroy(t),this.destroyVb()}addFrame(t,e,s,r,c){return this.tile(t,e,s,{animX:r,animY:c}),!0}addRect(t,e,s,r,c,f,d,_=0,y=0,v=0,E=1024,M=1024,w=1,z=1){return this.tile(t,r,c,{u:e,v:s,tileWidth:f,tileHeight:d,animX:_,animY:y,rotate:v,animCountX:E,animCountY:M,animDivisor:w,alpha:z})}}var mC=Object.defineProperty,yC=(i,t,e)=>t in i?mC(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,kf=(i,t,e)=>(yC(i,typeof t!="symbol"?t+"":t,e),e);let gC=class extends rn{constructor(t){super(),kf(this,"texturesPerTilemap"),kf(this,"tileAnim",null),kf(this,"lastModifiedTilemap",null),kf(this,"modificationMarker",0),kf(this,"setBitmaps",this.tileset),this.texturesPerTilemap=Pc.TEXTURES_PER_TILEMAP,this.tileset(t)}tileset(t){t||(t=[]);const e=this.texturesPerTilemap,s=this.children.length,r=Math.ceil(t.length/e);for(let c=0;c<Math.min(s,r);c++)this.children[c].setTileset(t.slice(c*e,(c+1)*e));for(let c=s;c<r;c++){const f=new Tv(t.slice(c*e,(c+1)*e));f.compositeParent=!0,this.addChild(f)}return this}clear(){for(let t=0;t<this.children.length;t++)this.children[t].clear();return this.modificationMarker=0,this}tileRotate(t){return this.lastModifiedTilemap&&this.lastModifiedTilemap.tileRotate(t),this}tileAnimX(t,e){return this.lastModifiedTilemap&&this.lastModifiedTilemap.tileAnimX(t,e),this}tileAnimY(t,e){return this.lastModifiedTilemap&&this.lastModifiedTilemap.tileAnimY(t,e),this}tileAnimDivisor(t){return this.lastModifiedTilemap&&this.lastModifiedTilemap.tileAnimDivisor(t),this}tile(t,e,s,r={}){let c=null;const f=this.children;if(this.lastModifiedTilemap=null,typeof t=="number"){const d=t/this.texturesPerTilemap>>0;let _=0;if(c=f[d],c)_=t%this.texturesPerTilemap;else{if(c=f[0],!c)return this;_=0}c.tile(_,e,s,r)}else{typeof t=="string"&&(t=Zt.from(t));for(let d=0;d<f.length;d++){const _=f[d],y=_.getTileset().arr;for(let v=0;v<y.length;v++)if(y[v]===t.source){c=_;break}if(c)break}if(!c){for(let d=f.length-1;d>=0;d--){const _=f[d];if(_.getTileset().count<this.texturesPerTilemap){c=_,_.getTileset().push(t.source);break}}c||(c=new Tv(t.source),c.compositeParent=!0,this.addChild(c))}c.tile(t,e,s,r)}return this.lastModifiedTilemap=c,this}isModified(t){const e=this.children;if(this.modificationMarker!==e.length)return!0;for(let s=0;s<e.length;s++)if(e[s].isModified(t))return!0;return!1}clearModify(){const t=this.children;this.modificationMarker=t.length;for(let e=0;e<t.length;e++)t[e].clearModify()}addFrame(t,e,s,r,c,f,d,_,y){return this.tile(t,e,s,{animX:r,animY:c,animCountX:f,animCountY:d,animDivisor:_,alpha:y})}addRect(t,e,s,r,c,f,d,_,y,v,E,M){const w=t/this.texturesPerTilemap>>0,z=t%this.texturesPerTilemap;return this.children[w]&&this.children[w].getTileset().count>0?(this.lastModifiedTilemap=this.children[w],this.lastModifiedTilemap.addRect(z,e,s,r,c,f,d,_,y,v,E,M)):this.lastModifiedTilemap=null,this}get texPerChild(){return this.texturesPerTilemap}};di.add(s2);di.add(l2);di.add(r2);class _C extends gC{constructor(t){super(t.tileset)}}Ro({CustomCompositeTilemap:_C});const o2=Vt.forwardRef((i,t)=>Le.jsx("pixiCustomCompositeTilemap",{...i,ref:t}));var Hy={},Qf={},Mv;function vC(){if(Mv)return Qf;Mv=1,Qf.byteLength=d,Qf.toByteArray=y,Qf.fromByteArray=M;for(var i=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,c=s.length;r<c;++r)i[r]=s[r],t[s.charCodeAt(r)]=r;t[45]=62,t[95]=63;function f(w){var z=w.length;if(z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var H=w.indexOf("=");H===-1&&(H=z);var R=H===z?0:4-H%4;return[H,R]}function d(w){var z=f(w),H=z[0],R=z[1];return(H+R)*3/4-R}function _(w,z,H){return(z+H)*3/4-H}function y(w){var z,H=f(w),R=H[0],D=H[1],N=new e(_(w,R,D)),Y=0,L=D>0?R-4:R,F;for(F=0;F<L;F+=4)z=t[w.charCodeAt(F)]<<18|t[w.charCodeAt(F+1)]<<12|t[w.charCodeAt(F+2)]<<6|t[w.charCodeAt(F+3)],N[Y++]=z>>16&255,N[Y++]=z>>8&255,N[Y++]=z&255;return D===2&&(z=t[w.charCodeAt(F)]<<2|t[w.charCodeAt(F+1)]>>4,N[Y++]=z&255),D===1&&(z=t[w.charCodeAt(F)]<<10|t[w.charCodeAt(F+1)]<<4|t[w.charCodeAt(F+2)]>>2,N[Y++]=z>>8&255,N[Y++]=z&255),N}function v(w){return i[w>>18&63]+i[w>>12&63]+i[w>>6&63]+i[w&63]}function E(w,z,H){for(var R,D=[],N=z;N<H;N+=3)R=(w[N]<<16&16711680)+(w[N+1]<<8&65280)+(w[N+2]&255),D.push(v(R));return D.join("")}function M(w){for(var z,H=w.length,R=H%3,D=[],N=16383,Y=0,L=H-R;Y<L;Y+=N)D.push(E(w,Y,Y+N>L?L:Y+N));return R===1?(z=w[H-1],D.push(i[z>>2]+i[z<<4&63]+"==")):R===2&&(z=(w[H-2]<<8)+w[H-1],D.push(i[z>>10]+i[z>>4&63]+i[z<<2&63]+"=")),D.join("")}return Qf}var Em={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Cv;function xC(){return Cv||(Cv=1,Em.read=function(i,t,e,s,r){var c,f,d=r*8-s-1,_=(1<<d)-1,y=_>>1,v=-7,E=e?r-1:0,M=e?-1:1,w=i[t+E];for(E+=M,c=w&(1<<-v)-1,w>>=-v,v+=d;v>0;c=c*256+i[t+E],E+=M,v-=8);for(f=c&(1<<-v)-1,c>>=-v,v+=s;v>0;f=f*256+i[t+E],E+=M,v-=8);if(c===0)c=1-y;else{if(c===_)return f?NaN:(w?-1:1)*(1/0);f=f+Math.pow(2,s),c=c-y}return(w?-1:1)*f*Math.pow(2,c-s)},Em.write=function(i,t,e,s,r,c){var f,d,_,y=c*8-r-1,v=(1<<y)-1,E=v>>1,M=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=s?0:c-1,z=s?1:-1,H=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,f=v):(f=Math.floor(Math.log(t)/Math.LN2),t*(_=Math.pow(2,-f))<1&&(f--,_*=2),f+E>=1?t+=M/_:t+=M*Math.pow(2,1-E),t*_>=2&&(f++,_/=2),f+E>=v?(d=0,f=v):f+E>=1?(d=(t*_-1)*Math.pow(2,r),f=f+E):(d=t*Math.pow(2,E-1)*Math.pow(2,r),f=0));r>=8;i[e+w]=d&255,w+=z,d/=256,r-=8);for(f=f<<r|d,y+=r;y>0;i[e+w]=f&255,w+=z,f/=256,y-=8);i[e+w-z]|=H*128}),Em}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var zv;function bC(){return zv||(zv=1,function(i){const t=vC(),e=xC(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=d,i.SlowBuffer=N,i.INSPECT_MAX_BYTES=50;const r=2147483647;i.kMaxLength=r,d.TYPED_ARRAY_SUPPORT=c(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const B=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(B,S),B.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function f(B){if(B>r)throw new RangeError('The value "'+B+'" is invalid for option "size"');const S=new Uint8Array(B);return Object.setPrototypeOf(S,d.prototype),S}function d(B,S,T){if(typeof B=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(B)}return _(B,S,T)}d.poolSize=8192;function _(B,S,T){if(typeof B=="string")return M(B,S);if(ArrayBuffer.isView(B))return z(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(qn(B,ArrayBuffer)||B&&qn(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(qn(B,SharedArrayBuffer)||B&&qn(B.buffer,SharedArrayBuffer)))return H(B,S,T);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=B.valueOf&&B.valueOf();if(G!=null&&G!==B)return d.from(G,S,T);const Q=R(B);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return d.from(B[Symbol.toPrimitive]("string"),S,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}d.from=function(B,S,T){return _(B,S,T)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function y(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function v(B,S,T){return y(B),B<=0?f(B):S!==void 0?typeof T=="string"?f(B).fill(S,T):f(B).fill(S):f(B)}d.alloc=function(B,S,T){return v(B,S,T)};function E(B){return y(B),f(B<0?0:D(B)|0)}d.allocUnsafe=function(B){return E(B)},d.allocUnsafeSlow=function(B){return E(B)};function M(B,S){if((typeof S!="string"||S==="")&&(S="utf8"),!d.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const T=Y(B,S)|0;let G=f(T);const Q=G.write(B,S);return Q!==T&&(G=G.slice(0,Q)),G}function w(B){const S=B.length<0?0:D(B.length)|0,T=f(S);for(let G=0;G<S;G+=1)T[G]=B[G]&255;return T}function z(B){if(qn(B,Uint8Array)){const S=new Uint8Array(B);return H(S.buffer,S.byteOffset,S.byteLength)}return w(B)}function H(B,S,T){if(S<0||B.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<S+(T||0))throw new RangeError('"length" is outside of buffer bounds');let G;return S===void 0&&T===void 0?G=new Uint8Array(B):T===void 0?G=new Uint8Array(B,S):G=new Uint8Array(B,S,T),Object.setPrototypeOf(G,d.prototype),G}function R(B){if(d.isBuffer(B)){const S=D(B.length)|0,T=f(S);return T.length===0||B.copy(T,0,0,S),T}if(B.length!==void 0)return typeof B.length!="number"||xl(B.length)?f(0):w(B);if(B.type==="Buffer"&&Array.isArray(B.data))return w(B.data)}function D(B){if(B>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return B|0}function N(B){return+B!=B&&(B=0),d.alloc(+B)}d.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==d.prototype},d.compare=function(S,T){if(qn(S,Uint8Array)&&(S=d.from(S,S.offset,S.byteLength)),qn(T,Uint8Array)&&(T=d.from(T,T.offset,T.byteLength)),!d.isBuffer(S)||!d.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===T)return 0;let G=S.length,Q=T.length;for(let nt=0,ut=Math.min(G,Q);nt<ut;++nt)if(S[nt]!==T[nt]){G=S[nt],Q=T[nt];break}return G<Q?-1:Q<G?1:0},d.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(S,T){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return d.alloc(0);let G;if(T===void 0)for(T=0,G=0;G<S.length;++G)T+=S[G].length;const Q=d.allocUnsafe(T);let nt=0;for(G=0;G<S.length;++G){let ut=S[G];if(qn(ut,Uint8Array))nt+ut.length>Q.length?(d.isBuffer(ut)||(ut=d.from(ut)),ut.copy(Q,nt)):Uint8Array.prototype.set.call(Q,ut,nt);else if(d.isBuffer(ut))ut.copy(Q,nt);else throw new TypeError('"list" argument must be an Array of Buffers');nt+=ut.length}return Q};function Y(B,S){if(d.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||qn(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const T=B.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&T===0)return 0;let Q=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Xe(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return cn(B).length;default:if(Q)return G?-1:Xe(B).length;S=(""+S).toLowerCase(),Q=!0}}d.byteLength=Y;function L(B,S,T){let G=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,S>>>=0,T<=S))return"";for(B||(B="utf8");;)switch(B){case"hex":return _t(this,S,T);case"utf8":case"utf-8":return Pt(this,S,T);case"ascii":return I(this,S,T);case"latin1":case"binary":return yt(this,S,T);case"base64":return jt(this,S,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,S,T);default:if(G)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),G=!0}}d.prototype._isBuffer=!0;function F(B,S,T){const G=B[S];B[S]=B[T],B[T]=G}d.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<S;T+=2)F(this,T,T+1);return this},d.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<S;T+=4)F(this,T,T+3),F(this,T+1,T+2);return this},d.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<S;T+=8)F(this,T,T+7),F(this,T+1,T+6),F(this,T+2,T+5),F(this,T+3,T+4);return this},d.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?Pt(this,0,S):L.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(S){if(!d.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:d.compare(this,S)===0},d.prototype.inspect=function(){let S="";const T=i.INSPECT_MAX_BYTES;return S=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(S+=" ... "),"<Buffer "+S+">"},s&&(d.prototype[s]=d.prototype.inspect),d.prototype.compare=function(S,T,G,Q,nt){if(qn(S,Uint8Array)&&(S=d.from(S,S.offset,S.byteLength)),!d.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(T===void 0&&(T=0),G===void 0&&(G=S?S.length:0),Q===void 0&&(Q=0),nt===void 0&&(nt=this.length),T<0||G>S.length||Q<0||nt>this.length)throw new RangeError("out of range index");if(Q>=nt&&T>=G)return 0;if(Q>=nt)return-1;if(T>=G)return 1;if(T>>>=0,G>>>=0,Q>>>=0,nt>>>=0,this===S)return 0;let ut=nt-Q,Nt=G-T;const ue=Math.min(ut,Nt),ve=this.slice(Q,nt),me=S.slice(T,G);for(let he=0;he<ue;++he)if(ve[he]!==me[he]){ut=ve[he],Nt=me[he];break}return ut<Nt?-1:Nt<ut?1:0};function tt(B,S,T,G,Q){if(B.length===0)return-1;if(typeof T=="string"?(G=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,xl(T)&&(T=Q?0:B.length-1),T<0&&(T=B.length+T),T>=B.length){if(Q)return-1;T=B.length-1}else if(T<0)if(Q)T=0;else return-1;if(typeof S=="string"&&(S=d.from(S,G)),d.isBuffer(S))return S.length===0?-1:K(B,S,T,G,Q);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(B,S,T):Uint8Array.prototype.lastIndexOf.call(B,S,T):K(B,[S],T,G,Q);throw new TypeError("val must be string, number or Buffer")}function K(B,S,T,G,Q){let nt=1,ut=B.length,Nt=S.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(B.length<2||S.length<2)return-1;nt=2,ut/=2,Nt/=2,T/=2}function ue(me,he){return nt===1?me[he]:me.readUInt16BE(he*nt)}let ve;if(Q){let me=-1;for(ve=T;ve<ut;ve++)if(ue(B,ve)===ue(S,me===-1?0:ve-me)){if(me===-1&&(me=ve),ve-me+1===Nt)return me*nt}else me!==-1&&(ve-=ve-me),me=-1}else for(T+Nt>ut&&(T=ut-Nt),ve=T;ve>=0;ve--){let me=!0;for(let he=0;he<Nt;he++)if(ue(B,ve+he)!==ue(S,he)){me=!1;break}if(me)return ve}return-1}d.prototype.includes=function(S,T,G){return this.indexOf(S,T,G)!==-1},d.prototype.indexOf=function(S,T,G){return tt(this,S,T,G,!0)},d.prototype.lastIndexOf=function(S,T,G){return tt(this,S,T,G,!1)};function gt(B,S,T,G){T=Number(T)||0;const Q=B.length-T;G?(G=Number(G),G>Q&&(G=Q)):G=Q;const nt=S.length;G>nt/2&&(G=nt/2);let ut;for(ut=0;ut<G;++ut){const Nt=parseInt(S.substr(ut*2,2),16);if(xl(Nt))return ut;B[T+ut]=Nt}return ut}function pt(B,S,T,G){return hn(Xe(S,B.length-T),B,T,G)}function rt(B,S,T,G){return hn(rr(S),B,T,G)}function ot(B,S,T,G){return hn(cn(S),B,T,G)}function Tt(B,S,T,G){return hn(ws(S,B.length-T),B,T,G)}d.prototype.write=function(S,T,G,Q){if(T===void 0)Q="utf8",G=this.length,T=0;else if(G===void 0&&typeof T=="string")Q=T,G=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(G)?(G=G>>>0,Q===void 0&&(Q="utf8")):(Q=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const nt=this.length-T;if((G===void 0||G>nt)&&(G=nt),S.length>0&&(G<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");let ut=!1;for(;;)switch(Q){case"hex":return gt(this,S,T,G);case"utf8":case"utf-8":return pt(this,S,T,G);case"ascii":case"latin1":case"binary":return rt(this,S,T,G);case"base64":return ot(this,S,T,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tt(this,S,T,G);default:if(ut)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),ut=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function jt(B,S,T){return S===0&&T===B.length?t.fromByteArray(B):t.fromByteArray(B.slice(S,T))}function Pt(B,S,T){T=Math.min(B.length,T);const G=[];let Q=S;for(;Q<T;){const nt=B[Q];let ut=null,Nt=nt>239?4:nt>223?3:nt>191?2:1;if(Q+Nt<=T){let ue,ve,me,he;switch(Nt){case 1:nt<128&&(ut=nt);break;case 2:ue=B[Q+1],(ue&192)===128&&(he=(nt&31)<<6|ue&63,he>127&&(ut=he));break;case 3:ue=B[Q+1],ve=B[Q+2],(ue&192)===128&&(ve&192)===128&&(he=(nt&15)<<12|(ue&63)<<6|ve&63,he>2047&&(he<55296||he>57343)&&(ut=he));break;case 4:ue=B[Q+1],ve=B[Q+2],me=B[Q+3],(ue&192)===128&&(ve&192)===128&&(me&192)===128&&(he=(nt&15)<<18|(ue&63)<<12|(ve&63)<<6|me&63,he>65535&&he<1114112&&(ut=he))}}ut===null?(ut=65533,Nt=1):ut>65535&&(ut-=65536,G.push(ut>>>10&1023|55296),ut=56320|ut&1023),G.push(ut),Q+=Nt}return q(G)}const $t=4096;function q(B){const S=B.length;if(S<=$t)return String.fromCharCode.apply(String,B);let T="",G=0;for(;G<S;)T+=String.fromCharCode.apply(String,B.slice(G,G+=$t));return T}function I(B,S,T){let G="";T=Math.min(B.length,T);for(let Q=S;Q<T;++Q)G+=String.fromCharCode(B[Q]&127);return G}function yt(B,S,T){let G="";T=Math.min(B.length,T);for(let Q=S;Q<T;++Q)G+=String.fromCharCode(B[Q]);return G}function _t(B,S,T){const G=B.length;(!S||S<0)&&(S=0),(!T||T<0||T>G)&&(T=G);let Q="";for(let nt=S;nt<T;++nt)Q+=Oo[B[nt]];return Q}function X(B,S,T){const G=B.slice(S,T);let Q="";for(let nt=0;nt<G.length-1;nt+=2)Q+=String.fromCharCode(G[nt]+G[nt+1]*256);return Q}d.prototype.slice=function(S,T){const G=this.length;S=~~S,T=T===void 0?G:~~T,S<0?(S+=G,S<0&&(S=0)):S>G&&(S=G),T<0?(T+=G,T<0&&(T=0)):T>G&&(T=G),T<S&&(T=S);const Q=this.subarray(S,T);return Object.setPrototypeOf(Q,d.prototype),Q};function lt(B,S,T){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+S>T)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(S,T,G){S=S>>>0,T=T>>>0,G||lt(S,T,this.length);let Q=this[S],nt=1,ut=0;for(;++ut<T&&(nt*=256);)Q+=this[S+ut]*nt;return Q},d.prototype.readUintBE=d.prototype.readUIntBE=function(S,T,G){S=S>>>0,T=T>>>0,G||lt(S,T,this.length);let Q=this[S+--T],nt=1;for(;T>0&&(nt*=256);)Q+=this[S+--T]*nt;return Q},d.prototype.readUint8=d.prototype.readUInt8=function(S,T){return S=S>>>0,T||lt(S,1,this.length),this[S]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(S,T){return S=S>>>0,T||lt(S,2,this.length),this[S]|this[S+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(S,T){return S=S>>>0,T||lt(S,2,this.length),this[S]<<8|this[S+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(S,T){return S=S>>>0,T||lt(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(S,T){return S=S>>>0,T||lt(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},d.prototype.readBigUInt64LE=na(function(S){S=S>>>0,Ke(S,"offset");const T=this[S],G=this[S+7];(T===void 0||G===void 0)&&ri(S,this.length-8);const Q=T+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,nt=this[++S]+this[++S]*2**8+this[++S]*2**16+G*2**24;return BigInt(Q)+(BigInt(nt)<<BigInt(32))}),d.prototype.readBigUInt64BE=na(function(S){S=S>>>0,Ke(S,"offset");const T=this[S],G=this[S+7];(T===void 0||G===void 0)&&ri(S,this.length-8);const Q=T*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],nt=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+G;return(BigInt(Q)<<BigInt(32))+BigInt(nt)}),d.prototype.readIntLE=function(S,T,G){S=S>>>0,T=T>>>0,G||lt(S,T,this.length);let Q=this[S],nt=1,ut=0;for(;++ut<T&&(nt*=256);)Q+=this[S+ut]*nt;return nt*=128,Q>=nt&&(Q-=Math.pow(2,8*T)),Q},d.prototype.readIntBE=function(S,T,G){S=S>>>0,T=T>>>0,G||lt(S,T,this.length);let Q=T,nt=1,ut=this[S+--Q];for(;Q>0&&(nt*=256);)ut+=this[S+--Q]*nt;return nt*=128,ut>=nt&&(ut-=Math.pow(2,8*T)),ut},d.prototype.readInt8=function(S,T){return S=S>>>0,T||lt(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},d.prototype.readInt16LE=function(S,T){S=S>>>0,T||lt(S,2,this.length);const G=this[S]|this[S+1]<<8;return G&32768?G|4294901760:G},d.prototype.readInt16BE=function(S,T){S=S>>>0,T||lt(S,2,this.length);const G=this[S+1]|this[S]<<8;return G&32768?G|4294901760:G},d.prototype.readInt32LE=function(S,T){return S=S>>>0,T||lt(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},d.prototype.readInt32BE=function(S,T){return S=S>>>0,T||lt(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},d.prototype.readBigInt64LE=na(function(S){S=S>>>0,Ke(S,"offset");const T=this[S],G=this[S+7];(T===void 0||G===void 0)&&ri(S,this.length-8);const Q=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(G<<24);return(BigInt(Q)<<BigInt(32))+BigInt(T+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),d.prototype.readBigInt64BE=na(function(S){S=S>>>0,Ke(S,"offset");const T=this[S],G=this[S+7];(T===void 0||G===void 0)&&ri(S,this.length-8);const Q=(T<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(Q)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+G)}),d.prototype.readFloatLE=function(S,T){return S=S>>>0,T||lt(S,4,this.length),e.read(this,S,!0,23,4)},d.prototype.readFloatBE=function(S,T){return S=S>>>0,T||lt(S,4,this.length),e.read(this,S,!1,23,4)},d.prototype.readDoubleLE=function(S,T){return S=S>>>0,T||lt(S,8,this.length),e.read(this,S,!0,52,8)},d.prototype.readDoubleBE=function(S,T){return S=S>>>0,T||lt(S,8,this.length),e.read(this,S,!1,52,8)};function mt(B,S,T,G,Q,nt){if(!d.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>Q||S<nt)throw new RangeError('"value" argument is out of bounds');if(T+G>B.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(S,T,G,Q){if(S=+S,T=T>>>0,G=G>>>0,!Q){const Nt=Math.pow(2,8*G)-1;mt(this,S,T,G,Nt,0)}let nt=1,ut=0;for(this[T]=S&255;++ut<G&&(nt*=256);)this[T+ut]=S/nt&255;return T+G},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(S,T,G,Q){if(S=+S,T=T>>>0,G=G>>>0,!Q){const Nt=Math.pow(2,8*G)-1;mt(this,S,T,G,Nt,0)}let nt=G-1,ut=1;for(this[T+nt]=S&255;--nt>=0&&(ut*=256);)this[T+nt]=S/ut&255;return T+G},d.prototype.writeUint8=d.prototype.writeUInt8=function(S,T,G){return S=+S,T=T>>>0,G||mt(this,S,T,1,255,0),this[T]=S&255,T+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(S,T,G){return S=+S,T=T>>>0,G||mt(this,S,T,2,65535,0),this[T]=S&255,this[T+1]=S>>>8,T+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(S,T,G){return S=+S,T=T>>>0,G||mt(this,S,T,2,65535,0),this[T]=S>>>8,this[T+1]=S&255,T+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(S,T,G){return S=+S,T=T>>>0,G||mt(this,S,T,4,4294967295,0),this[T+3]=S>>>24,this[T+2]=S>>>16,this[T+1]=S>>>8,this[T]=S&255,T+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(S,T,G){return S=+S,T=T>>>0,G||mt(this,S,T,4,4294967295,0),this[T]=S>>>24,this[T+1]=S>>>16,this[T+2]=S>>>8,this[T+3]=S&255,T+4};function vt(B,S,T,G,Q){Ai(S,G,Q,B,T,7);let nt=Number(S&BigInt(4294967295));B[T++]=nt,nt=nt>>8,B[T++]=nt,nt=nt>>8,B[T++]=nt,nt=nt>>8,B[T++]=nt;let ut=Number(S>>BigInt(32)&BigInt(4294967295));return B[T++]=ut,ut=ut>>8,B[T++]=ut,ut=ut>>8,B[T++]=ut,ut=ut>>8,B[T++]=ut,T}function At(B,S,T,G,Q){Ai(S,G,Q,B,T,7);let nt=Number(S&BigInt(4294967295));B[T+7]=nt,nt=nt>>8,B[T+6]=nt,nt=nt>>8,B[T+5]=nt,nt=nt>>8,B[T+4]=nt;let ut=Number(S>>BigInt(32)&BigInt(4294967295));return B[T+3]=ut,ut=ut>>8,B[T+2]=ut,ut=ut>>8,B[T+1]=ut,ut=ut>>8,B[T]=ut,T+8}d.prototype.writeBigUInt64LE=na(function(S,T=0){return vt(this,S,T,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=na(function(S,T=0){return At(this,S,T,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(S,T,G,Q){if(S=+S,T=T>>>0,!Q){const ue=Math.pow(2,8*G-1);mt(this,S,T,G,ue-1,-ue)}let nt=0,ut=1,Nt=0;for(this[T]=S&255;++nt<G&&(ut*=256);)S<0&&Nt===0&&this[T+nt-1]!==0&&(Nt=1),this[T+nt]=(S/ut>>0)-Nt&255;return T+G},d.prototype.writeIntBE=function(S,T,G,Q){if(S=+S,T=T>>>0,!Q){const ue=Math.pow(2,8*G-1);mt(this,S,T,G,ue-1,-ue)}let nt=G-1,ut=1,Nt=0;for(this[T+nt]=S&255;--nt>=0&&(ut*=256);)S<0&&Nt===0&&this[T+nt+1]!==0&&(Nt=1),this[T+nt]=(S/ut>>0)-Nt&255;return T+G},d.prototype.writeInt8=function(S,T,G){return S=+S,T=T>>>0,G||mt(this,S,T,1,127,-128),S<0&&(S=255+S+1),this[T]=S&255,T+1},d.prototype.writeInt16LE=function(S,T,G){return S=+S,T=T>>>0,G||mt(this,S,T,2,32767,-32768),this[T]=S&255,this[T+1]=S>>>8,T+2},d.prototype.writeInt16BE=function(S,T,G){return S=+S,T=T>>>0,G||mt(this,S,T,2,32767,-32768),this[T]=S>>>8,this[T+1]=S&255,T+2},d.prototype.writeInt32LE=function(S,T,G){return S=+S,T=T>>>0,G||mt(this,S,T,4,2147483647,-2147483648),this[T]=S&255,this[T+1]=S>>>8,this[T+2]=S>>>16,this[T+3]=S>>>24,T+4},d.prototype.writeInt32BE=function(S,T,G){return S=+S,T=T>>>0,G||mt(this,S,T,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[T]=S>>>24,this[T+1]=S>>>16,this[T+2]=S>>>8,this[T+3]=S&255,T+4},d.prototype.writeBigInt64LE=na(function(S,T=0){return vt(this,S,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=na(function(S,T=0){return At(this,S,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Dt(B,S,T,G,Q,nt){if(T+G>B.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function zt(B,S,T,G,Q){return S=+S,T=T>>>0,Q||Dt(B,S,T,4),e.write(B,S,T,G,23,4),T+4}d.prototype.writeFloatLE=function(S,T,G){return zt(this,S,T,!0,G)},d.prototype.writeFloatBE=function(S,T,G){return zt(this,S,T,!1,G)};function Fe(B,S,T,G,Q){return S=+S,T=T>>>0,Q||Dt(B,S,T,8),e.write(B,S,T,G,52,8),T+8}d.prototype.writeDoubleLE=function(S,T,G){return Fe(this,S,T,!0,G)},d.prototype.writeDoubleBE=function(S,T,G){return Fe(this,S,T,!1,G)},d.prototype.copy=function(S,T,G,Q){if(!d.isBuffer(S))throw new TypeError("argument should be a Buffer");if(G||(G=0),!Q&&Q!==0&&(Q=this.length),T>=S.length&&(T=S.length),T||(T=0),Q>0&&Q<G&&(Q=G),Q===G||S.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),S.length-T<Q-G&&(Q=S.length-T+G);const nt=Q-G;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,G,Q):Uint8Array.prototype.set.call(S,this.subarray(G,Q),T),nt},d.prototype.fill=function(S,T,G,Q){if(typeof S=="string"){if(typeof T=="string"?(Q=T,T=0,G=this.length):typeof G=="string"&&(Q=G,G=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!d.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);if(S.length===1){const ut=S.charCodeAt(0);(Q==="utf8"&&ut<128||Q==="latin1")&&(S=ut)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(T<0||this.length<T||this.length<G)throw new RangeError("Out of range index");if(G<=T)return this;T=T>>>0,G=G===void 0?this.length:G>>>0,S||(S=0);let nt;if(typeof S=="number")for(nt=T;nt<G;++nt)this[nt]=S;else{const ut=d.isBuffer(S)?S:d.from(S,Q),Nt=ut.length;if(Nt===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(nt=0;nt<G-T;++nt)this[nt+T]=ut[nt%Nt]}return this};const It={};function Si(B,S,T){It[B]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,this.stack,delete this.name}get code(){return B}set code(Q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Q,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}Si("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Si("ERR_INVALID_ARG_TYPE",function(B,S){return`The "${B}" argument must be of type number. Received type ${typeof S}`},TypeError),Si("ERR_OUT_OF_RANGE",function(B,S,T){let G=`The value of "${B}" is out of range.`,Q=T;return Number.isInteger(T)&&Math.abs(T)>2**32?Q=Xn(String(T)):typeof T=="bigint"&&(Q=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(Q=Xn(Q)),Q+="n"),G+=` It must be ${S}. Received ${Q}`,G},RangeError);function Xn(B){let S="",T=B.length;const G=B[0]==="-"?1:0;for(;T>=G+4;T-=3)S=`_${B.slice(T-3,T)}${S}`;return`${B.slice(0,T)}${S}`}function un(B,S,T){Ke(S,"offset"),(B[S]===void 0||B[S+T]===void 0)&&ri(S,B.length-(T+1))}function Ai(B,S,T,G,Q,nt){if(B>T||B<S){const ut=typeof S=="bigint"?"n":"";let Nt;throw S===0||S===BigInt(0)?Nt=`>= 0${ut} and < 2${ut} ** ${(nt+1)*8}${ut}`:Nt=`>= -(2${ut} ** ${(nt+1)*8-1}${ut}) and < 2 ** ${(nt+1)*8-1}${ut}`,new It.ERR_OUT_OF_RANGE("value",Nt,B)}un(G,Q,nt)}function Ke(B,S){if(typeof B!="number")throw new It.ERR_INVALID_ARG_TYPE(S,"number",B)}function ri(B,S,T){throw Math.floor(B)!==B?(Ke(B,T),new It.ERR_OUT_OF_RANGE("offset","an integer",B)):S<0?new It.ERR_BUFFER_OUT_OF_BOUNDS:new It.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,B)}const on=/[^+/0-9A-Za-z-_]/g;function vl(B){if(B=B.split("=")[0],B=B.trim().replace(on,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function Xe(B,S){S=S||1/0;let T;const G=B.length;let Q=null;const nt=[];for(let ut=0;ut<G;++ut){if(T=B.charCodeAt(ut),T>55295&&T<57344){if(!Q){if(T>56319){(S-=3)>-1&&nt.push(239,191,189);continue}else if(ut+1===G){(S-=3)>-1&&nt.push(239,191,189);continue}Q=T;continue}if(T<56320){(S-=3)>-1&&nt.push(239,191,189),Q=T;continue}T=(Q-55296<<10|T-56320)+65536}else Q&&(S-=3)>-1&&nt.push(239,191,189);if(Q=null,T<128){if((S-=1)<0)break;nt.push(T)}else if(T<2048){if((S-=2)<0)break;nt.push(T>>6|192,T&63|128)}else if(T<65536){if((S-=3)<0)break;nt.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((S-=4)<0)break;nt.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return nt}function rr(B){const S=[];for(let T=0;T<B.length;++T)S.push(B.charCodeAt(T)&255);return S}function ws(B,S){let T,G,Q;const nt=[];for(let ut=0;ut<B.length&&!((S-=2)<0);++ut)T=B.charCodeAt(ut),G=T>>8,Q=T%256,nt.push(Q),nt.push(G);return nt}function cn(B){return t.toByteArray(vl(B))}function hn(B,S,T,G){let Q;for(Q=0;Q<G&&!(Q+T>=S.length||Q>=B.length);++Q)S[Q+T]=B[Q];return Q}function qn(B,S){return B instanceof S||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===S.name}function xl(B){return B!==B}const Oo=function(){const B="0123456789abcdef",S=new Array(256);for(let T=0;T<16;++T){const G=T*16;for(let Q=0;Q<16;++Q)S[G+Q]=B[T]+B[Q]}return S}();function na(B){return typeof BigInt>"u"?bl:B}function bl(){throw new Error("BigInt not supported")}}(Hy)),Hy}var Rv=bC();/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const SC=4,Bv=0,Ov=1,AC=2;function oh(i){let t=i.length;for(;--t>=0;)i[t]=0}const EC=0,c2=1,wC=2,TC=3,MC=258,Ig=29,Ed=256,md=Ed+1+Ig,Wc=30,Jg=19,h2=2*md+1,bo=15,Ny=16,CC=7,$g=256,f2=16,d2=17,p2=18,Eg=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Hm=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),zC=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),m2=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RC=512,$l=new Array((md+2)*2);oh($l);const ad=new Array(Wc*2);oh(ad);const yd=new Array(RC);oh(yd);const gd=new Array(MC-TC+1);oh(gd);const t_=new Array(Ig);oh(t_);const Qm=new Array(Wc);oh(Qm);function Gy(i,t,e,s,r){this.static_tree=i,this.extra_bits=t,this.extra_base=e,this.elems=s,this.max_length=r,this.has_stree=i&&i.length}let y2,g2,_2;function Yy(i,t){this.dyn_tree=i,this.max_code=0,this.stat_desc=t}const v2=i=>i<256?yd[i]:yd[256+(i>>>7)],_d=(i,t)=>{i.pending_buf[i.pending++]=t&255,i.pending_buf[i.pending++]=t>>>8&255},ia=(i,t,e)=>{i.bi_valid>Ny-e?(i.bi_buf|=t<<i.bi_valid&65535,_d(i,i.bi_buf),i.bi_buf=t>>Ny-i.bi_valid,i.bi_valid+=e-Ny):(i.bi_buf|=t<<i.bi_valid&65535,i.bi_valid+=e)},ml=(i,t,e)=>{ia(i,e[t*2],e[t*2+1])},x2=(i,t)=>{let e=0;do e|=i&1,i>>>=1,e<<=1;while(--t>0);return e>>>1},BC=i=>{i.bi_valid===16?(_d(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)},OC=(i,t)=>{const e=t.dyn_tree,s=t.max_code,r=t.stat_desc.static_tree,c=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,_=t.stat_desc.max_length;let y,v,E,M,w,z,H=0;for(M=0;M<=bo;M++)i.bl_count[M]=0;for(e[i.heap[i.heap_max]*2+1]=0,y=i.heap_max+1;y<h2;y++)v=i.heap[y],M=e[e[v*2+1]*2+1]+1,M>_&&(M=_,H++),e[v*2+1]=M,!(v>s)&&(i.bl_count[M]++,w=0,v>=d&&(w=f[v-d]),z=e[v*2],i.opt_len+=z*(M+w),c&&(i.static_len+=z*(r[v*2+1]+w)));if(H!==0){do{for(M=_-1;i.bl_count[M]===0;)M--;i.bl_count[M]--,i.bl_count[M+1]+=2,i.bl_count[_]--,H-=2}while(H>0);for(M=_;M!==0;M--)for(v=i.bl_count[M];v!==0;)E=i.heap[--y],!(E>s)&&(e[E*2+1]!==M&&(i.opt_len+=(M-e[E*2+1])*e[E*2],e[E*2+1]=M),v--)}},b2=(i,t,e)=>{const s=new Array(bo+1);let r=0,c,f;for(c=1;c<=bo;c++)r=r+e[c-1]<<1,s[c]=r;for(f=0;f<=t;f++){let d=i[f*2+1];d!==0&&(i[f*2]=x2(s[d]++,d))}},UC=()=>{let i,t,e,s,r;const c=new Array(bo+1);for(e=0,s=0;s<Ig-1;s++)for(t_[s]=e,i=0;i<1<<Eg[s];i++)gd[e++]=s;for(gd[e-1]=s,r=0,s=0;s<16;s++)for(Qm[s]=r,i=0;i<1<<Hm[s];i++)yd[r++]=s;for(r>>=7;s<Wc;s++)for(Qm[s]=r<<7,i=0;i<1<<Hm[s]-7;i++)yd[256+r++]=s;for(t=0;t<=bo;t++)c[t]=0;for(i=0;i<=143;)$l[i*2+1]=8,i++,c[8]++;for(;i<=255;)$l[i*2+1]=9,i++,c[9]++;for(;i<=279;)$l[i*2+1]=7,i++,c[7]++;for(;i<=287;)$l[i*2+1]=8,i++,c[8]++;for(b2($l,md+1,c),i=0;i<Wc;i++)ad[i*2+1]=5,ad[i*2]=x2(i,5);y2=new Gy($l,Eg,Ed+1,md,bo),g2=new Gy(ad,Hm,0,Wc,bo),_2=new Gy(new Array(0),zC,0,Jg,CC)},S2=i=>{let t;for(t=0;t<md;t++)i.dyn_ltree[t*2]=0;for(t=0;t<Wc;t++)i.dyn_dtree[t*2]=0;for(t=0;t<Jg;t++)i.bl_tree[t*2]=0;i.dyn_ltree[$g*2]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},A2=i=>{i.bi_valid>8?_d(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},Uv=(i,t,e,s)=>{const r=t*2,c=e*2;return i[r]<i[c]||i[r]===i[c]&&s[t]<=s[e]},Ly=(i,t,e)=>{const s=i.heap[e];let r=e<<1;for(;r<=i.heap_len&&(r<i.heap_len&&Uv(t,i.heap[r+1],i.heap[r],i.depth)&&r++,!Uv(t,s,i.heap[r],i.depth));)i.heap[e]=i.heap[r],e=r,r<<=1;i.heap[e]=s},Dv=(i,t,e)=>{let s,r,c=0,f,d;if(i.sym_next!==0)do s=i.pending_buf[i.sym_buf+c++]&255,s+=(i.pending_buf[i.sym_buf+c++]&255)<<8,r=i.pending_buf[i.sym_buf+c++],s===0?ml(i,r,t):(f=gd[r],ml(i,f+Ed+1,t),d=Eg[f],d!==0&&(r-=t_[f],ia(i,r,d)),s--,f=v2(s),ml(i,f,e),d=Hm[f],d!==0&&(s-=Qm[f],ia(i,s,d)));while(c<i.sym_next);ml(i,$g,t)},wg=(i,t)=>{const e=t.dyn_tree,s=t.stat_desc.static_tree,r=t.stat_desc.has_stree,c=t.stat_desc.elems;let f,d,_=-1,y;for(i.heap_len=0,i.heap_max=h2,f=0;f<c;f++)e[f*2]!==0?(i.heap[++i.heap_len]=_=f,i.depth[f]=0):e[f*2+1]=0;for(;i.heap_len<2;)y=i.heap[++i.heap_len]=_<2?++_:0,e[y*2]=1,i.depth[y]=0,i.opt_len--,r&&(i.static_len-=s[y*2+1]);for(t.max_code=_,f=i.heap_len>>1;f>=1;f--)Ly(i,e,f);y=c;do f=i.heap[1],i.heap[1]=i.heap[i.heap_len--],Ly(i,e,1),d=i.heap[1],i.heap[--i.heap_max]=f,i.heap[--i.heap_max]=d,e[y*2]=e[f*2]+e[d*2],i.depth[y]=(i.depth[f]>=i.depth[d]?i.depth[f]:i.depth[d])+1,e[f*2+1]=e[d*2+1]=y,i.heap[1]=y++,Ly(i,e,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],OC(i,t),b2(e,_,i.bl_count)},Hv=(i,t,e)=>{let s,r=-1,c,f=t[1],d=0,_=7,y=4;for(f===0&&(_=138,y=3),t[(e+1)*2+1]=65535,s=0;s<=e;s++)c=f,f=t[(s+1)*2+1],!(++d<_&&c===f)&&(d<y?i.bl_tree[c*2]+=d:c!==0?(c!==r&&i.bl_tree[c*2]++,i.bl_tree[f2*2]++):d<=10?i.bl_tree[d2*2]++:i.bl_tree[p2*2]++,d=0,r=c,f===0?(_=138,y=3):c===f?(_=6,y=3):(_=7,y=4))},Nv=(i,t,e)=>{let s,r=-1,c,f=t[1],d=0,_=7,y=4;for(f===0&&(_=138,y=3),s=0;s<=e;s++)if(c=f,f=t[(s+1)*2+1],!(++d<_&&c===f)){if(d<y)do ml(i,c,i.bl_tree);while(--d!==0);else c!==0?(c!==r&&(ml(i,c,i.bl_tree),d--),ml(i,f2,i.bl_tree),ia(i,d-3,2)):d<=10?(ml(i,d2,i.bl_tree),ia(i,d-3,3)):(ml(i,p2,i.bl_tree),ia(i,d-11,7));d=0,r=c,f===0?(_=138,y=3):c===f?(_=6,y=3):(_=7,y=4)}},DC=i=>{let t;for(Hv(i,i.dyn_ltree,i.l_desc.max_code),Hv(i,i.dyn_dtree,i.d_desc.max_code),wg(i,i.bl_desc),t=Jg-1;t>=3&&i.bl_tree[m2[t]*2+1]===0;t--);return i.opt_len+=3*(t+1)+5+5+4,t},HC=(i,t,e,s)=>{let r;for(ia(i,t-257,5),ia(i,e-1,5),ia(i,s-4,4),r=0;r<s;r++)ia(i,i.bl_tree[m2[r]*2+1],3);Nv(i,i.dyn_ltree,t-1),Nv(i,i.dyn_dtree,e-1)},NC=i=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&i.dyn_ltree[e*2]!==0)return Bv;if(i.dyn_ltree[18]!==0||i.dyn_ltree[20]!==0||i.dyn_ltree[26]!==0)return Ov;for(e=32;e<Ed;e++)if(i.dyn_ltree[e*2]!==0)return Ov;return Bv};let Gv=!1;const GC=i=>{Gv||(UC(),Gv=!0),i.l_desc=new Yy(i.dyn_ltree,y2),i.d_desc=new Yy(i.dyn_dtree,g2),i.bl_desc=new Yy(i.bl_tree,_2),i.bi_buf=0,i.bi_valid=0,S2(i)},E2=(i,t,e,s)=>{ia(i,(EC<<1)+(s?1:0),3),A2(i),_d(i,e),_d(i,~e),e&&i.pending_buf.set(i.window.subarray(t,t+e),i.pending),i.pending+=e},YC=i=>{ia(i,c2<<1,3),ml(i,$g,$l),BC(i)},LC=(i,t,e,s)=>{let r,c,f=0;i.level>0?(i.strm.data_type===AC&&(i.strm.data_type=NC(i)),wg(i,i.l_desc),wg(i,i.d_desc),f=DC(i),r=i.opt_len+3+7>>>3,c=i.static_len+3+7>>>3,c<=r&&(r=c)):r=c=e+5,e+4<=r&&t!==-1?E2(i,t,e,s):i.strategy===SC||c===r?(ia(i,(c2<<1)+(s?1:0),3),Dv(i,$l,ad)):(ia(i,(wC<<1)+(s?1:0),3),HC(i,i.l_desc.max_code+1,i.d_desc.max_code+1,f+1),Dv(i,i.dyn_ltree,i.dyn_dtree)),S2(i),s&&A2(i)},XC=(i,t,e)=>(i.pending_buf[i.sym_buf+i.sym_next++]=t,i.pending_buf[i.sym_buf+i.sym_next++]=t>>8,i.pending_buf[i.sym_buf+i.sym_next++]=e,t===0?i.dyn_ltree[e*2]++:(i.matches++,t--,i.dyn_ltree[(gd[e]+Ed+1)*2]++,i.dyn_dtree[v2(t)*2]++),i.sym_next===i.sym_end);var qC=GC,jC=E2,VC=LC,ZC=XC,kC=YC,QC={_tr_init:qC,_tr_stored_block:jC,_tr_flush_block:VC,_tr_tally:ZC,_tr_align:kC};const FC=(i,t,e,s)=>{let r=i&65535|0,c=i>>>16&65535|0,f=0;for(;e!==0;){f=e>2e3?2e3:e,e-=f;do r=r+t[s++]|0,c=c+r|0;while(--f);r%=65521,c%=65521}return r|c<<16|0};var vd=FC;const KC=()=>{let i,t=[];for(var e=0;e<256;e++){i=e;for(var s=0;s<8;s++)i=i&1?3988292384^i>>>1:i>>>1;t[e]=i}return t},PC=new Uint32Array(KC()),WC=(i,t,e,s)=>{const r=PC,c=s+e;i^=-1;for(let f=s;f<c;f++)i=i>>>8^r[(i^t[f])&255];return i^-1};var Ki=WC,To={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:IC,_tr_stored_block:Tg,_tr_flush_block:JC,_tr_tally:cu,_tr_align:$C}=QC,{Z_NO_FLUSH:hu,Z_PARTIAL_FLUSH:t6,Z_FULL_FLUSH:e6,Z_FINISH:Za,Z_BLOCK:Yv,Z_OK:ln,Z_STREAM_END:Lv,Z_STREAM_ERROR:yl,Z_DATA_ERROR:i6,Z_BUF_ERROR:Xy,Z_DEFAULT_COMPRESSION:n6,Z_FILTERED:a6,Z_HUFFMAN_ONLY:wm,Z_RLE:s6,Z_FIXED:l6,Z_DEFAULT_STRATEGY:r6,Z_UNKNOWN:u6,Z_DEFLATED:n0}=wd,o6=9,c6=15,h6=8,f6=29,d6=256,Mg=d6+1+f6,p6=30,m6=19,y6=2*Mg+1,g6=15,pe=3,ou=258,gl=ou+pe+1,_6=32,ih=42,e_=57,Cg=69,zg=73,Rg=91,Bg=103,So=113,$f=666,Ln=1,ch=2,Mo=3,hh=4,v6=3,Ao=(i,t)=>(i.msg=To[t],t),Xv=i=>i*2-(i>4?9:0),ru=i=>{let t=i.length;for(;--t>=0;)i[t]=0},x6=i=>{let t,e,s,r=i.w_size;t=i.hash_size,s=t;do e=i.head[--s],i.head[s]=e>=r?e-r:0;while(--t);t=r,s=t;do e=i.prev[--s],i.prev[s]=e>=r?e-r:0;while(--t)};let b6=(i,t,e)=>(t<<i.hash_shift^e)&i.hash_mask,fu=b6;const va=i=>{const t=i.state;let e=t.pending;e>i.avail_out&&(e=i.avail_out),e!==0&&(i.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),i.next_out),i.next_out+=e,t.pending_out+=e,i.total_out+=e,i.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},xa=(i,t)=>{JC(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,t),i.block_start=i.strstart,va(i.strm)},we=(i,t)=>{i.pending_buf[i.pending++]=t},Ff=(i,t)=>{i.pending_buf[i.pending++]=t>>>8&255,i.pending_buf[i.pending++]=t&255},Og=(i,t,e,s)=>{let r=i.avail_in;return r>s&&(r=s),r===0?0:(i.avail_in-=r,t.set(i.input.subarray(i.next_in,i.next_in+r),e),i.state.wrap===1?i.adler=vd(i.adler,t,r,e):i.state.wrap===2&&(i.adler=Ki(i.adler,t,r,e)),i.next_in+=r,i.total_in+=r,r)},w2=(i,t)=>{let e=i.max_chain_length,s=i.strstart,r,c,f=i.prev_length,d=i.nice_match;const _=i.strstart>i.w_size-gl?i.strstart-(i.w_size-gl):0,y=i.window,v=i.w_mask,E=i.prev,M=i.strstart+ou;let w=y[s+f-1],z=y[s+f];i.prev_length>=i.good_match&&(e>>=2),d>i.lookahead&&(d=i.lookahead);do if(r=t,!(y[r+f]!==z||y[r+f-1]!==w||y[r]!==y[s]||y[++r]!==y[s+1])){s+=2,r++;do;while(y[++s]===y[++r]&&y[++s]===y[++r]&&y[++s]===y[++r]&&y[++s]===y[++r]&&y[++s]===y[++r]&&y[++s]===y[++r]&&y[++s]===y[++r]&&y[++s]===y[++r]&&s<M);if(c=ou-(M-s),s=M-ou,c>f){if(i.match_start=t,f=c,c>=d)break;w=y[s+f-1],z=y[s+f]}}while((t=E[t&v])>_&&--e!==0);return f<=i.lookahead?f:i.lookahead},nh=i=>{const t=i.w_size;let e,s,r;do{if(s=i.window_size-i.lookahead-i.strstart,i.strstart>=t+(t-gl)&&(i.window.set(i.window.subarray(t,t+t-s),0),i.match_start-=t,i.strstart-=t,i.block_start-=t,i.insert>i.strstart&&(i.insert=i.strstart),x6(i),s+=t),i.strm.avail_in===0)break;if(e=Og(i.strm,i.window,i.strstart+i.lookahead,s),i.lookahead+=e,i.lookahead+i.insert>=pe)for(r=i.strstart-i.insert,i.ins_h=i.window[r],i.ins_h=fu(i,i.ins_h,i.window[r+1]);i.insert&&(i.ins_h=fu(i,i.ins_h,i.window[r+pe-1]),i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++,i.insert--,!(i.lookahead+i.insert<pe)););}while(i.lookahead<gl&&i.strm.avail_in!==0)},T2=(i,t)=>{let e=i.pending_buf_size-5>i.w_size?i.w_size:i.pending_buf_size-5,s,r,c,f=0,d=i.strm.avail_in;do{if(s=65535,c=i.bi_valid+42>>3,i.strm.avail_out<c||(c=i.strm.avail_out-c,r=i.strstart-i.block_start,s>r+i.strm.avail_in&&(s=r+i.strm.avail_in),s>c&&(s=c),s<e&&(s===0&&t!==Za||t===hu||s!==r+i.strm.avail_in)))break;f=t===Za&&s===r+i.strm.avail_in?1:0,Tg(i,0,0,f),i.pending_buf[i.pending-4]=s,i.pending_buf[i.pending-3]=s>>8,i.pending_buf[i.pending-2]=~s,i.pending_buf[i.pending-1]=~s>>8,va(i.strm),r&&(r>s&&(r=s),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+r),i.strm.next_out),i.strm.next_out+=r,i.strm.avail_out-=r,i.strm.total_out+=r,i.block_start+=r,s-=r),s&&(Og(i.strm,i.strm.output,i.strm.next_out,s),i.strm.next_out+=s,i.strm.avail_out-=s,i.strm.total_out+=s)}while(f===0);return d-=i.strm.avail_in,d&&(d>=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart<=d&&(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,i.insert>i.strstart&&(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-d,i.strm.next_in),i.strstart),i.strstart+=d,i.insert+=d>i.w_size-i.insert?i.w_size-i.insert:d),i.block_start=i.strstart),i.high_water<i.strstart&&(i.high_water=i.strstart),f?hh:t!==hu&&t!==Za&&i.strm.avail_in===0&&i.strstart===i.block_start?ch:(c=i.window_size-i.strstart,i.strm.avail_in>c&&i.block_start>=i.w_size&&(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,c+=i.w_size,i.insert>i.strstart&&(i.insert=i.strstart)),c>i.strm.avail_in&&(c=i.strm.avail_in),c&&(Og(i.strm,i.window,i.strstart,c),i.strstart+=c,i.insert+=c>i.w_size-i.insert?i.w_size-i.insert:c),i.high_water<i.strstart&&(i.high_water=i.strstart),c=i.bi_valid+42>>3,c=i.pending_buf_size-c>65535?65535:i.pending_buf_size-c,e=c>i.w_size?i.w_size:c,r=i.strstart-i.block_start,(r>=e||(r||t===Za)&&t!==hu&&i.strm.avail_in===0&&r<=c)&&(s=r>c?c:r,f=t===Za&&i.strm.avail_in===0&&s===r?1:0,Tg(i,i.block_start,s,f),i.block_start+=s,va(i.strm)),f?Mo:Ln)},qy=(i,t)=>{let e,s;for(;;){if(i.lookahead<gl){if(nh(i),i.lookahead<gl&&t===hu)return Ln;if(i.lookahead===0)break}if(e=0,i.lookahead>=pe&&(i.ins_h=fu(i,i.ins_h,i.window[i.strstart+pe-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),e!==0&&i.strstart-e<=i.w_size-gl&&(i.match_length=w2(i,e)),i.match_length>=pe)if(s=cu(i,i.strstart-i.match_start,i.match_length-pe),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=pe){i.match_length--;do i.strstart++,i.ins_h=fu(i,i.ins_h,i.window[i.strstart+pe-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=fu(i,i.ins_h,i.window[i.strstart+1]);else s=cu(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(s&&(xa(i,!1),i.strm.avail_out===0))return Ln}return i.insert=i.strstart<pe-1?i.strstart:pe-1,t===Za?(xa(i,!0),i.strm.avail_out===0?Mo:hh):i.sym_next&&(xa(i,!1),i.strm.avail_out===0)?Ln:ch},jc=(i,t)=>{let e,s,r;for(;;){if(i.lookahead<gl){if(nh(i),i.lookahead<gl&&t===hu)return Ln;if(i.lookahead===0)break}if(e=0,i.lookahead>=pe&&(i.ins_h=fu(i,i.ins_h,i.window[i.strstart+pe-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=pe-1,e!==0&&i.prev_length<i.max_lazy_match&&i.strstart-e<=i.w_size-gl&&(i.match_length=w2(i,e),i.match_length<=5&&(i.strategy===a6||i.match_length===pe&&i.strstart-i.match_start>4096)&&(i.match_length=pe-1)),i.prev_length>=pe&&i.match_length<=i.prev_length){r=i.strstart+i.lookahead-pe,s=cu(i,i.strstart-1-i.prev_match,i.prev_length-pe),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=r&&(i.ins_h=fu(i,i.ins_h,i.window[i.strstart+pe-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=pe-1,i.strstart++,s&&(xa(i,!1),i.strm.avail_out===0))return Ln}else if(i.match_available){if(s=cu(i,0,i.window[i.strstart-1]),s&&xa(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return Ln}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(s=cu(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<pe-1?i.strstart:pe-1,t===Za?(xa(i,!0),i.strm.avail_out===0?Mo:hh):i.sym_next&&(xa(i,!1),i.strm.avail_out===0)?Ln:ch},S6=(i,t)=>{let e,s,r,c;const f=i.window;for(;;){if(i.lookahead<=ou){if(nh(i),i.lookahead<=ou&&t===hu)return Ln;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=pe&&i.strstart>0&&(r=i.strstart-1,s=f[r],s===f[++r]&&s===f[++r]&&s===f[++r])){c=i.strstart+ou;do;while(s===f[++r]&&s===f[++r]&&s===f[++r]&&s===f[++r]&&s===f[++r]&&s===f[++r]&&s===f[++r]&&s===f[++r]&&r<c);i.match_length=ou-(c-r),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=pe?(e=cu(i,1,i.match_length-pe),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(e=cu(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),e&&(xa(i,!1),i.strm.avail_out===0))return Ln}return i.insert=0,t===Za?(xa(i,!0),i.strm.avail_out===0?Mo:hh):i.sym_next&&(xa(i,!1),i.strm.avail_out===0)?Ln:ch},A6=(i,t)=>{let e;for(;;){if(i.lookahead===0&&(nh(i),i.lookahead===0)){if(t===hu)return Ln;break}if(i.match_length=0,e=cu(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,e&&(xa(i,!1),i.strm.avail_out===0))return Ln}return i.insert=0,t===Za?(xa(i,!0),i.strm.avail_out===0?Mo:hh):i.sym_next&&(xa(i,!1),i.strm.avail_out===0)?Ln:ch};function fl(i,t,e,s,r){this.good_length=i,this.max_lazy=t,this.nice_length=e,this.max_chain=s,this.func=r}const td=[new fl(0,0,0,0,T2),new fl(4,4,8,4,qy),new fl(4,5,16,8,qy),new fl(4,6,32,32,qy),new fl(4,4,16,16,jc),new fl(8,16,32,32,jc),new fl(8,16,128,128,jc),new fl(8,32,128,256,jc),new fl(32,128,258,1024,jc),new fl(32,258,258,4096,jc)],E6=i=>{i.window_size=2*i.w_size,ru(i.head),i.max_lazy_match=td[i.level].max_lazy,i.good_match=td[i.level].good_length,i.nice_match=td[i.level].nice_length,i.max_chain_length=td[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=pe-1,i.match_available=0,i.ins_h=0};function w6(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=n0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(y6*2),this.dyn_dtree=new Uint16Array((2*p6+1)*2),this.bl_tree=new Uint16Array((2*m6+1)*2),ru(this.dyn_ltree),ru(this.dyn_dtree),ru(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(g6+1),this.heap=new Uint16Array(2*Mg+1),ru(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Mg+1),ru(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Td=i=>{if(!i)return 1;const t=i.state;return!t||t.strm!==i||t.status!==ih&&t.status!==e_&&t.status!==Cg&&t.status!==zg&&t.status!==Rg&&t.status!==Bg&&t.status!==So&&t.status!==$f?1:0},M2=i=>{if(Td(i))return Ao(i,yl);i.total_in=i.total_out=0,i.data_type=u6;const t=i.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?e_:t.wrap?ih:So,i.adler=t.wrap===2?0:1,t.last_flush=-2,IC(t),ln},C2=i=>{const t=M2(i);return t===ln&&E6(i.state),t},T6=(i,t)=>Td(i)||i.state.wrap!==2?yl:(i.state.gzhead=t,ln),z2=(i,t,e,s,r,c)=>{if(!i)return yl;let f=1;if(t===n6&&(t=6),s<0?(f=0,s=-s):s>15&&(f=2,s-=16),r<1||r>o6||e!==n0||s<8||s>15||t<0||t>9||c<0||c>l6||s===8&&f!==1)return Ao(i,yl);s===8&&(s=9);const d=new w6;return i.state=d,d.strm=i,d.status=ih,d.wrap=f,d.gzhead=null,d.w_bits=s,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=r+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+pe-1)/pe),d.window=new Uint8Array(d.w_size*2),d.head=new Uint16Array(d.hash_size),d.prev=new Uint16Array(d.w_size),d.lit_bufsize=1<<r+6,d.pending_buf_size=d.lit_bufsize*4,d.pending_buf=new Uint8Array(d.pending_buf_size),d.sym_buf=d.lit_bufsize,d.sym_end=(d.lit_bufsize-1)*3,d.level=t,d.strategy=c,d.method=e,C2(i)},M6=(i,t)=>z2(i,t,n0,c6,h6,r6),C6=(i,t)=>{if(Td(i)||t>Yv||t<0)return i?Ao(i,yl):yl;const e=i.state;if(!i.output||i.avail_in!==0&&!i.input||e.status===$f&&t!==Za)return Ao(i,i.avail_out===0?Xy:yl);const s=e.last_flush;if(e.last_flush=t,e.pending!==0){if(va(i),i.avail_out===0)return e.last_flush=-1,ln}else if(i.avail_in===0&&Xv(t)<=Xv(s)&&t!==Za)return Ao(i,Xy);if(e.status===$f&&i.avail_in!==0)return Ao(i,Xy);if(e.status===ih&&e.wrap===0&&(e.status=So),e.status===ih){let r=n0+(e.w_bits-8<<4)<<8,c=-1;if(e.strategy>=wm||e.level<2?c=0:e.level<6?c=1:e.level===6?c=2:c=3,r|=c<<6,e.strstart!==0&&(r|=_6),r+=31-r%31,Ff(e,r),e.strstart!==0&&(Ff(e,i.adler>>>16),Ff(e,i.adler&65535)),i.adler=1,e.status=So,va(i),e.pending!==0)return e.last_flush=-1,ln}if(e.status===e_){if(i.adler=0,we(e,31),we(e,139),we(e,8),e.gzhead)we(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),we(e,e.gzhead.time&255),we(e,e.gzhead.time>>8&255),we(e,e.gzhead.time>>16&255),we(e,e.gzhead.time>>24&255),we(e,e.level===9?2:e.strategy>=wm||e.level<2?4:0),we(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(we(e,e.gzhead.extra.length&255),we(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(i.adler=Ki(i.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=Cg;else if(we(e,0),we(e,0),we(e,0),we(e,0),we(e,0),we(e,e.level===9?2:e.strategy>=wm||e.level<2?4:0),we(e,v6),e.status=So,va(i),e.pending!==0)return e.last_flush=-1,ln}if(e.status===Cg){if(e.gzhead.extra){let r=e.pending,c=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+c>e.pending_buf_size;){let d=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+d),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>r&&(i.adler=Ki(i.adler,e.pending_buf,e.pending-r,r)),e.gzindex+=d,va(i),e.pending!==0)return e.last_flush=-1,ln;r=0,c-=d}let f=new Uint8Array(e.gzhead.extra);e.pending_buf.set(f.subarray(e.gzindex,e.gzindex+c),e.pending),e.pending+=c,e.gzhead.hcrc&&e.pending>r&&(i.adler=Ki(i.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=zg}if(e.status===zg){if(e.gzhead.name){let r=e.pending,c;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(i.adler=Ki(i.adler,e.pending_buf,e.pending-r,r)),va(i),e.pending!==0)return e.last_flush=-1,ln;r=0}e.gzindex<e.gzhead.name.length?c=e.gzhead.name.charCodeAt(e.gzindex++)&255:c=0,we(e,c)}while(c!==0);e.gzhead.hcrc&&e.pending>r&&(i.adler=Ki(i.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=Rg}if(e.status===Rg){if(e.gzhead.comment){let r=e.pending,c;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(i.adler=Ki(i.adler,e.pending_buf,e.pending-r,r)),va(i),e.pending!==0)return e.last_flush=-1,ln;r=0}e.gzindex<e.gzhead.comment.length?c=e.gzhead.comment.charCodeAt(e.gzindex++)&255:c=0,we(e,c)}while(c!==0);e.gzhead.hcrc&&e.pending>r&&(i.adler=Ki(i.adler,e.pending_buf,e.pending-r,r))}e.status=Bg}if(e.status===Bg){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(va(i),e.pending!==0))return e.last_flush=-1,ln;we(e,i.adler&255),we(e,i.adler>>8&255),i.adler=0}if(e.status=So,va(i),e.pending!==0)return e.last_flush=-1,ln}if(i.avail_in!==0||e.lookahead!==0||t!==hu&&e.status!==$f){let r=e.level===0?T2(e,t):e.strategy===wm?A6(e,t):e.strategy===s6?S6(e,t):td[e.level].func(e,t);if((r===Mo||r===hh)&&(e.status=$f),r===Ln||r===Mo)return i.avail_out===0&&(e.last_flush=-1),ln;if(r===ch&&(t===t6?$C(e):t!==Yv&&(Tg(e,0,0,!1),t===e6&&(ru(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),va(i),i.avail_out===0))return e.last_flush=-1,ln}return t!==Za?ln:e.wrap<=0?Lv:(e.wrap===2?(we(e,i.adler&255),we(e,i.adler>>8&255),we(e,i.adler>>16&255),we(e,i.adler>>24&255),we(e,i.total_in&255),we(e,i.total_in>>8&255),we(e,i.total_in>>16&255),we(e,i.total_in>>24&255)):(Ff(e,i.adler>>>16),Ff(e,i.adler&65535)),va(i),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?ln:Lv)},z6=i=>{if(Td(i))return yl;const t=i.state.status;return i.state=null,t===So?Ao(i,i6):ln},R6=(i,t)=>{let e=t.length;if(Td(i))return yl;const s=i.state,r=s.wrap;if(r===2||r===1&&s.status!==ih||s.lookahead)return yl;if(r===1&&(i.adler=vd(i.adler,t,e,0)),s.wrap=0,e>=s.w_size){r===0&&(ru(s.head),s.strstart=0,s.block_start=0,s.insert=0);let _=new Uint8Array(s.w_size);_.set(t.subarray(e-s.w_size,e),0),t=_,e=s.w_size}const c=i.avail_in,f=i.next_in,d=i.input;for(i.avail_in=e,i.next_in=0,i.input=t,nh(s);s.lookahead>=pe;){let _=s.strstart,y=s.lookahead-(pe-1);do s.ins_h=fu(s,s.ins_h,s.window[_+pe-1]),s.prev[_&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=_,_++;while(--y);s.strstart=_,s.lookahead=pe-1,nh(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=pe-1,s.match_available=0,i.next_in=f,i.input=d,i.avail_in=c,s.wrap=r,ln};var B6=M6,O6=z2,U6=C2,D6=M2,H6=T6,N6=C6,G6=z6,Y6=R6,L6="pako deflate (from Nodeca project)",sd={deflateInit:B6,deflateInit2:O6,deflateReset:U6,deflateResetKeep:D6,deflateSetHeader:H6,deflate:N6,deflateEnd:G6,deflateSetDictionary:Y6,deflateInfo:L6};const X6=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var q6=function(i){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const s in e)X6(e,s)&&(i[s]=e[s])}}return i},j6=i=>{let t=0;for(let s=0,r=i.length;s<r;s++)t+=i[s].length;const e=new Uint8Array(t);for(let s=0,r=0,c=i.length;s<c;s++){let f=i[s];e.set(f,r),r+=f.length}return e},a0={assign:q6,flattenChunks:j6};let R2=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{R2=!1}const xd=new Uint8Array(256);for(let i=0;i<256;i++)xd[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;xd[254]=xd[254]=1;var V6=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let t,e,s,r,c,f=i.length,d=0;for(r=0;r<f;r++)e=i.charCodeAt(r),(e&64512)===55296&&r+1<f&&(s=i.charCodeAt(r+1),(s&64512)===56320&&(e=65536+(e-55296<<10)+(s-56320),r++)),d+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(d),c=0,r=0;c<d;r++)e=i.charCodeAt(r),(e&64512)===55296&&r+1<f&&(s=i.charCodeAt(r+1),(s&64512)===56320&&(e=65536+(e-55296<<10)+(s-56320),r++)),e<128?t[c++]=e:e<2048?(t[c++]=192|e>>>6,t[c++]=128|e&63):e<65536?(t[c++]=224|e>>>12,t[c++]=128|e>>>6&63,t[c++]=128|e&63):(t[c++]=240|e>>>18,t[c++]=128|e>>>12&63,t[c++]=128|e>>>6&63,t[c++]=128|e&63);return t};const Z6=(i,t)=>{if(t<65534&&i.subarray&&R2)return String.fromCharCode.apply(null,i.length===t?i:i.subarray(0,t));let e="";for(let s=0;s<t;s++)e+=String.fromCharCode(i[s]);return e};var k6=(i,t)=>{const e=t||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,t));let s,r;const c=new Array(e*2);for(r=0,s=0;s<e;){let f=i[s++];if(f<128){c[r++]=f;continue}let d=xd[f];if(d>4){c[r++]=65533,s+=d-1;continue}for(f&=d===2?31:d===3?15:7;d>1&&s<e;)f=f<<6|i[s++]&63,d--;if(d>1){c[r++]=65533;continue}f<65536?c[r++]=f:(f-=65536,c[r++]=55296|f>>10&1023,c[r++]=56320|f&1023)}return Z6(c,r)},Q6=(i,t)=>{t=t||i.length,t>i.length&&(t=i.length);let e=t-1;for(;e>=0&&(i[e]&192)===128;)e--;return e<0||e===0?t:e+xd[i[e]]>t?e:t},bd={string2buf:V6,buf2string:k6,utf8border:Q6};function F6(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var B2=F6;const O2=Object.prototype.toString,{Z_NO_FLUSH:K6,Z_SYNC_FLUSH:P6,Z_FULL_FLUSH:W6,Z_FINISH:I6,Z_OK:Fm,Z_STREAM_END:J6,Z_DEFAULT_COMPRESSION:$6,Z_DEFAULT_STRATEGY:tz,Z_DEFLATED:ez}=wd;function Md(i){this.options=a0.assign({level:$6,method:ez,chunkSize:16384,windowBits:15,memLevel:8,strategy:tz},i||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new B2,this.strm.avail_out=0;let e=sd.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==Fm)throw new Error(To[e]);if(t.header&&sd.deflateSetHeader(this.strm,t.header),t.dictionary){let s;if(typeof t.dictionary=="string"?s=bd.string2buf(t.dictionary):O2.call(t.dictionary)==="[object ArrayBuffer]"?s=new Uint8Array(t.dictionary):s=t.dictionary,e=sd.deflateSetDictionary(this.strm,s),e!==Fm)throw new Error(To[e]);this._dict_set=!0}}Md.prototype.push=function(i,t){const e=this.strm,s=this.options.chunkSize;let r,c;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?I6:K6,typeof i=="string"?e.input=bd.string2buf(i):O2.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(s),e.next_out=0,e.avail_out=s),(c===P6||c===W6)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(r=sd.deflate(e,c),r===J6)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),r=sd.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Fm;if(e.avail_out===0){this.onData(e.output);continue}if(c>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};Md.prototype.onData=function(i){this.chunks.push(i)};Md.prototype.onEnd=function(i){i===Fm&&(this.result=a0.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function i_(i,t){const e=new Md(t);if(e.push(i,!0),e.err)throw e.msg||To[e.err];return e.result}function iz(i,t){return t=t||{},t.raw=!0,i_(i,t)}function nz(i,t){return t=t||{},t.gzip=!0,i_(i,t)}var az=Md,sz=i_,lz=iz,rz=nz,uz={Deflate:az,deflate:sz,deflateRaw:lz,gzip:rz};const Tm=16209,oz=16191;var cz=function(t,e){let s,r,c,f,d,_,y,v,E,M,w,z,H,R,D,N,Y,L,F,tt,K,gt,pt,rt;const ot=t.state;s=t.next_in,pt=t.input,r=s+(t.avail_in-5),c=t.next_out,rt=t.output,f=c-(e-t.avail_out),d=c+(t.avail_out-257),_=ot.dmax,y=ot.wsize,v=ot.whave,E=ot.wnext,M=ot.window,w=ot.hold,z=ot.bits,H=ot.lencode,R=ot.distcode,D=(1<<ot.lenbits)-1,N=(1<<ot.distbits)-1;t:do{z<15&&(w+=pt[s++]<<z,z+=8,w+=pt[s++]<<z,z+=8),Y=H[w&D];e:for(;;){if(L=Y>>>24,w>>>=L,z-=L,L=Y>>>16&255,L===0)rt[c++]=Y&65535;else if(L&16){F=Y&65535,L&=15,L&&(z<L&&(w+=pt[s++]<<z,z+=8),F+=w&(1<<L)-1,w>>>=L,z-=L),z<15&&(w+=pt[s++]<<z,z+=8,w+=pt[s++]<<z,z+=8),Y=R[w&N];i:for(;;){if(L=Y>>>24,w>>>=L,z-=L,L=Y>>>16&255,L&16){if(tt=Y&65535,L&=15,z<L&&(w+=pt[s++]<<z,z+=8,z<L&&(w+=pt[s++]<<z,z+=8)),tt+=w&(1<<L)-1,tt>_){t.msg="invalid distance too far back",ot.mode=Tm;break t}if(w>>>=L,z-=L,L=c-f,tt>L){if(L=tt-L,L>v&&ot.sane){t.msg="invalid distance too far back",ot.mode=Tm;break t}if(K=0,gt=M,E===0){if(K+=y-L,L<F){F-=L;do rt[c++]=M[K++];while(--L);K=c-tt,gt=rt}}else if(E<L){if(K+=y+E-L,L-=E,L<F){F-=L;do rt[c++]=M[K++];while(--L);if(K=0,E<F){L=E,F-=L;do rt[c++]=M[K++];while(--L);K=c-tt,gt=rt}}}else if(K+=E-L,L<F){F-=L;do rt[c++]=M[K++];while(--L);K=c-tt,gt=rt}for(;F>2;)rt[c++]=gt[K++],rt[c++]=gt[K++],rt[c++]=gt[K++],F-=3;F&&(rt[c++]=gt[K++],F>1&&(rt[c++]=gt[K++]))}else{K=c-tt;do rt[c++]=rt[K++],rt[c++]=rt[K++],rt[c++]=rt[K++],F-=3;while(F>2);F&&(rt[c++]=rt[K++],F>1&&(rt[c++]=rt[K++]))}}else if((L&64)===0){Y=R[(Y&65535)+(w&(1<<L)-1)];continue i}else{t.msg="invalid distance code",ot.mode=Tm;break t}break}}else if((L&64)===0){Y=H[(Y&65535)+(w&(1<<L)-1)];continue e}else if(L&32){ot.mode=oz;break t}else{t.msg="invalid literal/length code",ot.mode=Tm;break t}break}}while(s<r&&c<d);F=z>>3,s-=F,z-=F<<3,w&=(1<<z)-1,t.next_in=s,t.next_out=c,t.avail_in=s<r?5+(r-s):5-(s-r),t.avail_out=c<d?257+(d-c):257-(c-d),ot.hold=w,ot.bits=z};const Vc=15,qv=852,jv=592,Vv=0,jy=1,Zv=2,hz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dz=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),mz=(i,t,e,s,r,c,f,d)=>{const _=d.bits;let y=0,v=0,E=0,M=0,w=0,z=0,H=0,R=0,D=0,N=0,Y,L,F,tt,K,gt=null,pt;const rt=new Uint16Array(Vc+1),ot=new Uint16Array(Vc+1);let Tt=null,jt,Pt,$t;for(y=0;y<=Vc;y++)rt[y]=0;for(v=0;v<s;v++)rt[t[e+v]]++;for(w=_,M=Vc;M>=1&&rt[M]===0;M--);if(w>M&&(w=M),M===0)return r[c++]=1<<24|64<<16|0,r[c++]=1<<24|64<<16|0,d.bits=1,0;for(E=1;E<M&&rt[E]===0;E++);for(w<E&&(w=E),R=1,y=1;y<=Vc;y++)if(R<<=1,R-=rt[y],R<0)return-1;if(R>0&&(i===Vv||M!==1))return-1;for(ot[1]=0,y=1;y<Vc;y++)ot[y+1]=ot[y]+rt[y];for(v=0;v<s;v++)t[e+v]!==0&&(f[ot[t[e+v]]++]=v);if(i===Vv?(gt=Tt=f,pt=20):i===jy?(gt=hz,Tt=fz,pt=257):(gt=dz,Tt=pz,pt=0),N=0,v=0,y=E,K=c,z=w,H=0,F=-1,D=1<<w,tt=D-1,i===jy&&D>qv||i===Zv&&D>jv)return 1;for(;;){jt=y-H,f[v]+1<pt?(Pt=0,$t=f[v]):f[v]>=pt?(Pt=Tt[f[v]-pt],$t=gt[f[v]-pt]):(Pt=96,$t=0),Y=1<<y-H,L=1<<z,E=L;do L-=Y,r[K+(N>>H)+L]=jt<<24|Pt<<16|$t|0;while(L!==0);for(Y=1<<y-1;N&Y;)Y>>=1;if(Y!==0?(N&=Y-1,N+=Y):N=0,v++,--rt[y]===0){if(y===M)break;y=t[e+f[v]]}if(y>w&&(N&tt)!==F){for(H===0&&(H=w),K+=E,z=y-H,R=1<<z;z+H<M&&(R-=rt[z+H],!(R<=0));)z++,R<<=1;if(D+=1<<z,i===jy&&D>qv||i===Zv&&D>jv)return 1;F=N&tt,r[F]=w<<24|z<<16|K-c|0}}return N!==0&&(r[K+N]=y-H<<24|64<<16|0),d.bits=w,0};var ld=mz;const yz=0,U2=1,D2=2,{Z_FINISH:kv,Z_BLOCK:gz,Z_TREES:Mm,Z_OK:Co,Z_STREAM_END:_z,Z_NEED_DICT:vz,Z_STREAM_ERROR:Fa,Z_DATA_ERROR:H2,Z_MEM_ERROR:N2,Z_BUF_ERROR:xz,Z_DEFLATED:Qv}=wd,s0=16180,Fv=16181,Kv=16182,Pv=16183,Wv=16184,Iv=16185,Jv=16186,$v=16187,tx=16188,ex=16189,Km=16190,Jl=16191,Vy=16192,ix=16193,Zy=16194,nx=16195,ax=16196,sx=16197,lx=16198,Cm=16199,zm=16200,rx=16201,ux=16202,ox=16203,cx=16204,hx=16205,ky=16206,fx=16207,dx=16208,$e=16209,G2=16210,Y2=16211,bz=852,Sz=592,Az=15,Ez=Az,px=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function wz(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bo=i=>{if(!i)return 1;const t=i.state;return!t||t.strm!==i||t.mode<s0||t.mode>Y2?1:0},L2=i=>{if(Bo(i))return Fa;const t=i.state;return i.total_in=i.total_out=t.total=0,i.msg="",t.wrap&&(i.adler=t.wrap&1),t.mode=s0,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(bz),t.distcode=t.distdyn=new Int32Array(Sz),t.sane=1,t.back=-1,Co},X2=i=>{if(Bo(i))return Fa;const t=i.state;return t.wsize=0,t.whave=0,t.wnext=0,L2(i)},q2=(i,t)=>{let e;if(Bo(i))return Fa;const s=i.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Fa:(s.window!==null&&s.wbits!==t&&(s.window=null),s.wrap=e,s.wbits=t,X2(i))},j2=(i,t)=>{if(!i)return Fa;const e=new wz;i.state=e,e.strm=i,e.window=null,e.mode=s0;const s=q2(i,t);return s!==Co&&(i.state=null),s},Tz=i=>j2(i,Ez);let mx=!0,Qy,Fy;const Mz=i=>{if(mx){Qy=new Int32Array(512),Fy=new Int32Array(32);let t=0;for(;t<144;)i.lens[t++]=8;for(;t<256;)i.lens[t++]=9;for(;t<280;)i.lens[t++]=7;for(;t<288;)i.lens[t++]=8;for(ld(U2,i.lens,0,288,Qy,0,i.work,{bits:9}),t=0;t<32;)i.lens[t++]=5;ld(D2,i.lens,0,32,Fy,0,i.work,{bits:5}),mx=!1}i.lencode=Qy,i.lenbits=9,i.distcode=Fy,i.distbits=5},V2=(i,t,e,s)=>{let r;const c=i.state;return c.window===null&&(c.wsize=1<<c.wbits,c.wnext=0,c.whave=0,c.window=new Uint8Array(c.wsize)),s>=c.wsize?(c.window.set(t.subarray(e-c.wsize,e),0),c.wnext=0,c.whave=c.wsize):(r=c.wsize-c.wnext,r>s&&(r=s),c.window.set(t.subarray(e-s,e-s+r),c.wnext),s-=r,s?(c.window.set(t.subarray(e-s,e),0),c.wnext=s,c.whave=c.wsize):(c.wnext+=r,c.wnext===c.wsize&&(c.wnext=0),c.whave<c.wsize&&(c.whave+=r))),0},Cz=(i,t)=>{let e,s,r,c,f,d,_,y,v,E,M,w,z,H,R=0,D,N,Y,L,F,tt,K,gt;const pt=new Uint8Array(4);let rt,ot;const Tt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bo(i)||!i.output||!i.input&&i.avail_in!==0)return Fa;e=i.state,e.mode===Jl&&(e.mode=Vy),f=i.next_out,r=i.output,_=i.avail_out,c=i.next_in,s=i.input,d=i.avail_in,y=e.hold,v=e.bits,E=d,M=_,gt=Co;t:for(;;)switch(e.mode){case s0:if(e.wrap===0){e.mode=Vy;break}for(;v<16;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}if(e.wrap&2&&y===35615){e.wbits===0&&(e.wbits=15),e.check=0,pt[0]=y&255,pt[1]=y>>>8&255,e.check=Ki(e.check,pt,2,0),y=0,v=0,e.mode=Fv;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((y&255)<<8)+(y>>8))%31){i.msg="incorrect header check",e.mode=$e;break}if((y&15)!==Qv){i.msg="unknown compression method",e.mode=$e;break}if(y>>>=4,v-=4,K=(y&15)+8,e.wbits===0&&(e.wbits=K),K>15||K>e.wbits){i.msg="invalid window size",e.mode=$e;break}e.dmax=1<<e.wbits,e.flags=0,i.adler=e.check=1,e.mode=y&512?ex:Jl,y=0,v=0;break;case Fv:for(;v<16;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}if(e.flags=y,(e.flags&255)!==Qv){i.msg="unknown compression method",e.mode=$e;break}if(e.flags&57344){i.msg="unknown header flags set",e.mode=$e;break}e.head&&(e.head.text=y>>8&1),e.flags&512&&e.wrap&4&&(pt[0]=y&255,pt[1]=y>>>8&255,e.check=Ki(e.check,pt,2,0)),y=0,v=0,e.mode=Kv;case Kv:for(;v<32;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}e.head&&(e.head.time=y),e.flags&512&&e.wrap&4&&(pt[0]=y&255,pt[1]=y>>>8&255,pt[2]=y>>>16&255,pt[3]=y>>>24&255,e.check=Ki(e.check,pt,4,0)),y=0,v=0,e.mode=Pv;case Pv:for(;v<16;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}e.head&&(e.head.xflags=y&255,e.head.os=y>>8),e.flags&512&&e.wrap&4&&(pt[0]=y&255,pt[1]=y>>>8&255,e.check=Ki(e.check,pt,2,0)),y=0,v=0,e.mode=Wv;case Wv:if(e.flags&1024){for(;v<16;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}e.length=y,e.head&&(e.head.extra_len=y),e.flags&512&&e.wrap&4&&(pt[0]=y&255,pt[1]=y>>>8&255,e.check=Ki(e.check,pt,2,0)),y=0,v=0}else e.head&&(e.head.extra=null);e.mode=Iv;case Iv:if(e.flags&1024&&(w=e.length,w>d&&(w=d),w&&(e.head&&(K=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(s.subarray(c,c+w),K)),e.flags&512&&e.wrap&4&&(e.check=Ki(e.check,s,w,c)),d-=w,c+=w,e.length-=w),e.length))break t;e.length=0,e.mode=Jv;case Jv:if(e.flags&2048){if(d===0)break t;w=0;do K=s[c+w++],e.head&&K&&e.length<65536&&(e.head.name+=String.fromCharCode(K));while(K&&w<d);if(e.flags&512&&e.wrap&4&&(e.check=Ki(e.check,s,w,c)),d-=w,c+=w,K)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=$v;case $v:if(e.flags&4096){if(d===0)break t;w=0;do K=s[c+w++],e.head&&K&&e.length<65536&&(e.head.comment+=String.fromCharCode(K));while(K&&w<d);if(e.flags&512&&e.wrap&4&&(e.check=Ki(e.check,s,w,c)),d-=w,c+=w,K)break t}else e.head&&(e.head.comment=null);e.mode=tx;case tx:if(e.flags&512){for(;v<16;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}if(e.wrap&4&&y!==(e.check&65535)){i.msg="header crc mismatch",e.mode=$e;break}y=0,v=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),i.adler=e.check=0,e.mode=Jl;break;case ex:for(;v<32;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}i.adler=e.check=px(y),y=0,v=0,e.mode=Km;case Km:if(e.havedict===0)return i.next_out=f,i.avail_out=_,i.next_in=c,i.avail_in=d,e.hold=y,e.bits=v,vz;i.adler=e.check=1,e.mode=Jl;case Jl:if(t===gz||t===Mm)break t;case Vy:if(e.last){y>>>=v&7,v-=v&7,e.mode=ky;break}for(;v<3;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}switch(e.last=y&1,y>>>=1,v-=1,y&3){case 0:e.mode=ix;break;case 1:if(Mz(e),e.mode=Cm,t===Mm){y>>>=2,v-=2;break t}break;case 2:e.mode=ax;break;case 3:i.msg="invalid block type",e.mode=$e}y>>>=2,v-=2;break;case ix:for(y>>>=v&7,v-=v&7;v<32;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}if((y&65535)!==(y>>>16^65535)){i.msg="invalid stored block lengths",e.mode=$e;break}if(e.length=y&65535,y=0,v=0,e.mode=Zy,t===Mm)break t;case Zy:e.mode=nx;case nx:if(w=e.length,w){if(w>d&&(w=d),w>_&&(w=_),w===0)break t;r.set(s.subarray(c,c+w),f),d-=w,c+=w,_-=w,f+=w,e.length-=w;break}e.mode=Jl;break;case ax:for(;v<14;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}if(e.nlen=(y&31)+257,y>>>=5,v-=5,e.ndist=(y&31)+1,y>>>=5,v-=5,e.ncode=(y&15)+4,y>>>=4,v-=4,e.nlen>286||e.ndist>30){i.msg="too many length or distance symbols",e.mode=$e;break}e.have=0,e.mode=sx;case sx:for(;e.have<e.ncode;){for(;v<3;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}e.lens[Tt[e.have++]]=y&7,y>>>=3,v-=3}for(;e.have<19;)e.lens[Tt[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,rt={bits:e.lenbits},gt=ld(yz,e.lens,0,19,e.lencode,0,e.work,rt),e.lenbits=rt.bits,gt){i.msg="invalid code lengths set",e.mode=$e;break}e.have=0,e.mode=lx;case lx:for(;e.have<e.nlen+e.ndist;){for(;R=e.lencode[y&(1<<e.lenbits)-1],D=R>>>24,N=R>>>16&255,Y=R&65535,!(D<=v);){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}if(Y<16)y>>>=D,v-=D,e.lens[e.have++]=Y;else{if(Y===16){for(ot=D+2;v<ot;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}if(y>>>=D,v-=D,e.have===0){i.msg="invalid bit length repeat",e.mode=$e;break}K=e.lens[e.have-1],w=3+(y&3),y>>>=2,v-=2}else if(Y===17){for(ot=D+3;v<ot;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}y>>>=D,v-=D,K=0,w=3+(y&7),y>>>=3,v-=3}else{for(ot=D+7;v<ot;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}y>>>=D,v-=D,K=0,w=11+(y&127),y>>>=7,v-=7}if(e.have+w>e.nlen+e.ndist){i.msg="invalid bit length repeat",e.mode=$e;break}for(;w--;)e.lens[e.have++]=K}}if(e.mode===$e)break;if(e.lens[256]===0){i.msg="invalid code -- missing end-of-block",e.mode=$e;break}if(e.lenbits=9,rt={bits:e.lenbits},gt=ld(U2,e.lens,0,e.nlen,e.lencode,0,e.work,rt),e.lenbits=rt.bits,gt){i.msg="invalid literal/lengths set",e.mode=$e;break}if(e.distbits=6,e.distcode=e.distdyn,rt={bits:e.distbits},gt=ld(D2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,rt),e.distbits=rt.bits,gt){i.msg="invalid distances set",e.mode=$e;break}if(e.mode=Cm,t===Mm)break t;case Cm:e.mode=zm;case zm:if(d>=6&&_>=258){i.next_out=f,i.avail_out=_,i.next_in=c,i.avail_in=d,e.hold=y,e.bits=v,cz(i,M),f=i.next_out,r=i.output,_=i.avail_out,c=i.next_in,s=i.input,d=i.avail_in,y=e.hold,v=e.bits,e.mode===Jl&&(e.back=-1);break}for(e.back=0;R=e.lencode[y&(1<<e.lenbits)-1],D=R>>>24,N=R>>>16&255,Y=R&65535,!(D<=v);){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}if(N&&(N&240)===0){for(L=D,F=N,tt=Y;R=e.lencode[tt+((y&(1<<L+F)-1)>>L)],D=R>>>24,N=R>>>16&255,Y=R&65535,!(L+D<=v);){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}y>>>=L,v-=L,e.back+=L}if(y>>>=D,v-=D,e.back+=D,e.length=Y,N===0){e.mode=hx;break}if(N&32){e.back=-1,e.mode=Jl;break}if(N&64){i.msg="invalid literal/length code",e.mode=$e;break}e.extra=N&15,e.mode=rx;case rx:if(e.extra){for(ot=e.extra;v<ot;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}e.length+=y&(1<<e.extra)-1,y>>>=e.extra,v-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=ux;case ux:for(;R=e.distcode[y&(1<<e.distbits)-1],D=R>>>24,N=R>>>16&255,Y=R&65535,!(D<=v);){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}if((N&240)===0){for(L=D,F=N,tt=Y;R=e.distcode[tt+((y&(1<<L+F)-1)>>L)],D=R>>>24,N=R>>>16&255,Y=R&65535,!(L+D<=v);){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}y>>>=L,v-=L,e.back+=L}if(y>>>=D,v-=D,e.back+=D,N&64){i.msg="invalid distance code",e.mode=$e;break}e.offset=Y,e.extra=N&15,e.mode=ox;case ox:if(e.extra){for(ot=e.extra;v<ot;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}e.offset+=y&(1<<e.extra)-1,y>>>=e.extra,v-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){i.msg="invalid distance too far back",e.mode=$e;break}e.mode=cx;case cx:if(_===0)break t;if(w=M-_,e.offset>w){if(w=e.offset-w,w>e.whave&&e.sane){i.msg="invalid distance too far back",e.mode=$e;break}w>e.wnext?(w-=e.wnext,z=e.wsize-w):z=e.wnext-w,w>e.length&&(w=e.length),H=e.window}else H=r,z=f-e.offset,w=e.length;w>_&&(w=_),_-=w,e.length-=w;do r[f++]=H[z++];while(--w);e.length===0&&(e.mode=zm);break;case hx:if(_===0)break t;r[f++]=e.length,_--,e.mode=zm;break;case ky:if(e.wrap){for(;v<32;){if(d===0)break t;d--,y|=s[c++]<<v,v+=8}if(M-=_,i.total_out+=M,e.total+=M,e.wrap&4&&M&&(i.adler=e.check=e.flags?Ki(e.check,r,M,f-M):vd(e.check,r,M,f-M)),M=_,e.wrap&4&&(e.flags?y:px(y))!==e.check){i.msg="incorrect data check",e.mode=$e;break}y=0,v=0}e.mode=fx;case fx:if(e.wrap&&e.flags){for(;v<32;){if(d===0)break t;d--,y+=s[c++]<<v,v+=8}if(e.wrap&4&&y!==(e.total&4294967295)){i.msg="incorrect length check",e.mode=$e;break}y=0,v=0}e.mode=dx;case dx:gt=_z;break t;case $e:gt=H2;break t;case G2:return N2;case Y2:default:return Fa}return i.next_out=f,i.avail_out=_,i.next_in=c,i.avail_in=d,e.hold=y,e.bits=v,(e.wsize||M!==i.avail_out&&e.mode<$e&&(e.mode<ky||t!==kv))&&V2(i,i.output,i.next_out,M-i.avail_out),E-=i.avail_in,M-=i.avail_out,i.total_in+=E,i.total_out+=M,e.total+=M,e.wrap&4&&M&&(i.adler=e.check=e.flags?Ki(e.check,r,M,i.next_out-M):vd(e.check,r,M,i.next_out-M)),i.data_type=e.bits+(e.last?64:0)+(e.mode===Jl?128:0)+(e.mode===Cm||e.mode===Zy?256:0),(E===0&&M===0||t===kv)&&gt===Co&&(gt=xz),gt},zz=i=>{if(Bo(i))return Fa;let t=i.state;return t.window&&(t.window=null),i.state=null,Co},Rz=(i,t)=>{if(Bo(i))return Fa;const e=i.state;return(e.wrap&2)===0?Fa:(e.head=t,t.done=!1,Co)},Bz=(i,t)=>{const e=t.length;let s,r,c;return Bo(i)||(s=i.state,s.wrap!==0&&s.mode!==Km)?Fa:s.mode===Km&&(r=1,r=vd(r,t,e,0),r!==s.check)?H2:(c=V2(i,t,e,e),c?(s.mode=G2,N2):(s.havedict=1,Co))};var Oz=X2,Uz=q2,Dz=L2,Hz=Tz,Nz=j2,Gz=Cz,Yz=zz,Lz=Rz,Xz=Bz,qz="pako inflate (from Nodeca project)",tr={inflateReset:Oz,inflateReset2:Uz,inflateResetKeep:Dz,inflateInit:Hz,inflateInit2:Nz,inflate:Gz,inflateEnd:Yz,inflateGetHeader:Lz,inflateSetDictionary:Xz,inflateInfo:qz};function jz(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Vz=jz;const Z2=Object.prototype.toString,{Z_NO_FLUSH:Zz,Z_FINISH:kz,Z_OK:Sd,Z_STREAM_END:Ky,Z_NEED_DICT:Py,Z_STREAM_ERROR:Qz,Z_DATA_ERROR:yx,Z_MEM_ERROR:Fz}=wd;function Cd(i){this.options=a0.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(i&&i.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new B2,this.strm.avail_out=0;let e=tr.inflateInit2(this.strm,t.windowBits);if(e!==Sd)throw new Error(To[e]);if(this.header=new Vz,tr.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=bd.string2buf(t.dictionary):Z2.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=tr.inflateSetDictionary(this.strm,t.dictionary),e!==Sd)))throw new Error(To[e])}Cd.prototype.push=function(i,t){const e=this.strm,s=this.options.chunkSize,r=this.options.dictionary;let c,f,d;if(this.ended)return!1;for(t===~~t?f=t:f=t===!0?kz:Zz,Z2.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(s),e.next_out=0,e.avail_out=s),c=tr.inflate(e,f),c===Py&&r&&(c=tr.inflateSetDictionary(e,r),c===Sd?c=tr.inflate(e,f):c===yx&&(c=Py));e.avail_in>0&&c===Ky&&e.state.wrap>0&&i[e.next_in]!==0;)tr.inflateReset(e),c=tr.inflate(e,f);switch(c){case Qz:case yx:case Py:case Fz:return this.onEnd(c),this.ended=!0,!1}if(d=e.avail_out,e.next_out&&(e.avail_out===0||c===Ky))if(this.options.to==="string"){let _=bd.utf8border(e.output,e.next_out),y=e.next_out-_,v=bd.buf2string(e.output,_);e.next_out=y,e.avail_out=s-y,y&&e.output.set(e.output.subarray(_,_+y),0),this.onData(v)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(c===Sd&&d===0)){if(c===Ky)return c=tr.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Cd.prototype.onData=function(i){this.chunks.push(i)};Cd.prototype.onEnd=function(i){i===Sd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a0.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function n_(i,t){const e=new Cd(t);if(e.push(i),e.err)throw e.msg||To[e.err];return e.result}function Kz(i,t){return t=t||{},t.raw=!0,n_(i,t)}var Pz=Cd,Wz=n_,Iz=Kz,Jz=n_,$z={Inflate:Pz,inflate:Wz,inflateRaw:Iz,ungzip:Jz};const{Deflate:t8,deflate:e8,deflateRaw:i8,gzip:n8}=uz,{Inflate:a8,inflate:s8,inflateRaw:l8,ungzip:r8}=$z;var u8=t8,o8=e8,c8=i8,h8=n8,f8=a8,d8=s8,p8=l8,m8=r8,y8=wd,g8={Deflate:u8,deflate:o8,deflateRaw:c8,gzip:h8,Inflate:f8,inflate:d8,inflateRaw:p8,ungzip:m8,constants:y8};const k2=(i,t)=>{let e;for(let s=t.length-1;s>=0&&(e=t[s],!(e.firstgid<=i));s--);return e},_8=i=>{if(typeof i.data!="string")return i.data;if(i.encoding==="base64"){let t=Rv.Buffer.from(i.data,"base64");i.compression==="gzip"&&(t=Rv.Buffer.from(g8.ungzip(t)));const e=[];for(let s=0;s<t.length;s+=4)e.push(t.readUInt32LE(s));return e}return[]},Q2=i=>i&536870911,F2=(i,t,e)=>{if(!t.tiles)return null;const s=t.tiles.find(d=>d.id===i-1)?.animation;if(!s||s.length<2)return null;const c=s.reduce((d,_)=>d+_.duration,0)/s.length/e,f=s[1].tileid-s[0].tileid;return f===1?{animX:t.tilewidth,animCountX:s.length,animDivisor:c}:f===t.columns?{animY:t.tileheight,animCountY:s.length,animDivisor:c}:(console.warn(`Cannot render an animation where the tiles are laid out sparsely, 

    use frames that follow each other either horizontally or vertically. 

    Tileset: ${t.name}`),null)},v8=2147483648,x8=1073741824,b8=536870912,K2=i=>{const t=(i&v8)!==0,e=(i&x8)!==0;if((i&b8)!==0){if(!t&&!e)return 1;if(t&&!e)return 5;if(!t&&e)return 3;if(t&&e)return 7}else{if(!t&&!e)return 0;if(t&&!e)return 4;if(!t&&e)return 2;if(t&&e)return 6}return 0},S8=({layerIndex:i,tilesetTextures:t,mapData:e,animationInterval:s=100})=>{const r=Vt.useRef(null),c=e.layers[i];if(c.type!==km.tilelayer)throw new Error(`ObjectGroupLayer should only receive layer of type ${km.tilelayer}`);const[f,d]=Vt.useState(!1);return Vt.useEffect(()=>{const _=r.current;if(!_)return;let y=!1;_8(c).map((E,M)=>{const w=Q2(E),z=k2(w,e.tilesets);if(!z||E===0)return null;const H=e.width;let R=M%H*e.tilewidth,D=Math.floor(M/H)*e.tileheight;R+=e.tilewidth-z.tilewidth,D+=e.tileheight-z.tileheight;const N=w-z.firstgid+1;if(t[`${z.name}-${N}`]){const Y=c.opacity,L=K2(E),F=F2(N,z,s);F&&(y=!0),_.tile(t[`${z.name}-${N}`],R,D,{alpha:Y,rotate:L,...F})}else console.warn(`Could not find tile named: ${z.name}-${N}`,Object.entries(t).map(Y=>Y))}),d(y)},[s,c,e,t]),Vt.useEffect(()=>{const _=r.current;if(!_)return;let y;f||clearInterval(y);let v=0;return y=setInterval(()=>{_.tileAnim=[v,v],v++},s),()=>{clearInterval(y)}},[s,f]),Le.jsx(o2,{ref:r,label:c.name})},A8=({layerIndex:i,tilesetTextures:t,mapData:e,animationInterval:s=100})=>{const r=Vt.useRef(null),c=e.layers[i];if(c.type!==km.objectgroup)throw new Error(`ObjectGroupLayer should only receive layer of type ${km.objectgroup}`);const[f,d]=Vt.useState(!1);return Vt.useEffect(()=>{const _=r.current;if(!_)return;let y=!1;c.objects.map(E=>{const{gid:M,visible:w,x:z}=E;if(!w||!M)return null;const H=Q2(M);H===0&&console.log(H);const R=k2(H,e.tilesets);if(!R||M===0)return null;let{y:D}=E;D+=-E.height;const N=H-R.firstgid+1;if(t[`${R.name}-${N}`]){const Y=c.opacity,L=K2(M),F=F2(N,R,s);F&&(y=!0),_.tile(t[`${R.name}-${N}`],z,D,{alpha:Y,rotate:L,...F})}else console.warn(`Could not find ${R.name}-${N}`,t)}),d(y)},[s,c,e,t]),Vt.useEffect(()=>{const _=r.current;if(!_)return;let y;f||clearInterval(y);let v=0;return y=setInterval(()=>{_.tileAnim=[v,v],v++},s),()=>{clearInterval(y)}},[s,f]),Le.jsx(o2,{ref:r,label:c.name})};Ro({TilingSprite:qM});const E8=i=>{const[t,e]=Vt.useState(Zt.EMPTY);return Vt.useEffect(()=>{t===Zt.EMPTY&&ir.load(i.src).then(s=>{e(s)})},[i.src,t]),Le.jsx("pixiTilingSprite",{...i,texture:t})},w8=({imageBasePath:i,layerData:t,width:e,height:s})=>{const{cameraX:r}=sr(),c=sr(dd.worldWidth)??0,f=sr(dd.worldHeight)??0,d=-r*(t.parallaxx??1);return Le.jsx(E8,{width:e??c,height:s??f,src:`${i}${t.image}`,label:t.name,alpha:t.opacity,tilePosition:{x:d,y:0}})};Ro({Container:rn,Text});const T8=({renderLayers:i=s=>s,width:t,children:e})=>{const{mapData:s}=sr(),r=W4(s?.tilesets??[],D8),c=Vt.useMemo(()=>!s||!r?null:s.layers.map((f,d)=>{if(!f.visible)return null;switch(f.type){case"tilelayer":return Le.jsx(S8,{layerIndex:d,mapData:s,tilesetTextures:r},f.name);case"imagelayer":return Le.jsx(w8,{imageBasePath:H8,width:t,layerData:f},f.name);case"objectgroup":return Le.jsx(A8,{layerIndex:d,mapData:s,tilesetTextures:r},f.name);default:return console.warn(`Unknown layer type ${JSON.stringify(f)}`),null}}),[s,r,t]);return r?Le.jsxs("pixiContainer",{label:"TiledTilemap",children:[i(c),e]}):null};Ro({AnimatedSprite:jm});const M8=()=>Le.jsx("pixiContainer",{label:"actorLayer"}),C8=()=>{const i=sr(dd.worldWidth)??0,t=Vt.useCallback(e=>e?e.reduce((s,r)=>(r&&(s.push(r),r.key==="floor"&&s.push(Le.jsx(M8,{},"actors"))),s),[]):null,[]);return i?Le.jsx(T8,{renderLayers:t,width:i}):null},z8=(i,t)=>{const[e,s]=Vt.useState();return Vt.useEffect(()=>{const r=`${i}${t}`;ir.load(r).then(async c=>{await Promise.all(c.tilesets.map(async(f,d)=>{c.tilesets[d]=await B8(f,i)})),s(c)})},[i,t]),e},R8=i=>"source"in i,B8=async(i,t)=>{if(R8(i)){if(!i.source.toLowerCase().endsWith("tsj")&&!i.source.toLowerCase().endsWith("json"))throw new Error(`Only .tjs or .json tileset imports are supported. ${i.source} is not that!`);const s=await(await fetch(`${t}${i.source}`)).json();return{...i,...s}}return i};Ro({Graphics:hd});const O8=256,Wy=176,Iy=2;Sa.defaultOptions.scaleMode="linear";const U8="/react-pixi-tilemap-example/environment/gothic/",D8="/react-pixi-tilemap-example/environment/gothic/tilesets",H8="/environment/gothic/";function N8(){const i=z8(U8,"gothic-level1.json"),{setMapData:t}=sr();return Vt.useEffect(()=>{i&&t(i)},[i,t]),i?Le.jsx(Le.Fragment,{children:Le.jsxs(n4,{width:O8*Iy,height:Wy*Iy,children:[!1,Le.jsx("pixiContainer",{label:"Application",scale:Iy,children:Le.jsx(P4,{screenWidth:Wy,screenHeight:Wy,children:Le.jsx(C8,{})})})]})}):null}VS.createRoot(document.getElementById("root")).render(Le.jsx(Vt.StrictMode,{children:Le.jsx(N8,{})}));export{Ox as $,hb as A,Ri as B,rn as C,bi as D,Mt as E,zo as F,sh as G,Qa as H,XA as I,d1 as J,Jc as K,cE as L,re as M,xE as N,xi as O,_e as P,Qe as Q,lg as R,ib as S,er as T,Lm as U,YE as V,m1 as W,ay as X,y1 as Y,VA as Z,Bi as _,Es as a,fb as a0,le as a1,Be as a2,VE as a3,bb as a4,sw as a5,Rw as a6,Ow as a7,Gw as a8,Lw as a9,Xw as aa,Gm as ab,Om as ac,dg as ad,iv as ae,pu as af,Mb as ag,B1 as ah,z1 as ai,Ym as aj,av as ak,VT as al,si as am,hd as an,cA as ao,Rb as ap,iw as b,du as c,Qc as d,di as e,R1 as f,$E as g,Yg as h,ub as i,jx as j,Sa as k,Ad as l,tv as m,zw as n,Bw as o,Hw as p,Yw as q,AA as r,lh as s,Zt as t,oA as u,$m as v,je as w,jw as x,nr as y,zx as z};
